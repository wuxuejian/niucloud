import{a1 as N,d as A,K,n as q,m as H,q as M,r as R,c as n,a as e,u as o,t as r,B as h,e as _,w as g,A as v,F,G as $,S as G,y as O,a2 as P,E as T,Z as W,a3 as Z,a4 as J,p as Q,g as X,h as i,R as j,i as Y,a5 as tt,a6 as et,U as st,W as y,a7 as ot}from"./index-d1ed2ead.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                *//* empty css                  */import{_ as at}from"./icon-addon-339e16d0.js";import{_ as nt}from"./member_head-a897263d.js";import{_ as it}from"./empty-77b60adb.js";import{g as pt}from"./addon-e2495bdc.js";import{_ as rt}from"./_plugin-vue_export-helper-c27b6911.js";function lt(l){return N.get("home/site",{params:l})}const w=l=>(Q("data-v-c8fc4f44"),l=l(),X(),l),ct={class:"flex justify-between items-center py-[24px] pl-[62px] pr-[64px] home-head"},dt={key:0,class:"flex items-center"},_t=["src"],mt={key:1,class:"w-[32x] h-[32px] rounded-full",src:at,alt:""},xt={class:"ml-[10px] text-[16px] font-bold"},ut={class:"flex items-center"},ft={class:"mr-[12px] text-[14px]"},ht={class:"w-[1200px] m-auto mt-[62px]"},gt={class:"flex justify-between items-center"},vt=w(()=>e("span",{class:"text-[24px] font-bold"},"站点列表",-1)),yt={class:"flex justify-between items-center mt-[18px]"},wt={class:"flex items-center flex-wrap text-[14px] w-[800px]"},kt=["onClick"],bt={class:"min-h-[580px]"},Ct={class:"flex flex-wrap mt-[30px]"},St=["onClick"],It={class:"flex items-center px-[24px] pt-[22px] pb-[16px] bg-[#F0F2F4] home-item-head"},Ft=["src"],$t={key:1,class:"w-[48px] h-[48px] mr-[15px] rounded-[50%] overflow-hidden",src:nt},jt={class:"flex flex-col flex-1 justify-center"},Et={class:"flex items-center flex-wrap"},Vt={class:"text-[16px] text-[#000] max-w-[145px] font-bold truncate mr-[10px]"},zt={key:0,class:"flex items-center justify-center min-w-[42px] h-[18px] bg-[#FF5500] rounded-tl-md rounded-br-md items-tab"},Dt={class:"text-[12px] text-[#fff]"},Bt={class:"text-[12px] mt-[3px] text-[#555]"},Ut={class:"px-[24px] py-[20px] text-[#6D7278]"},Lt={class:"text-[14px]"},Nt={class:"text-[14px] mt-[2px]"},At={key:0,class:"m-auto"},Kt=w(()=>e("img",{src:it},null,-1)),qt=w(()=>e("p",{class:"text-center text-gray-400"},"暂无站点",-1)),Ht=[Kt,qt],Mt={class:"mt-[16px] flex justify-end"},Rt=A({__name:"index",setup(l){const k=K(),a=q({params:{keywords:"",page:1,limit:12,app:"",sort:!1},loading:!1,tableData:[],total:0}),{params:m,loading:b,tableData:C}=H(a),c=(p=1)=>{a.params.page=p,a.loading=!0,lt(a.params).then(s=>{a.tableData=s.data.data,a.total=s.data.total,a.loading=!1}).catch(()=>{a.loading=!1})};c();const S=p=>{a.params.app=p,c()},x=M(()=>st().website),E=p=>{y.set({key:"siteId",data:p.site_id}),y.set({key:"siteInfo",data:p}),y.set({key:"comparisonSiteIdStorage",data:p.site_id}),location.href=`${location.origin}/site/`},V=()=>{k.logout()},I=R([]);pt().then(({data:p})=>{const s=[];Object.keys(p).forEach(f=>{const u=p[f];u.type=="app"&&s.push(u)}),I.value=s}).catch();const z=()=>{P("加班加点研发中...")};return(p,s)=>{const f=T,u=ot,D=W,B=Z,U=J;return i(),n("div",null,[e("div",ct,[o(x)?(i(),n("div",dt,[o(x).icon?(i(),n("img",{key:0,class:"w-[32x] h-[32px] rounded-full",src:o(j)(o(x).icon),alt:""},null,8,_t)):(i(),n("img",mt)),e("span",xt,r(o(x).site_name),1)])):h("",!0),e("div",ut,[e("span",ft,r(o(k).userInfo.username),1),e("span",{onClick:s[0]||(s[0]=t=>V()),class:"text-[14px] cursor-pointer text-[var(--el-color-primary)]"},"退出")])]),e("div",ht,[e("div",gt,[vt,_(f,{type:"primary",class:"w-[90px] !h-[34px]",onClick:z},{default:g(()=>[Y("创建站点")]),_:1})]),e("div",yt,[e("div",wt,[e("span",{class:v(["mr-[12px] cursor-pointer",{"text-[var(--el-color-primary)]":o(m).app==""}]),onClick:s[1]||(s[1]=t=>S(""))},"所有应用",2),(i(!0),n(F,null,$(I.value,(t,d)=>(i(),n("span",{class:v(["mr-[12px] cursor-pointer",{"text-[var(--el-color-primary)]":o(m).app==t.key}]),onClick:L=>S(t.key),key:d},r(t.title),11,kt))),128))]),_(D,{modelValue:o(m).keywords,"onUpdate:modelValue":s[3]||(s[3]=t=>o(m).keywords=t),class:"!w-[300px] !h-[34px]",placeholder:"请输入要搜索的站点名称",onKeyup:s[4]||(s[4]=G(t=>c(),["enter","native"]))},{suffix:g(()=>[_(u,{onClick:s[2]||(s[2]=tt(t=>c(),["stop"])),class:"cursor-pointer"},{default:g(()=>[_(o(et))]),_:1})]),_:1},8,["modelValue"])]),e("div",bt,[O((i(),n("div",Ct,[(i(!0),n(F,null,$(o(C),(t,d)=>(i(),n("div",{key:d,onClick:L=>E(t),class:v(["home-item w-[285px] box-border mb-[20px] cursor-pointer",{"mr-[20px]":d==0||(d+1)%4!=0}])},[e("div",It,[t.logo?(i(),n("img",{key:0,class:"w-[48px] h-[48px] mr-[15px] rounded-[50%] overflow-hidden",src:o(j)(t.logo)},null,8,Ft)):(i(),n("img",$t)),e("div",jt,[e("div",Et,[e("span",Vt,r(t.site_name),1),t.app_name?(i(),n("div",zt,[e("span",Dt,r(t.app_name),1)])):h("",!0)]),e("span",Bt,r(t.create_time?t.create_time.split(" ")[0]:"--")+" 到 "+r(t.expire_time?t.expire_time.split(" ")[0]:"--"),1)])]),e("div",Ut,[e("p",Lt,"站点编号："+r(t.site_id),1),e("p",Nt,"站点套餐："+r(t.group_name||"--"),1)])],10,St))),128)),!o(C).length&&!o(b)?(i(),n("div",At,Ht)):h("",!0)])),[[U,o(b)]])]),e("div",Mt,[_(B,{"current-page":a.params.page,"onUpdate:current-page":s[5]||(s[5]=t=>a.params.page=t),"page-size":a.params.limit,"onUpdate:page-size":s[6]||(s[6]=t=>a.params.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:s[7]||(s[7]=t=>c()),onCurrentChange:c,"hide-on-single-page":!0},null,8,["current-page","page-size","total"])])])])}}});const ie=rt(Rt,[["__scopeId","data-v-c8fc4f44"]]);export{ie as default};
