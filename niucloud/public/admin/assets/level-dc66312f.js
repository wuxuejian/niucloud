import{d as D,x as $,f as R,n as U,r as j,h as m,c as p,e as t,w as o,a as c,t as s,u as r,i as f,q as a,P as q,s as I,F as g,Q as x,B as k,_ as J,E as K,J as S,K as G,L as Q,a0 as A,aa as H,ac as O,T as W,U as X}from"./index-ae2d9b78.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{J as Y,K as Z}from"./member-4f56ccd3.js";const ee={class:"main-container"},te={class:"flex justify-between items-center"},ae={class:"text-page-title"},le={class:"mt-[10px]"},ne={key:0},oe={key:0},re={class:"mt-[16px] flex justify-end"},Le=D({__name:"level",setup(ie){const C=$(),b=R(),E=C.meta.title,e=U({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{level_name:""}}),h=j(),L=i=>{i&&(i.resetFields(),u())},u=(i=1)=>{e.loading=!0,e.page=i,Y({page:e.page,limit:e.limit,...e.searchParam}).then(l=>{e.loading=!1,e.data=l.data.data,e.total=l.data.total}).catch(()=>{e.loading=!1})};u();const B=()=>{b.push({path:"/member/level_edit"})},N=i=>{b.push({path:"/member/level_edit",query:{id:i.level_id}})},P=i=>{J.confirm(a("memberLevelDeleteTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{Z(i).then(()=>{u()}).catch(()=>{})})};return(i,l)=>{const v=K,F=S,y=G,T=Q,w=A,_=H,V=O,z=W,M=X;return m(),p("div",ee,[t(w,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[c("div",te,[c("span",ae,s(r(E)),1),t(v,{type:"primary",onClick:B},{default:o(()=>[f(s(r(a)("addMemberLevel")),1)]),_:1})]),t(w,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:o(()=>[t(T,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:h},{default:o(()=>[t(y,{label:r(a)("levelName"),prop:"level_name"},{default:o(()=>[t(F,{modelValue:e.searchParam.level_name,"onUpdate:modelValue":l[0]||(l[0]=n=>e.searchParam.level_name=n),modelModifiers:{trim:!0},placeholder:r(a)("levelNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(y,null,{default:o(()=>[t(v,{type:"primary",onClick:l[1]||(l[1]=n=>u())},{default:o(()=>[f(s(r(a)("search")),1)]),_:1}),t(v,{onClick:l[2]||(l[2]=n=>L(h.value))},{default:o(()=>[f(s(r(a)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),c("div",le,[q((m(),I(V,{data:e.data,size:"large"},{empty:o(()=>[c("span",null,s(e.loading?"":r(a)("emptyData")),1)]),default:o(()=>[t(_,{prop:"level_name",label:r(a)("levelName"),"min-width":"120"},null,8,["label"]),t(_,{prop:"growth",label:r(a)("growth"),"min-width":"120"},null,8,["label"]),t(_,{label:r(a)("levelBenefits"),"min-width":"120","show-overflow-tooltip":!0},{default:o(({row:n})=>[c("div",null,[(m(!0),p(g,null,x(n.level_benefits,d=>(m(),p(g,null,[d.content?(m(),p("div",ne,s(d.content),1)):k("",!0)],64))),256))])]),_:1},8,["label"]),t(_,{label:r(a)("levelGifts"),"min-width":"120"},{default:o(({row:n})=>[c("div",null,[(m(!0),p(g,null,x(n.level_gifts,d=>(m(),p(g,null,[d.content?(m(),p("div",oe,s(d.content),1)):k("",!0)],64))),256))])]),_:1},8,["label"]),t(_,{prop:"member_num",label:r(a)("memberNumber"),"min-width":"120"},null,8,["label"]),t(_,{label:r(a)("operation"),align:"right",fixed:"right",width:"130"},{default:o(({row:n})=>[t(v,{type:"primary",link:"",onClick:d=>N(n)},{default:o(()=>[f(s(r(a)("edit")),1)]),_:2},1032,["onClick"]),t(v,{type:"primary",link:"",onClick:d=>P(n.level_id)},{default:o(()=>[f(s(r(a)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[M,e.loading]]),c("div",re,[t(z,{"current-page":e.page,"onUpdate:current-page":l[3]||(l[3]=n=>e.page=n),"page-size":e.limit,"onUpdate:page-size":l[4]||(l[4]=n=>e.limit=n),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:l[5]||(l[5]=n=>u()),onCurrentChange:u},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{Le as default};
