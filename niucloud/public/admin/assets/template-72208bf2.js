import{d as j,x as A,f as $,n as U,r as C,h as u,c as v,a as m,t as c,u as e,e as a,w as s,q as t,i as b,P as I,s as E,B as M,F as P,Q as R,aV as z,aD as O,aE as Q,E as W,aa as G,ab as H,ac as J,a0 as K,U as X}from"./index-ae2d9b78.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css                    *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     */import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-657c47c5.js";/* empty css                        *//* empty css                  *//* empty css                    */import{p as Z,q as ee}from"./wechat-7913b0c8.js";import{e as te}from"./notice-33fead28.js";import{_ as ae}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                */const ne={class:"main-container p-5 bg-[#fff] rounded-[4px]"},le={class:"flex justify-between items-center mb-[20px]"},se={class:"text-page-title"},oe={class:"flex justify-between items-center"},ce={class:"text-page-title"},ie={class:"mt-[10px]"},re={class:"flex items-center"},pe={class:"mr-[5px]"},de=j({__name:"template",setup(me){const T=A(),N=$(),y=T.meta.title,i=U({loading:!0,data:[]}),f=C("/channel/wechat/message"),V=o=>{N.push({path:f.value})},g=(o=1)=>{i.loading=!0,Z().then(l=>{i.loading=!1;let r=[];l.data.forEach(_=>{if(_.notice.length){const p=[];Object.keys(_.notice).forEach((d,k)=>{const h=_.notice[d];h.addon_name=_.title,p.push(h)}),p.length&&(p[0].rowspan=p.length,r=r.concat(p))}}),i.data=r}).catch(l=>{i.loading=!1})};g();const B=o=>{if(o.columnIndex===0)return o.row.rowspan?{rowspan:o.row.rowspan,colspan:1}:{rowspan:0,colspan:0}},x=(o=null)=>{const l=z.service({lock:!0,background:"rgba(0, 0, 0, 0)"});ee({keys:o?[o.key]:[]}).then(()=>{g(),l.close()}).catch(()=>{l.close()})},D=o=>{const l=C({key:"",type:"",status:0});l.value.status=o.is_wechat?0:1,l.value.key=o.key,l.value.type="wechat",i.loading=!0,te(l.value).then(r=>{g()}).catch(()=>{i.loading=!1})};return(o,l)=>{const r=O,_=Q,p=W,d=G,k=Y,h=H,q=J,F=K,L=X;return u(),v("div",ne,[m("div",le,[m("span",se,c(e(y)),1)]),a(_,{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=n=>f.value=n),class:"demo-tabs",onTabChange:V},{default:s(()=>[a(r,{label:e(t)("wechatAccessFlow"),name:"/channel/wechat"},null,8,["label"]),a(r,{label:e(t)("customMenu"),name:"/channel/wechat/menu"},null,8,["label"]),a(r,{label:e(t)("wechatTemplate"),name:"/channel/wechat/message"},null,8,["label"]),a(r,{label:e(t)("reply"),name:"/channel/wechat/reply"},null,8,["label"])]),_:1},8,["modelValue"]),a(F,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[m("div",oe,[m("span",ce,c(e(y)),1),a(p,{type:"primary",class:"w-[100px]",onClick:l[1]||(l[1]=n=>x())},{default:s(()=>[b(c(e(t)("batchAcquisition")),1)]),_:1})]),m("div",ie,[I((u(),E(q,{data:i.data,"span-method":B,size:"large"},{empty:s(()=>[m("span",null,c(i.loading?"":e(t)("emptyData")),1)]),default:s(()=>[a(d,{prop:"addon_name",label:e(t)("addon"),"min-width":"120"},null,8,["label"]),a(d,{prop:"name","show-overflow-tooltip":!0,label:e(t)("name"),"min-width":"150"},{default:s(({row:n})=>[m("div",re,[m("span",pe,c(n.name),1),n.wechat.tips?(u(),E(h,{key:0,content:n.wechat.tips,placement:"top"},{default:s(()=>[a(k,{name:"element-WarningFilled"})]),_:2},1032,["content"])):M("",!0)])]),_:1},8,["label"]),a(d,{label:e(t)("messageType"),"min-width":"100",align:"center"},{default:s(({row:n})=>[m("span",null,c(n.message_type==1?e(t)("buyerNews"):e(t)("sellerMessage")),1)]),_:1},8,["label"]),a(d,{label:e(t)("isStart"),"min-width":"100",align:"center"},{default:s(({row:n})=>[b(c(n.is_wechat==1?e(t)("startUsing"):e(t)("statusDeactivate")),1)]),_:1},8,["label"]),a(d,{label:e(t)("response"),"min-width":"180"},{default:s(({row:n})=>[(u(!0),v(P,null,R(n.wechat.content,(w,S)=>(u(),v("div",{key:"a"+S,class:"text-left"},c(w.join("ï¼š")),1))),128))]),_:1},8,["label"]),a(d,{prop:"wechat_template_id",label:e(t)("serialNumber"),"min-width":"140"},null,8,["label"]),a(d,{label:e(t)("operation"),fixed:"right",align:"right",width:"200"},{default:s(({row:n})=>[a(p,{type:"primary",link:"",onClick:w=>D(n)},{default:s(()=>[b(c(n.is_wechat==1?e(t)("close"):e(t)("open")),1)]),_:2},1032,["onClick"]),a(p,{type:"primary",link:"",onClick:w=>x(n)},{default:s(()=>[b(c(e(t)("regain")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[L,i.loading]])])]),_:1})])}}});const De=ae(de,[["__scopeId","data-v-daaec649"]]);export{De as default};
