import{d as R,x as U,f as W,r as k,n as $,Y as z,h as u,c as w,a as p,t as d,u as e,e as a,w as o,q as t,P,s as E,B as M,F as O,Q,i as v,aV as X,aD as Y,aE as G,X as H,aj as J,aa as K,ab as Z,E as ee,ac as ae,a0 as te,U as ne}from"./index-ae2d9b78.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css                    *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                  */import{_ as oe}from"./index.vue_vue_type_script_setup_true_lang-657c47c5.js";/* empty css                        *//* empty css                 *//* empty css                *//* empty css                    */import{e as le,f as se}from"./weapp-e840c1ab.js";import{e as ie}from"./notice-33fead28.js";import{_ as ce}from"./_plugin-vue_export-helper-c27b6911.js";const pe={class:"main-container p-5 bg-[#fff] rounded-[4px]"},re={class:"flex justify-between items-center mb-[20px]"},de={class:"text-page-title"},_e={class:"flex"},me={class:"text-base"},ue={class:"flex items-center"},fe={class:"mr-[5px]"},be=R({__name:"template",setup(he){const C=U(),T=W(),N=C.meta.title,f=k("/channel/weapp/message"),V=l=>{T.push({path:f.value})},i=$({loading:!0,data:[]}),b=(l=1)=>{i.loading=!0,le().then(s=>{i.loading=!1;let r=[];s.data.forEach(m=>{if(m.notice.length){const _=[];Object.keys(m.notice).forEach((h,x)=>{const c=m.notice[h];c.addon_name=m.title,_.push(c)}),_.length&&(_[0].rowspan=_.length,r=r.concat(_))}}),i.data=r}).catch(()=>{i.loading=!1})};b();const B=l=>{if(l.columnIndex===0)return l.row.rowspan?{rowspan:l.row.rowspan,colspan:1}:{rowspan:0,colspan:0}},D=(l=null)=>{const s=X.service({lock:!0,background:"rgba(0, 0, 0, 0)"});se({keys:l?[l.key]:[]}).then(()=>{b(),s.close()}).catch(()=>{s.close()})},F=l=>{const s=k({key:"",type:"",status:0});s.value.status=l.is_weapp?0:1,s.value.key=l.key,s.value.type="weapp",i.loading=!0,ie(s.value).then(r=>{b()}).catch(()=>{i.loading=!1})};return(l,s)=>{const r=Y,m=G,_=z("Warning"),h=H,x=J,c=K,L=oe,S=Z,y=ee,j=ae,A=te,q=ne;return u(),w("div",pe,[p("div",re,[p("span",de,d(e(N)),1)]),a(m,{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=n=>f.value=n),class:"demo-tabs",onTabChange:V},{default:o(()=>[a(r,{label:e(t)("weappAccessFlow"),name:"/channel/weapp"},null,8,["label"]),a(r,{label:e(t)("subscribeMessage"),name:"/channel/weapp/message"},null,8,["label"]),a(r,{label:e(t)("weappRelease"),name:"/channel/weapp/code"},null,8,["label"])]),_:1},8,["modelValue"]),a(A,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[a(x,{class:"warm-prompt !my-[20px]",type:"info"},{default:o(()=>[p("div",_e,[a(h,{class:"mr-2 mt-[2px]",size:"18"},{default:o(()=>[a(_)]),_:1}),p("div",null,[p("p",me,d(e(t)("operationTipTwo")),1)])])]),_:1}),p("div",null,[P((u(),E(j,{data:i.data,"span-method":B,size:"large"},{empty:o(()=>[p("span",null,d(i.loading?"":e(t)("emptyData")),1)]),default:o(()=>[a(c,{prop:"addon_name",label:e(t)("addon"),"min-width":"120"},null,8,["label"]),a(c,{prop:"name","show-overflow-tooltip":!0,label:e(t)("name"),"min-width":"150"},{default:o(({row:n})=>[p("div",ue,[p("span",fe,d(n.name),1),n.weapp.tips?(u(),E(S,{key:0,content:n.weapp.tips,placement:"top"},{default:o(()=>[a(L,{name:"element-WarningFilled"})]),_:2},1032,["content"])):M("",!0)])]),_:1},8,["label"]),a(c,{label:e(t)("response"),"min-width":"180"},{default:o(({row:n})=>[(u(!0),w(O,null,Q(n.weapp.content,(g,I)=>(u(),w("div",{key:"a"+I,class:"text-left"},d(g.join(":")),1))),128))]),_:1},8,["label"]),a(c,{label:e(t)("isStart"),"min-width":"100",align:"center"},{default:o(({row:n})=>[v(d(n.is_weapp==1?e(t)("startUsing"):e(t)("statusDeactivate")),1)]),_:1},8,["label"]),a(c,{prop:"weapp_template_id",label:e(t)("serialNumber"),"min-width":"180"},null,8,["label"]),a(c,{label:e(t)("operation"),fixed:"right",align:"right",width:"200"},{default:o(({row:n})=>[a(y,{type:"primary",link:"",onClick:g=>F(n)},{default:o(()=>[v(d(n.is_weapp==1?e(t)("close"):e(t)("open")),1)]),_:2},1032,["onClick"]),a(y,{type:"primary",link:"",onClick:g=>D(n)},{default:o(()=>[v(d(e(t)("regain")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[q,i.loading]])])]),_:1})])}}});const qe=ce(be,[["__scopeId","data-v-d27b6a06"]]);export{qe as default};
