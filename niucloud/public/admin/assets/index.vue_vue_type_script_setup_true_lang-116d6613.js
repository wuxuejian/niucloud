import{_ as R}from"./index.vue_vue_type_style_index_0_lang-efa1fb9c.js";import{d as V,r as n,l as k,b8 as C,G as H,h as U,c as x,e as r,u as m,bq as D,bB as $,F as B,A as c}from"./index-39857e33.js";const w=V({__name:"index",props:{modelValue:{type:String,default:""},mode:{type:String,default:"simple"},height:{type:Number,default:600}},emits:["update:modelValue","handleBlur"],setup(f,{emit:p}){const l=f,g=n(),s=n(null),u=n(null),o=k({get(){return l.modelValue},set(e){p("update:modelValue",e)}});let t=null;const i={};i.token=C(),i["site-id"]=H.get("siteId")||0;const _="/adminapi/".substr(-1)=="/"?"/adminapi/":"/adminapi//",h=n({debug:!1,UEDITOR_HOME_URL:"/admin/ueditor/",serverUrl:`${_}sys/ueditor`,serverHeaders:i,autoHeightEnabled:!1,initialFrameHeight:l.height,initialFrameWidth:"100%",toolbarCallback:function(e,a){switch(t=a,e){case"insertimage":return s.value.showDialog=!0,!0;case"insertvideo":return u.value.showDialog=!0,!0}}}),v=e=>{e.forEach(a=>{t==null||t.execCommand("insertHtml",`<img src="${c(a.url)}">`)})},b=e=>{t==null||t.execCommand("insertHtml",`<video src="${c(e.url)}">`)};return(e,a)=>{const d=R;return U(),x(B,null,[r(d,{type:"image",ref_key:"imageRef",ref:s,limit:10,onConfirm:v},null,512),r(d,{type:"video",ref_key:"videoRef",ref:u,onConfirm:b},null,512),r(m($),{modelValue:m(o),"onUpdate:modelValue":a[0]||(a[0]=y=>D(o)?o.value=y:null),config:h.value,editorDependencies:["ueditor.config.js","ueditor.all.js"],ref_key:"editorRef",ref:g},null,8,["modelValue","config","editorDependencies"])],64)}}});export{w as _};
