import{d as _,q as f,a2 as d,N as u,cK as g,W as y,h as x,I as V,w as n,b as v,e as h,u as o,bN as k,i as w,t as S,bT as N,Z as T,cT as b}from"./index-022827e1.js";/* empty css                    *//* empty css                 */const z=_({__name:"index",props:{modelValue:{type:String,default:""},api:{type:String,default:"sys/document/document"}},emits:["update:modelValue"],setup(p,{emit:r}){const l=p,t=f({get(){return l.modelValue},set(e){r("update:modelValue",e)}}),a={action:`/adminapi//${l.api}`,showFileList:!1,headers:{},accept:".doc,.docx,.xml,.txt,.pem,.zip,.rar,.7z,.crt,.key",onSuccess:(e,s)=>{if(e.code!=null&&e.code!=1){d({message:e.msg,type:"error"});return}t.value=e.data.url,d({message:u("upload.success"),type:"success"})}};return a.headers.token=g(),a.headers["site-id"]=y.get("siteId")||0,(e,s)=>{const c=T,i=b;return x(),V(i,N(a,{class:"w-full upload-file"}),{default:n(()=>[v(e.$slots,"default",{},()=>[h(c,{modelValue:o(t),"onUpdate:modelValue":s[0]||(s[0]=m=>k(t)?t.value=m:null),class:"w-full",readonly:!0,title:o(t)},{append:n(()=>[w(S(o(u)("upload.root")),1)]),_:1},8,["modelValue","title"])])]),_:3},16)}}});export{z as _};
