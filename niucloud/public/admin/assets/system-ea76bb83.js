import{d as N,x as P,r as w,m as S,n as V,q as o,h,c as C,R as g,s as v,w as d,e as t,a as i,t as p,u as s,a0 as I,B,i as D,cn as R,co as T,cp as F,D as q,j as W,K as j,L,a6 as M,M as A,E as K,Y as O}from"./index-34979a7f.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                */import Y from"./index-0da618fa.js";/* empty css                 *//* empty css                        */import"./index.vue_vue_type_style_index_0_lang-645eb1b7.js";/* empty css                  *//* empty css                   */import"./attachment-0daaf0f6.js";import"./index.vue_vue_type_script_setup_true_lang-d47218dc.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-0998f18f.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-e10327f5.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const $={class:"main-container"},z={class:"panel-title !text-sm"},G={class:"text-[12px] text-[#a9a9a9]"},H={class:"text-[12px] text-[#a9a9a9]"},J={class:"panel-title !text-sm"},Q={class:"panel-title !text-sm"},X={class:"fixed-footer-wrap"},Z={class:"fixed-footer"},Re=N({__name:"system",setup(ee){P().meta.title;const m=w(!0),_=w(S()),e=V({site_name:"",logo:"",desc:"",latitude:"",keywords:"",longitude:"",province_id:"",city_id:"",district_id:"",address:"",full_address:"",business_hours:"",phone:"",front_end_name:"",front_end_logo:"",front_end_icon:"",icon:"",wechat_code:"",enterprise_wechat:"",tel:""});(async(c=0)=>{const l=await(await R()).data;Object.keys(e).forEach(n=>{l[n]!=null&&(e[n]=l[n])});const r=await(await T()).data;e.wechat_code=r.wechat_code,e.enterprise_wechat=r.enterprise_wechat,e.tel=r.tel,m.value=!1})();const b=w(),x=V({site_name:[{required:!0,message:o("siteNamePlaceholder"),trigger:"blur"}],front_end_name:[{required:!0,message:o("frontEndNamePlaceholder"),trigger:"blur"}]}),y=async c=>{m.value||!c||await c.validate(async l=>{l&&(m.value=!0,F(e).then(()=>{m.value=!1,_.value=="admin"?q().getWebsiteInfo():W().getSiteInfo()}).catch(()=>{m.value=!1}))})};return(c,l)=>{const r=j,n=L,u=Y,f=M,U=A,E=K,k=O;return h(),C("div",$,[g((h(),v(U,{class:"page-form",model:e,"label-width":"150px",ref_key:"formRef",ref:b,rules:x},{default:d(()=>[t(f,{class:"box-card !border-none",shadow:"never"},{default:d(()=>[i("h3",z,p(s(o)("websiteInfo")),1),t(n,{label:s(o)("siteName"),prop:"site_name"},{default:d(()=>[t(r,{modelValue:e.site_name,"onUpdate:modelValue":l[0]||(l[0]=a=>e.site_name=a),modelModifiers:{trim:!0},placeholder:s(o)("siteNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(n,{label:s(o)("logo")},{default:d(()=>[i("div",null,[t(u,{modelValue:e.logo,"onUpdate:modelValue":l[1]||(l[1]=a=>e.logo=a)},null,8,["modelValue"]),i("p",G,p(s(o)("logoPlaceholder")),1)])]),_:1},8,["label"]),t(n,{label:s(o)("icon")},{default:d(()=>[i("div",null,[t(u,{modelValue:e.icon,"onUpdate:modelValue":l[2]||(l[2]=a=>e.icon=a)},null,8,["modelValue"]),i("p",H,p(s(o)("iconPlaceholder")),1)])]),_:1},8,["label"]),t(n,{label:s(o)("keywords")},{default:d(()=>[t(r,{modelValue:e.keywords,"onUpdate:modelValue":l[3]||(l[3]=a=>e.keywords=a),placeholder:s(o)("keywordsPlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(n,{label:s(o)("desc")},{default:d(()=>[t(r,{modelValue:e.desc,"onUpdate:modelValue":l[4]||(l[4]=a=>e.desc=a),type:"textarea",rows:4,clearable:"",placeholder:s(o)("descPlaceholder"),class:"input-width",maxlength:"100","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),g(t(f,{class:"box-card mt-[15px] !border-none",shadow:"never"},{default:d(()=>[i("h3",J,p(s(o)("frontEndInfo")),1),t(n,{label:s(o)("frontEndName")},{default:d(()=>[t(r,{modelValue:e.front_end_name,"onUpdate:modelValue":l[5]||(l[5]=a=>e.front_end_name=a),placeholder:s(o)("frontEndNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(n,{label:s(o)("logo")},{default:d(()=>[t(u,{modelValue:e.front_end_logo,"onUpdate:modelValue":l[6]||(l[6]=a=>e.front_end_logo=a)},null,8,["modelValue"])]),_:1},8,["label"]),t(n,{label:s(o)("icon")},{default:d(()=>[t(u,{modelValue:e.front_end_icon,"onUpdate:modelValue":l[7]||(l[7]=a=>e.front_end_icon=a)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[I,_.value=="site"]]),_.value=="admin"?(h(),v(f,{key:0,class:"box-card mt-[15px] !border-none",shadow:"never"},{default:d(()=>[i("h3",Q,p(s(o)("serviceInformation")),1),t(n,{label:s(o)("contactsTel")},{default:d(()=>[t(r,{modelValue:e.tel,"onUpdate:modelValue":l[8]||(l[8]=a=>e.tel=a),placeholder:s(o)("contactsTelPlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(n,{label:s(o)("wechatCode")},{default:d(()=>[t(u,{modelValue:e.wechat_code,"onUpdate:modelValue":l[9]||(l[9]=a=>e.wechat_code=a)},null,8,["modelValue"])]),_:1},8,["label"]),t(n,{label:s(o)("customerServiceCode")},{default:d(()=>[t(u,{modelValue:e.enterprise_wechat,"onUpdate:modelValue":l[10]||(l[10]=a=>e.enterprise_wechat=a)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})):B("",!0)]),_:1},8,["model","rules"])),[[k,m.value]]),i("div",X,[i("div",Z,[t(E,{type:"primary",loading:m.value,onClick:l[11]||(l[11]=a=>y(b.value))},{default:d(()=>[D(p(s(o)("save")),1)]),_:1},8,["loading"])])])])}}});export{Re as default};
