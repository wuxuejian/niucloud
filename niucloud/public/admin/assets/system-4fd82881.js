import{d as P,r as f,n as g,N as t,h as w,c as C,y as I,I as V,w as d,e as a,a as i,t as c,u as o,B,i as D,L as F,U as S,W as T,X as L,_ as R,Y as W,E as q,$ as Y}from"./index-efa627c5.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                */import{_ as $}from"./index-03d5f840.js";/* empty css                 */import{Y as v,Z as j,_ as A}from"./sys-7f18d1e7.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-10ccc001.js";/* empty css                   */import"./attachment-99990bcb.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                    *//* empty css                         *//* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-4a091848.js";/* empty css                */import"./_plugin-vue_export-helper-c27b6911.js";const M={class:"main-container"},O={class:"panel-title !text-sm"},X={class:"text-[12px] text-[#a9a9a9]"},Z={class:"text-[12px] text-[#a9a9a9]"},z={class:"panel-title !text-sm"},G={class:"panel-title !text-sm"},H={class:"fixed-footer-wrap"},J={class:"fixed-footer"},Ce=P({__name:"system",setup(K){const m=f(!0),h=f(),e=g({site_name:"",logo:"",desc:"",latitude:"",keywords:"",longitude:"",province_id:"",city_id:"",district_id:"",address:"",full_address:"",business_hours:"",phone:"",front_end_name:"",front_end_logo:"",icon:"",wechat_code:"",enterprise_wechat:"",tel:""});(async(u=0)=>{const l=await(await v()).data;Object.keys(e).forEach(r=>{l[r]!=null&&(e[r]=l[r])});const n=await(await j()).data;e.wechat_code=n.wechat_code,e.enterprise_wechat=n.enterprise_wechat,e.tel=n.tel,h.value=F(),m.value=!1})();const b=f(),x=g({site_name:[{required:!0,message:t("siteNamePlaceholder"),trigger:"blur"}],front_end_name:[{required:!0,message:t("frontEndNamePlaceholder"),trigger:"blur"}]}),y=async u=>{m.value||!u||await u.validate(async l=>{l&&(m.value=!0,A(e).then(()=>{m.value=!1,E()}).catch(()=>{m.value=!1}))})},E=async()=>{const u=await(await v()).data;S.set({key:"siteInfo",data:u})};return(u,l)=>{const n=T,r=L,p=$,_=R,k=W,N=q,U=Y;return w(),C("div",M,[I((w(),V(k,{model:e,"label-width":"150px",ref_key:"formRef",ref:b,rules:x,class:"page-form"},{default:d(()=>[a(_,{class:"box-card !border-none",shadow:"never"},{default:d(()=>[i("h3",O,c(o(t)("websiteInfo")),1),a(r,{label:o(t)("siteName"),prop:"site_name"},{default:d(()=>[a(n,{modelValue:e.site_name,"onUpdate:modelValue":l[0]||(l[0]=s=>e.site_name=s),modelModifiers:{trim:!0},placeholder:o(t)("siteNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{label:o(t)("logo")},{default:d(()=>[i("div",null,[a(p,{modelValue:e.logo,"onUpdate:modelValue":l[1]||(l[1]=s=>e.logo=s)},null,8,["modelValue"]),i("p",X,c(o(t)("logoPlaceholder")),1)])]),_:1},8,["label"]),a(r,{label:o(t)("icon")},{default:d(()=>[i("div",null,[a(p,{modelValue:e.icon,"onUpdate:modelValue":l[2]||(l[2]=s=>e.icon=s)},null,8,["modelValue"]),i("p",Z,c(o(t)("iconPlaceholder")),1)])]),_:1},8,["label"]),a(r,{label:o(t)("keywords")},{default:d(()=>[a(n,{modelValue:e.keywords,"onUpdate:modelValue":l[3]||(l[3]=s=>e.keywords=s),placeholder:o(t)("keywordsPlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{label:o(t)("desc")},{default:d(()=>[a(n,{modelValue:e.desc,"onUpdate:modelValue":l[4]||(l[4]=s=>e.desc=s),type:"textarea",rows:"4",clearable:"",placeholder:o(t)("descPlaceholder"),class:"input-width",maxlength:"100","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(_,{class:"box-card !border-none",shadow:"never"},{default:d(()=>[i("h3",z,c(o(t)("frontEndInfo")),1),a(r,{label:o(t)("frontEndName")},{default:d(()=>[a(n,{modelValue:e.front_end_name,"onUpdate:modelValue":l[5]||(l[5]=s=>e.front_end_name=s),placeholder:o(t)("frontEndNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{label:o(t)("frontEndLogo")},{default:d(()=>[a(p,{modelValue:e.front_end_logo,"onUpdate:modelValue":l[6]||(l[6]=s=>e.front_end_logo=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),h.value=="admin"?(w(),V(_,{key:0,class:"box-card !border-none",shadow:"never"},{default:d(()=>[i("h3",G,c(o(t)("serviceInformation")),1),a(r,{label:o(t)("contactsTel")},{default:d(()=>[a(n,{modelValue:e.tel,"onUpdate:modelValue":l[7]||(l[7]=s=>e.tel=s),placeholder:o(t)("contactsTelPlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(r,{label:o(t)("wechatCode")},{default:d(()=>[a(p,{modelValue:e.wechat_code,"onUpdate:modelValue":l[8]||(l[8]=s=>e.wechat_code=s)},null,8,["modelValue"])]),_:1},8,["label"]),a(r,{label:o(t)("customerServiceCode")},{default:d(()=>[a(p,{modelValue:e.enterprise_wechat,"onUpdate:modelValue":l[9]||(l[9]=s=>e.enterprise_wechat=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})):B("",!0)]),_:1},8,["model","rules"])),[[U,m.value]]),i("div",H,[i("div",J,[a(N,{type:"primary",loading:m.value,onClick:l[10]||(l[10]=s=>y(b.value))},{default:d(()=>[D(c(o(t)("save")),1)]),_:1},8,["loading"])])])])}}});export{Ce as default};
