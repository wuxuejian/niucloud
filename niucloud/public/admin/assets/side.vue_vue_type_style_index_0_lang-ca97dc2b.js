import{d as A,D as q,j as z,r as x,l as H,bK as C,Q as S,h as n,s as i,w as c,e as _,a as u,u as r,c as d,A as K,T as j,F as k,t as M,cC as L,B as D,x as Q,f as T,J as G,bD as P,cF as W,cD as X,V as Y,N as Z,z as I}from"./index-39857e33.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./el-sub-menu-4ed993c7.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-2de84090.js";/* empty css                 *//* empty css                        */import{_ as ae}from"./icon-addon-339e16d0.js";import{_ as te}from"./menu-item.vue_vue_type_style_index_0_lang-014735a3.js";const se={class:"one-menu w-[124px] h-screen px-[8px] bg-[#282c34]"},ne={key:0,class:"logo flex items-center m-auto h-[64px]"},le=u("div",{class:"flex justify-center items-center w-full h-[40px]"},[u("img",{class:"max-w-[40px]",src:ae,alt:"","object-fit":"contain"})],-1),oe={key:1,class:"logo flex items-center justify-center h-[64px]"},ce=u("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),re=[ce],ue={key:0,class:"w-[16px] h-[16px] relative flex justify-center"},de={key:1,class:"w-[16px] h-[16px]"},ie={class:"relative flex-1 w-0"},_e={class:"ml-[10px] w-full truncate"},pe=u("div",{class:"h-[48px]"},null,-1),he={class:"w-[140px] h-[64px] flex items-center justify-center text-[16px] border-b-[1px] border-solid border-[var(--el-border-color-lighter)]"},me=u("div",{class:"h-[48px]"},null,-1),De=A({__name:"side",setup(fe){const s=Q(),N=T(),f=q(),p=z(),a=p.siteInfo,R=p.routers,B=p.addonIndexRoute,h=x([]),o=x([]),v={},V=H(()=>p.siteInfo.icon?p.siteInfo.icon:f.website.icon);if(R.forEach(e=>{e.original_name=e.name,e.meta.addon==""?(e.children&&e.children.length&&(e.name=C(e.children)),h.value.push(e)):e.meta.addon!=""&&(a==null?void 0:a.apps.length)<=1&&(a==null?void 0:a.apps[0].key)==e.meta.addon?e.children?(e.children.forEach(t=>{t.original_name=t.name,t.children&&t.children.length&&(t.name=C(t.children))}),h.value.unshift(...e.children)):h.value.unshift(e):v[e.meta.addon]=e}),(a==null?void 0:a.apps.length)>1){const e=[];a==null||a.apps.forEach(t=>{v[t.key]&&(v[t.key].name=B[t.key],e.push(v[t.key]))}),h.value.unshift(...e)}const m=x(s.matched[1].name);S(s,()=>{if((a==null?void 0:a.apps.length)>1)o.value=s.matched[1].children,m.value=s.matched[1].name;else{const e=s.matched[1];e.meta.addon==""?(m.value=s.matched[1].name,o.value=s.matched[1].children??[]):e.meta.addon==(a==null?void 0:a.apps[0].key)?(m.value=s.matched[2].name,o.value=s.matched[2].children??[]):(m.value=s.matched[1].name,o.value=s.matched[1].children??[])}},{immediate:!0});const y=x([]);return S(o.value,()=>{if(y.value=[],o.value&&Object.values(o.value).length){let e=JSON.parse(JSON.stringify(o.value));for(let t in e)y.value.push(e[t].name)}},{immediate:!0}),(e,t)=>{const w=G,F=P,O=ee,J=W,b=X,E=Y,U=Z,$=I;return n(),i($,{class:"w-100 h-screen"},{default:c(()=>[_(U,{class:"flex p-0"},{default:c(()=>[u("div",se,[_(F,{class:"logo-wrap"},{default:c(()=>[r(f).menuIsCollapse?(n(),d("div",oe,re)):(n(),d("div",ne,[_(w,{style:{width:"40px",height:"40px"},src:r(K)(r(V)),fit:"contain"},{error:c(()=>[le]),_:1},8,["src"])]))]),_:1}),_(E,{class:"h-[calc( 100vh - 64px )]"},{default:c(()=>[_(b,{"default-active":m.value,router:!0,class:"aside-menu","unique-opened":!0,collapse:r(f).menuIsCollapse},{default:c(()=>[(n(!0),d(k,null,j(h.value,(l,g)=>(n(),d(k,{key:g},[l.meta.show?(n(),i(J,{key:0,index:l.original_name,onClick:ve=>r(N).push({name:l.name})},{title:c(()=>[u("div",ie,[u("span",_e,M(l.meta.short_title||l.meta.title),1)])]),default:c(()=>[l.meta.icon?(n(),d("div",ue,[r(L)(l.meta.icon)?(n(),i(w,{key:0,class:"w-[16px] h-[16px] rounded-[50%] overflow-hidden",src:l.meta.icon,fit:"fill"},null,8,["src"])):(n(),i(O,{key:1,name:l.meta.icon,class:"absolute top-[50%] -translate-y-[50%]"},null,8,["name"]))])):(n(),d("div",de))]),_:2},1032,["index","onClick"])):D("",!0)],64))),128))]),_:1},8,["default-active","collapse"]),pe]),_:1})]),o.value.length?(n(),i(E,{key:0,class:"two-menu w-[140px]"},{default:c(()=>[u("div",he,M(r(s).matched[1].meta.title),1),_(b,{class:"aside-menu","default-active":r(s).name,"default-openeds":y.value,router:!0,collapse:r(f).menuIsCollapse},{default:c(()=>[(n(!0),d(k,null,j(o.value,(l,g)=>(n(),i(te,{routes:l,key:g},null,8,["routes"]))),128))]),_:1},8,["default-active","default-openeds","collapse"]),me]),_:1})):D("",!0)]),_:1})]),_:1})}}});export{De as _};
