import{d as L,l as S,n as x,a5 as P,h as l,c as a,a as o,aX as v,u as r,e as i,A as g,s as j,w as $,t as B,q as E,F as w,Q as Z,B as N,I as q,cT as A,au as T}from"./index-ae2d9b78.js";/* empty css                        */import{_ as Q}from"./index.vue_vue_type_style_index_0_lang-b2ddc674.js";import{_ as R}from"./index.vue_vue_type_script_setup_true_lang-657c47c5.js";/* empty css                 */import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   *//* empty css                  */import"./attachment-8d650cb6.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-57aca5c9.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css               *//* empty css                    *//* empty css                         */import"./index.vue_vue_type_script_setup_true_lang-43b3de63.js";/* empty css                   *//* empty css                */const G={class:"flex flex-wrap"},H={key:0,class:"w-full h-full relative"},J={class:"w-full h-full flex items-center justify-center"},K={class:"absolute z-[1] flex items-center justify-center w-full h-full inset-0 bg-black bg-opacity-60 operation"},M={class:"w-full h-full flex items-center justify-center flex-col content-wrap"},O={class:"leading-none text-xs mt-[10px] text-secondary"},U={class:"w-full h-full relative"},W={class:"w-full h-full flex items-center justify-center"},Y={class:"absolute z-[1] flex items-center justify-center w-full h-full inset-0 bg-black bg-opacity-60 operation"},ee={class:"w-full h-full flex items-center justify-center flex-col content-wrap"},te={class:"leading-none text-xs mt-[10px] text-secondary"},oe=L({__name:"index",props:{modelValue:{type:String,default:""},width:{type:String,default:"100px"},height:{type:String,default:"100px"},imageText:{type:String},limit:{type:Number,default:1}},emits:["update:modelValue","change"],setup(s,{emit:y}){const m=s,u=S({get(){return m.modelValue},set(e){y("update:modelValue",e)}}),t=x({data:[]});let b=x([]);const p=()=>{u.value=T(t.data).toString(),b=T(t.data).map(e=>g(e))};P(()=>u.value,()=>{t.data=[...u.value.split(",").filter(e=>e)],p()},{immediate:!0});const f=S(()=>({width:m.width,height:m.height})),k=e=>{m.limit==1?(t.data.splice(0,1),e&&t.data.push(e.url)):e.forEach(n=>{t.data.length<m.limit&&t.data.push(n.url)}),p(),y("change",u.value)},C=(e=0)=>{t.data.splice(e,1),p()},d=x({show:!1,index:0}),z=(e=0)=>{d.show=!0,d.index=e};return(e,n)=>{const V=q,c=R,I=Q,D=A;return l(),a(w,null,[o("div",G,[s.limit==1?(l(),a("div",{key:0,class:"rounded cursor-pointer overflow-hidden relative border border-solid border-color image-wrap mr-[10px]",style:v(r(f))},[t.data.length?(l(),a("div",H,[o("div",J,[i(V,{src:r(g)(t.data[0]),fit:"contain"},null,8,["src"])]),o("div",K,[i(c,{name:"element-ZoomIn",color:"#fff",size:"18px",class:"mr-[10px]",onClick:n[0]||(n[0]=_=>z())}),i(c,{name:"element-Delete",color:"#fff",size:"18px",onClick:C})])])):(l(),j(I,{key:1,limit:s.limit,onConfirm:k},{default:$(()=>[o("div",M,[i(c,{name:"element-Plus",size:"20px",color:"var(--el-text-color-secondary)"}),o("div",O,B(s.imageText||r(E)("upload.root")),1)])]),_:1},8,["limit"]))],4)):(l(),a(w,{key:1},[(l(!0),a(w,null,Z(t.data,(_,h)=>(l(),a("div",{class:"rounded cursor-pointer overflow-hidden relative border border-solid border-color image-wrap mr-[10px]",style:v(r(f)),key:h},[o("div",U,[o("div",W,[i(V,{src:r(g)(_),fit:"contain"},null,8,["src"])]),o("div",Y,[i(c,{name:"element-ZoomIn",color:"#fff",size:"18px",class:"mr-[10px]",onClick:F=>z(h)},null,8,["onClick"]),i(c,{name:"element-Delete",color:"#fff",size:"18px",onClick:F=>C(h)},null,8,["onClick"])])])],4))),128)),t.data.length<s.limit?(l(),a("div",{key:0,class:"rounded cursor-pointer overflow-hidden relative border border-dashed border-color",style:v(r(f))},[i(I,{limit:s.limit,onConfirm:k},{default:$(()=>[o("div",ee,[i(c,{name:"element-Plus",size:"20px",color:"var(--el-text-color-secondary)"}),o("div",te,B(s.imageText||r(E)("upload.root")),1)])]),_:1},8,["limit"])],4)):N("",!0)],64))]),d.show?(l(),j(D,{key:0,"url-list":r(b),onClose:n[1]||(n[1]=_=>d.show=!1),"initial-index":d.index,"zoom-rate":1},null,8,["url-list","initial-index"])):N("",!0)],64)}}});const Ne=X(oe,[["__scopeId","data-v-022083b2"]]);export{Ne as default};
