import{d as N,x as B,f as I,r as w,n as b,q as e,aS as O,a5 as D,R as y,h as k,c as j,a as p,u as l,t as r,P as L,s as z,w as s,e as o,i as f,J as F,K as Q,a0 as W,az as G,aA as J,L as H,E as X,U as Y}from"./index-ae2d9b78.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                       *//* empty css                 */import{_ as Z}from"./index.vue_vue_type_style_index_0_lang-6cd5bc0b.js";/* empty css                */import ee from"./index-b111e282.js";import"./el-form-item-4ed993c7.js";/* empty css                 */import{g as x,d as le}from"./weapp-e840c1ab.js";/* empty css                    *//* empty css                        */import"./index.vue_vue_type_style_index_0_lang-b2ddc674.js";/* empty css                  *//* empty css                   */import"./attachment-8d650cb6.js";import"./index.vue_vue_type_script_setup_true_lang-57aca5c9.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                         */import"./index.vue_vue_type_script_setup_true_lang-43b3de63.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-657c47c5.js";/* empty css                */import"./_plugin-vue_export-helper-c27b6911.js";const oe={class:"main-container"},ae={class:"detail-head"},te=p("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),se={class:"ml-[1px]"},pe=p("span",{class:"adorn"},"|",-1),re={class:"right"},de={class:"panel-title !text-sm"},ie={class:"form-tip"},ne={class:"panel-title !text-sm"},ue={class:"form-tip"},ce={class:"form-tip"},me={class:"panel-title !text-sm"},_e={class:"input-width"},fe={class:"form-tip"},ve={class:"form-tip"},he={class:"panel-title !text-sm"},ge={class:"form-tip"},we={class:"form-tip"},be={class:"form-tip"},ye={class:"form-tip"},ke={class:"form-tip"},xe={class:"flex"},Ve={class:"panel-title !text-sm"},Pe={class:"fixed-footer-wrap"},Ue={class:"fixed-footer"},nl=N({__name:"config",setup(qe){const V=B(),P=I(),U=V.meta.title,c=w(!0),t=b({weapp_name:"",weapp_original:"",app_id:"",app_secret:"",qr_code:"",token:"",encoding_aes_key:"",encryption_type:"not_encrypt",serve_url:"",request_url:"",socket_url:"",upload_url:"",download_url:"",upload_private_key:""}),h=w(),q=b({weapp_name:[{required:!0,message:e("weappNamePlaceholder"),trigger:"blur"}],weapp_original:[{required:!0,message:e("weappOriginalPlaceholder"),trigger:"blur"}],app_id:[{required:!0,message:e("appidPlaceholder"),trigger:"blur"}],app_secret:[{required:!0,message:e("appSecretPlaceholder"),trigger:"blur"}],token:[{required:!0,message:e("tokenPlaceholder"),trigger:"blur"}],encoding_aes_key:[{required:!0,message:e("encodingAesKeyPlaceholder"),trigger:"blur"}]});x().then(u=>{Object.assign(t,u.data),c.value=!1}),x().then(u=>{Object.assign(u.data)});const{copy:C,isSupported:T,copied:g}=O(),m=u=>{if(!T.value){y({message:e("notSupportCopy"),type:"warning"});return}C(u)};D(g,()=>{g.value&&y({message:e("copySuccess"),type:"success"})});const E=async u=>{c.value||!u||await u.validate(async a=>{a&&(c.value=!0,le(t).then(()=>{c.value=!1}).catch(()=>{c.value=!1}))})};return(u,a)=>{const n=F,i=Q,M=ee,_=W,S=Z,v=G,A=J,R=H,$=X,K=Y;return k(),j("div",oe,[p("div",ae,[p("div",{class:"left",onClick:a[0]||(a[0]=d=>l(P).push({path:"/channel/weapp"}))},[te,p("span",se,r(l(e)("returnToPreviousPage")),1)]),pe,p("span",re,r(l(U)),1)]),L((k(),z(R,{model:t,"label-width":"170px",ref_key:"formRef",ref:h,rules:q,class:"page-form"},{default:s(()=>[o(_,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[p("h3",de,r(l(e)("weappInfo")),1),o(i,{label:l(e)("weappName"),prop:"weapp_name"},{default:s(()=>[o(n,{modelValue:t.weapp_name,"onUpdate:modelValue":a[1]||(a[1]=d=>t.weapp_name=d),modelModifiers:{trim:!0},placeholder:l(e)("weappNamePlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(i,{label:l(e)("weappOriginal"),prop:"weapp_original"},{default:s(()=>[o(n,{modelValue:t.weapp_original,"onUpdate:modelValue":a[2]||(a[2]=d=>t.weapp_original=d),modelModifiers:{trim:!0},placeholder:l(e)("weappOriginalPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(i,{label:l(e)("weappQrcode"),prop:"qr_code"},{default:s(()=>[o(M,{modelValue:t.qr_code,"onUpdate:modelValue":a[3]||(a[3]=d=>t.qr_code=d)},null,8,["modelValue"]),p("div",ie,r(l(e)("weappQrcodeTips")),1)]),_:1},8,["label"])]),_:1}),o(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:s(()=>[p("h3",ne,r(l(e)("weappDevelopInfo")),1),o(i,{label:l(e)("weappAppid"),prop:"app_id"},{default:s(()=>[o(n,{modelValue:t.app_id,"onUpdate:modelValue":a[4]||(a[4]=d=>t.app_id=d),modelModifiers:{trim:!0},placeholder:l(e)("appidPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),p("div",ue,r(l(e)("weappAppidTips")),1)]),_:1},8,["label"]),o(i,{label:l(e)("weappAppsecret"),prop:"app_secret"},{default:s(()=>[o(n,{modelValue:t.app_secret,"onUpdate:modelValue":a[5]||(a[5]=d=>t.app_secret=d),modelModifiers:{trim:!0},placeholder:l(e)("appSecretPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),p("div",ce,r(l(e)("weappAppsecretTips")),1)]),_:1},8,["label"])]),_:1}),o(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:s(()=>[p("h3",me,r(l(e)("weappUpload")),1),o(i,{label:l(e)("uploadKey"),prop:"upload_private_key"},{default:s(()=>[p("div",_e,[o(S,{modelValue:t.upload_private_key,"onUpdate:modelValue":a[6]||(a[6]=d=>t.upload_private_key=d),api:"sys/document/wechat"},null,8,["modelValue"])]),p("div",fe,r(l(e)("uploadKeyTips")),1),p("div",ve,r(l(e)("uploadIpTips"))+r(t.upload_ip),1)]),_:1},8,["label"])]),_:1}),o(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:s(()=>[p("h3",he,r(l(e)("theServerSetting")),1),o(i,{label:"URL"},{default:s(()=>[o(n,{"model-value":t.serve_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:s(()=>[p("div",{class:"cursor-pointer",onClick:a[7]||(a[7]=d=>m(t.serve_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1}),o(i,{label:"Token",prop:"token"},{default:s(()=>[o(n,{modelValue:t.token,"onUpdate:modelValue":a[8]||(a[8]=d=>t.token=d),modelModifiers:{trim:!0},placeholder:l(e)("tokenPlaceholder"),class:"input-width",maxlength:"32","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),p("div",ge,r(l(e)("tokenTips")),1)]),_:1}),o(i,{label:"EncodingAESKey",prop:"encoding_aes_key"},{default:s(()=>[o(n,{modelValue:t.encoding_aes_key,"onUpdate:modelValue":a[9]||(a[9]=d=>t.encoding_aes_key=d),modelModifiers:{trim:!0},placeholder:l(e)("encodingAesKeyPlaceholder"),class:"input-width",maxlength:"43","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),p("div",we,r(l(e)("encodingAESKeyTips")),1)]),_:1}),o(i,{label:l(e)("encryptionType"),prop:"encryption_type"},{default:s(()=>[o(A,{modelValue:t.encryption_type,"onUpdate:modelValue":a[10]||(a[10]=d=>t.encryption_type=d)},{default:s(()=>[o(v,{label:"not_encrypt"},{default:s(()=>[f(r(l(e)("cleartextMode")),1)]),_:1}),o(v,{label:"compatible"},{default:s(()=>[f(r(l(e)("compatibleMode")),1)]),_:1}),o(v,{label:"safe"},{default:s(()=>[f(r(l(e)("safeMode")),1)]),_:1})]),_:1},8,["modelValue"]),p("div",be,r(l(e)("cleartextModeTips")),1),p("div",ye,r(l(e)("compatibleModeTips")),1),p("div",ke,r(l(e)("safeModeTips")),1)]),_:1},8,["label"])]),_:1}),o(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:s(()=>[p("div",xe,[p("h3",Ve,r(l(e)("functionSetting")),1)]),o(i,{label:l(e)("requestUrl")},{default:s(()=>[o(n,{"model-value":t.request_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:s(()=>[p("div",{class:"cursor-pointer",onClick:a[11]||(a[11]=d=>m(t.request_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),o(i,{label:l(e)("socketUrl")},{default:s(()=>[o(n,{"model-value":t.socket_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:s(()=>[p("div",{class:"cursor-pointer",onClick:a[12]||(a[12]=d=>m(t.socket_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),o(i,{label:l(e)("uploadUrl")},{default:s(()=>[o(n,{"model-value":t.upload_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:s(()=>[p("div",{class:"cursor-pointer",onClick:a[13]||(a[13]=d=>m(t.upload_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),o(i,{label:l(e)("downloadUrl")},{default:s(()=>[o(n,{"model-value":t.download_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:s(()=>[p("div",{class:"cursor-pointer",onClick:a[14]||(a[14]=d=>m(t.download_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","rules"])),[[K,c.value]]),p("div",Pe,[p("div",Ue,[o($,{type:"primary",loading:c.value,onClick:a[15]||(a[15]=d=>E(h.value))},{default:s(()=>[f(r(l(e)("save")),1)]),_:1},8,["loading"])])])])}}});export{nl as default};
