import{d as k,O as I,r as f,M as P,n as g,N as o,h,c as C,e as l,w as d,a as r,t as u,u as a,y as S,I as v,B,i as D,dG as T,dH as F,dI as R,U as W,K as j,Z as q,_ as L,ac as M,$ as O,E as $,a4 as A}from"./index-d1ed2ead.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                */import{_ as G}from"./index-e6ce1da3.js";/* empty css                 *//* empty css                        */import"./index.vue_vue_type_style_index_0_lang-81bae78b.js";/* empty css                   */import"./attachment-cb295d3a.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                    *//* empty css                         *//* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-723f0499.js";/* empty css                */import"./_plugin-vue_export-helper-c27b6911.js";const H={class:"main-container"},K={class:"flex justify-between items-center"},Z={class:"text-page-title"},z={class:"panel-title !text-sm"},J={class:"text-[12px] text-[#a9a9a9]"},Q={class:"text-[12px] text-[#a9a9a9]"},X={class:"panel-title !text-sm"},Y={class:"panel-title !text-sm"},ee={class:"fixed-footer-wrap"},te={class:"fixed-footer"},De=k({__name:"system",setup(le){const V=I().meta.title,m=f(!0),w=f(P()),e=g({site_name:"",logo:"",desc:"",latitude:"",keywords:"",longitude:"",province_id:"",city_id:"",district_id:"",address:"",full_address:"",business_hours:"",phone:"",front_end_name:"",front_end_logo:"",icon:"",wechat_code:"",enterprise_wechat:"",tel:""});(async(p=0)=>{const t=await(await T()).data;Object.keys(e).forEach(n=>{t[n]!=null&&(e[n]=t[n])});const i=await(await F()).data;e.wechat_code=i.wechat_code,e.enterprise_wechat=i.enterprise_wechat,e.tel=i.tel,m.value=!1})();const b=f(),x=g({site_name:[{required:!0,message:o("siteNamePlaceholder"),trigger:"blur"}],front_end_name:[{required:!0,message:o("frontEndNamePlaceholder"),trigger:"blur"}]}),y=async p=>{m.value||!p||await p.validate(async t=>{t&&(m.value=!0,R(e).then(()=>{m.value=!1,w.value=="admin"?W().getWebsiteInfo():j().getSiteInfo()}).catch(()=>{m.value=!1}))})};return(p,t)=>{const i=q,n=L,c=G,_=M,E=O,N=$,U=A;return h(),C("div",H,[l(_,{class:"box-card !border-none",shadow:"never"},{default:d(()=>[r("div",K,[r("span",Z,u(a(V)),1)]),S((h(),v(E,{model:e,"label-width":"150px",ref_key:"formRef",ref:b,rules:x,class:"page-form"},{default:d(()=>[l(_,{class:"box-card !border-none",shadow:"never"},{default:d(()=>[r("h3",z,u(a(o)("websiteInfo")),1),l(n,{label:a(o)("siteName"),prop:"site_name"},{default:d(()=>[l(i,{modelValue:e.site_name,"onUpdate:modelValue":t[0]||(t[0]=s=>e.site_name=s),modelModifiers:{trim:!0},placeholder:a(o)("siteNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{label:a(o)("logo")},{default:d(()=>[r("div",null,[l(c,{modelValue:e.logo,"onUpdate:modelValue":t[1]||(t[1]=s=>e.logo=s)},null,8,["modelValue"]),r("p",J,u(a(o)("logoPlaceholder")),1)])]),_:1},8,["label"]),l(n,{label:a(o)("icon")},{default:d(()=>[r("div",null,[l(c,{modelValue:e.icon,"onUpdate:modelValue":t[2]||(t[2]=s=>e.icon=s)},null,8,["modelValue"]),r("p",Q,u(a(o)("iconPlaceholder")),1)])]),_:1},8,["label"]),l(n,{label:a(o)("keywords")},{default:d(()=>[l(i,{modelValue:e.keywords,"onUpdate:modelValue":t[3]||(t[3]=s=>e.keywords=s),placeholder:a(o)("keywordsPlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{label:a(o)("desc")},{default:d(()=>[l(i,{modelValue:e.desc,"onUpdate:modelValue":t[4]||(t[4]=s=>e.desc=s),type:"textarea",rows:"4",clearable:"",placeholder:a(o)("descPlaceholder"),class:"input-width",maxlength:"100","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),l(_,{class:"box-card !border-none",shadow:"never"},{default:d(()=>[r("h3",X,u(a(o)("frontEndInfo")),1),l(n,{label:a(o)("frontEndName")},{default:d(()=>[l(i,{modelValue:e.front_end_name,"onUpdate:modelValue":t[5]||(t[5]=s=>e.front_end_name=s),placeholder:a(o)("frontEndNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{label:a(o)("frontEndLogo")},{default:d(()=>[l(c,{modelValue:e.front_end_logo,"onUpdate:modelValue":t[6]||(t[6]=s=>e.front_end_logo=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),w.value=="admin"?(h(),v(_,{key:0,class:"box-card !border-none",shadow:"never"},{default:d(()=>[r("h3",Y,u(a(o)("serviceInformation")),1),l(n,{label:a(o)("contactsTel")},{default:d(()=>[l(i,{modelValue:e.tel,"onUpdate:modelValue":t[7]||(t[7]=s=>e.tel=s),placeholder:a(o)("contactsTelPlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{label:a(o)("wechatCode")},{default:d(()=>[l(c,{modelValue:e.wechat_code,"onUpdate:modelValue":t[8]||(t[8]=s=>e.wechat_code=s)},null,8,["modelValue"])]),_:1},8,["label"]),l(n,{label:a(o)("customerServiceCode")},{default:d(()=>[l(c,{modelValue:e.enterprise_wechat,"onUpdate:modelValue":t[9]||(t[9]=s=>e.enterprise_wechat=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})):B("",!0)]),_:1},8,["model","rules"])),[[U,m.value]])]),_:1}),r("div",ee,[r("div",te,[l(N,{type:"primary",loading:m.value,onClick:t[10]||(t[10]=s=>y(b.value))},{default:d(()=>[D(u(a(o)("save")),1)]),_:1},8,["loading"])])])])}}});export{De as default};
