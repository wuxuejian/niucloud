import{d as C,r as p,h as V,c as E,a as f,b as h,e as s,w as i,i as y,t as _,u as c,q as d,F as w,aH as B,E as D,X as F}from"./index-34979a7f.js";/* empty css                  *//* empty css                   *//* empty css                  */import N from"./attachment-0daaf0f6.js";const j={class:"dialog-footer"},H=C({__name:"index",props:{limit:{type:Number,default:1},type:{type:String,default:"image"}},emits:["confirm"],setup(a,{expose:g,emit:v}){const x=a,t=p(!1),e=p(null),k=()=>{t.value=!0},b=()=>{t.value=!1;let n=(e==null?void 0:e.value.selectedFile)||{},l=(e==null?void 0:e.value.selectedFileIndex)||{},o=[];Object.values(l).forEach((r,u)=>{for(let m in n)r==m&&o.push(B(n[m]))}),v("confirm",x.limit==1?o[0]??null:o)};return g({showDialog:t}),(n,l)=>{const o=D,r=F;return V(),E(w,null,[f("span",{onClick:k,class:"cursor-pointer"},[h(n.$slots,"default")]),s(r,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=u=>t.value=u),title:c(d)("upload.select"+a.type),width:"60%",class:"attachment-dialog","destroy-on-close":!0},{footer:i(()=>[f("span",j,[s(o,{onClick:l[0]||(l[0]=u=>t.value=!1)},{default:i(()=>[y(_(c(d)("cancel")),1)]),_:1}),s(o,{type:"primary",onClick:b},{default:i(()=>[y(_(c(d)("confirm")),1)]),_:1})])]),default:i(()=>[s(N,{limit:a.limit,type:a.type,ref_key:"attachmentRef",ref:e},null,8,["limit","type"])]),_:1},8,["modelValue","title"])],64)}}});export{H as _};
