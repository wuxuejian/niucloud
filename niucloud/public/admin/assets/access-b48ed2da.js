import{d as W,x as $,f as j,r,aJ as F,aT as L,o as M,h as w,c as y,e as a,w as s,a as n,t as o,u as e,q as t,i as _,F as R,s as U,A as z,aw as I,ax as J,E as D,aK as G,aL as K,aM as P,J as Q,aN as H,a6 as O}from"./index-34979a7f.js";/* empty css                *//* empty css               *//* empty css                 *//* empty css                        *//* empty css                *//* empty css                  *//* empty css                    */import{g as X}from"./wechat-dfab8bd4.js";import{a as Y}from"./wxoplatform-ce4e21d6.js";const Z={class:"main-container"},ee={class:"flex justify-between items-center"},te={class:"text-page-title"},ae={class:"p-[20px]"},se={class:"panel-title !text-sm"},ne={class:"text-[14px] font-[700]"},oe={class:"text-[#999]"},le={class:"mt-[20px] mb-[40px] h-[32px]"},ce={class:"text-[14px] font-[700]"},ie={class:"text-[#999]"},pe={class:"mt-[20px] mb-[40px] h-[32px]"},re={class:"text-[14px] font-[700]"},_e={class:"text-[#999]"},de={class:"mt-[20px] mb-[40px] h-[32px]"},me={class:"flex justify-center"},ue={class:"w-[100%] h-[100%] flex items-center justify-center bg-[#f5f7fa]"},he={class:"mt-[22px] text-center"},fe={class:"text-[12px]"},Be=W({__name:"access",setup(xe){const C=$(),d=j(),k=C.meta.title,h=r("/channel/wechat");r(2);const m=r(""),f=r({}),x=r({}),g=async()=>{await X().then(({data:l})=>{f.value=l,m.value=l.qr_code})};F(async()=>{g(),await L().then(({data:l})=>{x.value=l}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&g()})}),M(()=>{document.removeEventListener("visibilitychange",()=>{})});const E=l=>{window.open(l,"_blank")},A=l=>{d.push({path:h.value})},S=()=>{Y().then(({data:l})=>{window.open(l)})};return(l,c)=>{const u=I,B=J,i=D,v=G,N=K,b=P,T=Q,V=H,q=O;return w(),y("div",Z,[a(q,{class:"card !border-none",shadow:"never"},{default:s(()=>[n("div",ee,[n("span",te,o(e(k)),1)]),a(B,{modelValue:h.value,"onUpdate:modelValue":c[0]||(c[0]=p=>h.value=p),class:"my-[20px]",onTabChange:A},{default:s(()=>[a(u,{label:e(t)("wechatAccessFlow"),name:"/channel/wechat"},null,8,["label"]),a(u,{label:e(t)("customMenu"),name:"/channel/wechat/menu"},null,8,["label"]),a(u,{label:e(t)("wechatTemplate"),name:"/channel/wechat/message"},null,8,["label"]),a(u,{label:e(t)("reply"),name:"/channel/wechat/reply"},null,8,["label"])]),_:1},8,["modelValue"]),n("div",ae,[n("h3",se,o(e(t)("wechatInlet")),1),a(V,null,{default:s(()=>[a(b,{span:20},{default:s(()=>[a(N,{class:"!mt-[10px]",active:3,direction:"vertical"},{default:s(()=>[a(v,null,{title:s(()=>[n("p",ne,o(e(t)("wechatAttestation")),1)]),description:s(()=>[n("span",oe,o(e(t)("wechatAttestation1")),1),n("div",le,[a(i,{type:"primary",onClick:c[1]||(c[1]=p=>E("https://mp.weixin.qq.com/"))},{default:s(()=>[_(o(e(t)("clickAccess")),1)]),_:1})])]),_:1}),a(v,null,{title:s(()=>[n("p",ce,o(e(t)("wechatSetting")),1)]),description:s(()=>[n("span",ie,o(e(t)("wechatSetting1")),1),n("div",pe,[x.value.app_id&&x.value.app_secret?(w(),y(R,{key:0},[a(i,{type:"primary",onClick:c[2]||(c[2]=p=>e(d).push("/channel/wechat/config"))},{default:s(()=>[_(o(f.value.app_id?e(t)("seeConfig"):e(t)("clickSetting")),1)]),_:1}),a(i,{type:"primary",plain:"",onClick:S},{default:s(()=>[_(o(f.value.is_authorization?e(t)("refreshAuth"):e(t)("authWechat")),1)]),_:1})],64)):(w(),U(i,{key:1,type:"primary",onClick:c[3]||(c[3]=p=>e(d).push("/channel/wechat/config"))},{default:s(()=>[_(o(e(t)("clickSetting")),1)]),_:1}))])]),_:1}),a(v,null,{title:s(()=>[n("p",re,o(e(t)("wechatAccess")),1)]),description:s(()=>[n("span",_e,o(e(t)("wechatAccess")),1),n("div",de,[a(i,{type:"primary",plain:"",onClick:c[4]||(c[4]=p=>e(d).push("/channel/wechat/course"))},{default:s(()=>[_(o(e(t)("releaseCourse")),1)]),_:1})])]),_:1})]),_:1})]),_:1}),a(b,{span:4},{default:s(()=>[n("div",me,[a(T,{class:"w-[180px] h-[180px]",src:m.value?e(z)(m.value):""},{error:s(()=>[n("div",ue,[n("span",null,o(m.value?e(t)("fileErr"):e(t)("emptyQrCode")),1)])]),_:1},8,["src"])]),n("div",he,[n("p",fe,o(e(t)("clickAccess2")),1)])]),_:1})]),_:1})])]),_:1})])}}});export{Be as default};
