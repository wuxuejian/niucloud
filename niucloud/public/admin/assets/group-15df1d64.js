import{d as D,O as L,f as R,r as j,n as I,h as m,c as f,e as t,w as a,a as g,t as i,u as n,i as p,N as o,y as U,I as h,F as x,G as C,aa as q,E as M,Z as O,_ as Z,$ as A,ac as H,ak as J,aB as K,am as Q,a3 as W,a4 as X}from"./index-022827e1.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                     *//* empty css                  */import{n as Y,o as ee}from"./site-4a266dcd.js";const te={class:"main-container"},ae={class:"flex justify-between items-center"},oe={class:"text-page-title"},le={class:"mt-[16px] flex justify-end"},xe=D({__name:"group",setup(re){const E=L(),b=R(),N=E.meta.title,y=j(),e=I({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{keywords:""}}),B=s=>{s&&(s.resetFields(),d())},d=(s=1)=>{e.loading=!0,e.page=s,Y({page:e.page,limit:e.limit,...e.searchParam}).then(l=>{e.loading=!1,e.data=l.data.data,e.total=l.data.total}).catch(()=>{e.loading=!1})};d();const T=()=>{b.push("/admin/site/group_edit")},z=s=>{b.push({path:"/admin/site/group_edit",query:{id:s.group_id}})},F=s=>{q.confirm(o("groupDeleteTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{ee(s).then(()=>{d()}).catch(()=>{})})};return(s,l)=>{const u=M,P=O,v=Z,G=A,k=H,c=J,w=K,S=Q,V=W,$=X;return m(),f("div",te,[t(k,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[g("div",ae,[g("span",oe,i(n(N)),1),t(u,{type:"primary",class:"w-[100px]",onClick:T},{default:a(()=>[p(i(n(o)("addSiteGroup")),1)]),_:1})]),t(k,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:a(()=>[t(G,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:y},{default:a(()=>[t(v,{label:n(o)("groupName"),prop:"keywords"},{default:a(()=>[t(P,{modelValue:e.searchParam.keywords,"onUpdate:modelValue":l[0]||(l[0]=r=>e.searchParam.keywords=r),placeholder:n(o)("groupNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(v,null,{default:a(()=>[t(u,{type:"primary",onClick:l[1]||(l[1]=r=>d())},{default:a(()=>[p(i(n(o)("search")),1)]),_:1}),t(u,{onClick:l[2]||(l[2]=r=>B(y.value))},{default:a(()=>[p(i(n(o)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),g("div",null,[U((m(),h(S,{data:e.data,size:"large"},{empty:a(()=>[g("span",null,i(e.loading?"":n(o)("emptyData")),1)]),default:a(()=>[t(c,{prop:"group_name",label:n(o)("groupName")},null,8,["label"]),t(c,{prop:"group_name",label:n(o)("appName"),"show-overflow-tooltip":!0},{default:a(({row:r})=>[(m(!0),f(x,null,C(r.app_name,_=>(m(),h(w,{class:"mr-1",size:"small"},{default:a(()=>[p(i(_),1)]),_:2},1024))),256))]),_:1},8,["label"]),t(c,{prop:"group_name",label:n(o)("addonName"),"show-overflow-tooltip":!0},{default:a(({row:r})=>[(m(!0),f(x,null,C(r.addon_name,_=>(m(),h(w,{class:"mr-1",size:"small"},{default:a(()=>[p(i(_),1)]),_:2},1024))),256))]),_:1},8,["label"]),t(c,{prop:"create_time",label:n(o)("createTime")},null,8,["label"]),t(c,{prop:"group_roles",label:n(o)("operation"),align:"right",fixed:"right",width:"130"},{default:a(({row:r})=>[t(u,{type:"primary",link:"",onClick:_=>z(r)},{default:a(()=>[p(i(n(o)("edit")),1)]),_:2},1032,["onClick"]),t(u,{type:"primary",link:"",onClick:_=>F(r.group_id)},{default:a(()=>[p(i(n(o)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[$,e.loading]]),g("div",le,[t(V,{"current-page":e.page,"onUpdate:current-page":l[3]||(l[3]=r=>e.page=r),"page-size":e.limit,"onUpdate:page-size":l[4]||(l[4]=r=>e.limit=r),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:l[5]||(l[5]=r=>d()),onCurrentChange:d},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{xe as default};
