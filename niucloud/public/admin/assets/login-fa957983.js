import{d as E,x as y,r as g,n as B,l as D,q as s,h as v,c as N,R as S,s as U,w as r,e as i,a as n,t as m,u as a,i as R,au as F,L as M,aS as T,a6 as k,M as O,E as L,Y as j}from"./index-34979a7f.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                *//* empty css                  *//* empty css                    */import{Y as q,Z as A}from"./member-3d8539dd.js";const J={class:"main-container"},Y={class:"panel-title !text-sm"},I={class:"form-tip"},Z={class:"form-tip"},$={class:"form-tip"},z={class:"form-tip"},G={class:"panel-title !text-sm"},H={class:"form-tip"},K={class:"fixed-footer-wrap"},P={class:"fixed-footer"},re=E({__name:"login",setup(Q){y().meta.title;const _=g(!0),b=g(),t=B({is_username:0,is_mobile:0,is_auth_register:0,is_bind_mobile:0,agreement_show:0}),h=D(()=>({type:[{required:!0,trigger:"change",validator:(d,e,l)=>{!t.is_mobile&&!t.is_username?l(new Error(s("mobileOrUsernameNoEmpty"))):l()}}]}));(async(d=0)=>{const e=await(await q()).data;Object.keys(t).forEach(l=>{e[l]!=null&&(t[l]=Boolean(Number(e[l])))}),_.value=!1})();const p=(d,e)=>{t[e]=d},w=async d=>{_.value||!d||await d.validate(e=>{if(e){const l=JSON.parse(JSON.stringify(t));Object.keys(l).forEach(u=>{l[u]=Number(l[u])}),A(l).then(()=>{_.value=!1}).catch(()=>{_.value=!1})}})};return(d,e)=>{const l=F,u=M,f=T,c=k,V=O,x=L,C=j;return v(),N("div",J,[S((v(),U(V,{class:"page-form",model:t,rules:a(h),"label-width":"150px",ref_key:"ruleFormRef",ref:b},{default:r(()=>[i(c,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[n("h3",Y,m(a(s)("commonSetting")),1),i(u,{label:a(s)("logonMode"),prop:"type"},{default:r(()=>[i(l,{modelValue:t.is_username,"onUpdate:modelValue":e[0]||(e[0]=o=>t.is_username=o),label:a(s)("isUsername"),onChange:e[1]||(e[1]=o=>p(o,"is_username"))},null,8,["modelValue","label"]),n("div",I,m(a(s)("isUsernameTip")),1),i(l,{modelValue:t.is_mobile,"onUpdate:modelValue":e[2]||(e[2]=o=>t.is_mobile=o),label:a(s)("isMobile"),onChange:e[3]||(e[3]=o=>p(o,"is_mobile"))},null,8,["modelValue","label"]),n("div",Z,m(a(s)("isMobileTip")),1)]),_:1},8,["label"]),i(u,{label:a(s)("isBindMobile"),prop:"formData.is_bind_mobile"},{default:r(()=>[i(f,{modelValue:t.is_bind_mobile,"onUpdate:modelValue":e[4]||(e[4]=o=>t.is_bind_mobile=o),onChange:e[5]||(e[5]=o=>p(o,"is_bind_mobile"))},null,8,["modelValue"]),n("div",$,m(a(s)("isBindMobileTip")),1)]),_:1},8,["label"]),i(u,{label:a(s)("agreement"),prop:"formData.agreement_show"},{default:r(()=>[i(f,{modelValue:t.agreement_show,"onUpdate:modelValue":e[6]||(e[6]=o=>t.agreement_show=o),onChange:e[7]||(e[7]=o=>p(o,"agreement_show"))},null,8,["modelValue"]),n("div",z,m(a(s)("agreementTips")),1)]),_:1},8,["label"])]),_:1}),i(c,{class:"box-card mt-[15px] !border-none",shadow:"never"},{default:r(()=>[n("h3",G,m(a(s)("tripartiteSetting")),1),i(u,{label:a(s)("isAuthRegister"),prop:"formData.is_auth_register"},{default:r(()=>[i(f,{modelValue:t.is_auth_register,"onUpdate:modelValue":e[8]||(e[8]=o=>t.is_auth_register=o),onChange:e[9]||(e[9]=o=>p(o,"is_auth_register"))},null,8,["modelValue"]),n("div",H,m(a(s)("isAuthRegisterTip")),1)]),_:1},8,["label"])]),_:1})]),_:1},8,["model","rules"])),[[C,_.value]]),n("div",K,[n("div",P,[i(x,{type:"primary",onClick:e[10]||(e[10]=o=>w(b.value))},{default:r(()=>[R(m(a(s)("save")),1)]),_:1})])])])}}});export{re as default};
