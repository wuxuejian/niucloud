import{d as B,x as K,f as O,r as y,n as I,l as D,q as e,aO as Q,Q as L,U as k,h as f,c as j,e as a,w as r,u as o,aP as F,R as W,s as g,a as i,t as p,B as V,i as v,aQ as G,a6 as H,K as Y,L as J,as as X,at as Z,M as ee,E as oe,Y as le}from"./index-34979a7f.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                       *//* empty css                 */import{_ as ae}from"./index.vue_vue_type_style_index_0_lang-65645d39.js";import te from"./index-0da618fa.js";/* empty css                 *//* empty css                *//* empty css                       */import{g as x,d as re}from"./weapp-d2859b61.js";/* empty css                    *//* empty css                        */import"./index.vue_vue_type_style_index_0_lang-645eb1b7.js";/* empty css                  *//* empty css                   */import"./attachment-0daaf0f6.js";import"./index.vue_vue_type_script_setup_true_lang-d47218dc.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-0998f18f.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-e10327f5.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const pe={class:"main-container"},se={class:"panel-title !text-sm"},ie={class:"form-tip"},de={class:"panel-title !text-sm"},ne={class:"form-tip"},ue={class:"form-tip"},ce={class:"panel-title !text-sm"},me={class:"input-width"},_e={class:"form-tip"},fe={class:"form-tip"},ve={class:"panel-title !text-sm"},he={class:"form-tip"},ge={class:"form-tip"},we={class:"form-tip"},be={class:"form-tip"},ye={class:"form-tip"},ke={class:"flex"},Ve={class:"panel-title !text-sm"},xe={class:"fixed-footer-wrap"},Pe={class:"fixed-footer"},no=B({__name:"config",setup(Ue){const P=K();O();const U=P.meta.title,c=y(!0),l=I({weapp_name:"",weapp_original:"",app_id:"",app_secret:"",qr_code:"",token:"",encoding_aes_key:"",encryption_type:"not_encrypt",serve_url:"",request_url:"",socket_url:"",upload_url:"",download_url:"",upload_private_key:"",is_authorization:0}),w=y(),q=D(()=>({weapp_name:[{required:!0,message:e("weappNamePlaceholder"),trigger:"blur"}],weapp_original:[{required:!0,message:e("weappOriginalPlaceholder"),trigger:"blur"}],app_id:[{required:!0,message:e("appidPlaceholder"),trigger:"blur"}],app_secret:[{required:!l.is_authorization,message:e("appSecretPlaceholder"),trigger:"blur"}],token:[{required:!0,message:e("tokenPlaceholder"),trigger:"blur"}],encoding_aes_key:[{required:!0,message:e("encodingAesKeyPlaceholder"),trigger:"blur"}]}));x().then(u=>{Object.assign(l,u.data),c.value=!1}),x().then(u=>{Object.assign(u.data)});const{copy:C,isSupported:E,copied:b}=Q(),_=u=>{if(!E.value){k({message:e("notSupportCopy"),type:"warning"});return}C(u)};L(b,()=>{b.value&&k({message:e("copySuccess"),type:"success"})});const M=async u=>{c.value||!u||await u.validate(async t=>{t&&(c.value=!0,re(l).then(()=>{c.value=!1}).catch(()=>{c.value=!1}))})};return(u,t)=>{const T=G,m=H,n=Y,d=J,S=te,R=ae,h=X,$=Z,A=ee,N=oe,z=le;return f(),j("div",pe,[a(m,{class:"card !border-none",shadow:"never"},{default:r(()=>[a(T,{content:o(U),icon:o(F),onBack:t[0]||(t[0]=s=>u.$router.back())},null,8,["content","icon"])]),_:1}),W((f(),g(A,{class:"page-form mt-[15px]",model:l,"label-width":"170px",ref_key:"formRef",ref:w,rules:o(q)},{default:r(()=>[a(m,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[i("h3",se,p(o(e)("weappInfo")),1),a(d,{label:o(e)("weappName"),prop:"weapp_name"},{default:r(()=>[a(n,{modelValue:l.weapp_name,"onUpdate:modelValue":t[1]||(t[1]=s=>l.weapp_name=s),modelModifiers:{trim:!0},placeholder:o(e)("weappNamePlaceholder"),class:"input-width",clearable:"",readonly:l.is_authorization},null,8,["modelValue","placeholder","readonly"])]),_:1},8,["label"]),a(d,{label:o(e)("weappOriginal"),prop:"weapp_original"},{default:r(()=>[a(n,{modelValue:l.weapp_original,"onUpdate:modelValue":t[2]||(t[2]=s=>l.weapp_original=s),modelModifiers:{trim:!0},placeholder:o(e)("weappOriginalPlaceholder"),class:"input-width",clearable:"",readonly:l.is_authorization},null,8,["modelValue","placeholder","readonly"])]),_:1},8,["label"]),a(d,{label:o(e)("weappQrcode"),prop:"qr_code"},{default:r(()=>[a(S,{modelValue:l.qr_code,"onUpdate:modelValue":t[3]||(t[3]=s=>l.qr_code=s)},null,8,["modelValue"]),i("div",ie,p(o(e)("weappQrcodeTips")),1)]),_:1},8,["label"])]),_:1}),a(m,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:r(()=>[i("h3",de,p(o(e)("weappDevelopInfo")),1),a(d,{label:o(e)("weappAppid"),prop:"app_id"},{default:r(()=>[a(n,{modelValue:l.app_id,"onUpdate:modelValue":t[4]||(t[4]=s=>l.app_id=s),modelModifiers:{trim:!0},placeholder:o(e)("appidPlaceholder"),class:"input-width",clearable:"",readonly:l.is_authorization},null,8,["modelValue","placeholder","readonly"]),i("div",ne,p(o(e)("weappAppidTips")),1)]),_:1},8,["label"]),l.is_authorization?V("",!0):(f(),g(d,{key:0,label:o(e)("weappAppsecret"),prop:"app_secret"},{default:r(()=>[a(n,{modelValue:l.app_secret,"onUpdate:modelValue":t[5]||(t[5]=s=>l.app_secret=s),modelModifiers:{trim:!0},placeholder:o(e)("appSecretPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),i("div",ue,p(o(e)("weappAppsecretTips")),1)]),_:1},8,["label"]))]),_:1}),l.is_authorization?V("",!0):(f(),g(m,{key:0,class:"box-card !border-none mt-[15px]",shadow:"never"},{default:r(()=>[i("h3",ce,p(o(e)("weappUpload")),1),a(d,{label:o(e)("uploadKey"),prop:"upload_private_key"},{default:r(()=>[i("div",me,[a(R,{modelValue:l.upload_private_key,"onUpdate:modelValue":t[6]||(t[6]=s=>l.upload_private_key=s),api:"sys/document/wechat"},null,8,["modelValue"])]),i("div",_e,p(o(e)("uploadKeyTips")),1),i("div",fe,p(o(e)("uploadIpTips"))+p(l.upload_ip),1)]),_:1},8,["label"])]),_:1})),a(m,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:r(()=>[i("h3",ve,p(o(e)("theServerSetting")),1),a(d,{label:"URL"},{default:r(()=>[a(n,{"model-value":l.serve_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:r(()=>[i("div",{class:"cursor-pointer",onClick:t[7]||(t[7]=s=>_(l.serve_url))},p(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1}),a(d,{label:"Token",prop:"token"},{default:r(()=>[a(n,{modelValue:l.token,"onUpdate:modelValue":t[8]||(t[8]=s=>l.token=s),modelModifiers:{trim:!0},placeholder:o(e)("tokenPlaceholder"),class:"input-width",maxlength:"32","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),i("div",he,p(o(e)("tokenTips")),1)]),_:1}),a(d,{label:"EncodingAESKey",prop:"encoding_aes_key"},{default:r(()=>[a(n,{modelValue:l.encoding_aes_key,"onUpdate:modelValue":t[9]||(t[9]=s=>l.encoding_aes_key=s),modelModifiers:{trim:!0},placeholder:o(e)("encodingAesKeyPlaceholder"),class:"input-width",maxlength:"43","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),i("div",ge,p(o(e)("encodingAESKeyTips")),1)]),_:1}),a(d,{label:o(e)("encryptionType"),prop:"encryption_type"},{default:r(()=>[a($,{modelValue:l.encryption_type,"onUpdate:modelValue":t[10]||(t[10]=s=>l.encryption_type=s)},{default:r(()=>[a(h,{label:"not_encrypt"},{default:r(()=>[v(p(o(e)("cleartextMode")),1)]),_:1}),a(h,{label:"compatible"},{default:r(()=>[v(p(o(e)("compatibleMode")),1)]),_:1}),a(h,{label:"safe"},{default:r(()=>[v(p(o(e)("safeMode")),1)]),_:1})]),_:1},8,["modelValue"]),i("div",we,p(o(e)("cleartextModeTips")),1),i("div",be,p(o(e)("compatibleModeTips")),1),i("div",ye,p(o(e)("safeModeTips")),1)]),_:1},8,["label"])]),_:1}),a(m,{class:"box-card !border-none mt-[15px]",shadow:"never"},{default:r(()=>[i("div",ke,[i("h3",Ve,p(o(e)("functionSetting")),1)]),a(d,{label:o(e)("requestUrl")},{default:r(()=>[a(n,{"model-value":l.request_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:r(()=>[i("div",{class:"cursor-pointer",onClick:t[11]||(t[11]=s=>_(l.request_url))},p(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),a(d,{label:o(e)("socketUrl")},{default:r(()=>[a(n,{"model-value":l.socket_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:r(()=>[i("div",{class:"cursor-pointer",onClick:t[12]||(t[12]=s=>_(l.socket_url))},p(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),a(d,{label:o(e)("uploadUrl")},{default:r(()=>[a(n,{"model-value":l.upload_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:r(()=>[i("div",{class:"cursor-pointer",onClick:t[13]||(t[13]=s=>_(l.upload_url))},p(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),a(d,{label:o(e)("downloadUrl")},{default:r(()=>[a(n,{"model-value":l.download_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:r(()=>[i("div",{class:"cursor-pointer",onClick:t[14]||(t[14]=s=>_(l.download_url))},p(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","rules"])),[[z,c.value]]),i("div",xe,[i("div",Pe,[a(N,{type:"primary",loading:c.value,onClick:t[15]||(t[15]=s=>M(w.value))},{default:r(()=>[v(p(o(e)("save")),1)]),_:1},8,["loading"])])])])}}});export{no as default};
