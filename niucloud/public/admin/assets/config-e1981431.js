import{a1 as g,d as I,O as B,r as f,n as D,b1 as R,b0 as F,s as O,a2 as v,N as o,y as P,h as U,c as $,a as r,t as u,u as c,e as n,w as i,i as j,_ as L,b2 as M,Z as T,ac as Z,$ as z,E as A,a4 as G,p as H,g as J}from"./index-d1ed2ead.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                *//* empty css                 *//* empty css                  */import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";const Q=""+new URL("preview-52aad803.png",import.meta.url).href;function W(){return g.get("channel/pc/config")}function X(p){return g.put("channel/pc/config",p,{showSuccessMessage:!0})}const Y=p=>(H("data-v-6533acd4"),p=p(),J(),p),ee={class:"main-container bg-[#fff] rounded-[4px]"},te={class:"flex pl-[18px] justify-between items-center pt-[20px]"},se={class:"text-page-title"},ae=Y(()=>r("img",{class:"w-[500px]",src:Q,alt:""},null,-1)),oe={class:"fixed-footer-wrap"},ne={class:"fixed-footer"},le=I({__name:"config",setup(p){const w=B().meta.title,s=f(!0),e=D({is_open:!1,request_url:""}),d=f();R().then(t=>{e.request_url=t.data.web_url+"/",s.value=!1}),W().then(t=>{Object.assign(e,t.data),e.is_open=Boolean(Number(e.is_open)),s.value=!1});const{copy:b,isSupported:h,copied:m}=F(),y=t=>{if(!h.value){v({message:o("notSupportCopy"),type:"warning"});return}b(t)};O(m,()=>{m.value&&v({message:o("copySuccess"),type:"success"})});const x=()=>{window.open(e.request_url)},C=async t=>{s.value||!t||await t.validate(async a=>{if(a){s.value=!0;const l={...e};l.is_open=Number(l.is_open),X(l).then(()=>{s.value=!1}).catch(()=>{s.value=!1})}})};return(t,a)=>{const l=L,E=M,S=T,N=Z,k=z,V=A,q=G;return P((U(),$("div",ee,[r("div",te,[r("span",se,u(c(w)),1)]),n(k,{model:e,"label-width":"150px",ref_key:"formRef",ref:d,class:"page-form"},{default:i(()=>[n(N,{class:"box-card !border-none",shadow:"never"},{default:i(()=>[n(l,{label:c(o)("preview"),prop:"weapp_name"},{default:i(()=>[ae]),_:1},8,["label"]),n(l,{label:c(o)("isOpen")},{default:i(()=>[n(E,{modelValue:e.is_open,"onUpdate:modelValue":a[0]||(a[0]=_=>e.is_open=_)},null,8,["modelValue"])]),_:1},8,["label"]),n(l,{label:c(o)("PCDomainName")},{default:i(()=>[n(S,{"model-value":e.request_url,class:"input-width",readonly:!0},{append:i(()=>[r("div",{class:"cursor-pointer",onClick:a[1]||(a[1]=_=>y(e.request_url))},u(c(o)("copy")),1)]),_:1},8,["model-value"]),r("span",{class:"ml-2 cursor-pointer visit-btn",onClick:x},u(c(o)("clickVisit")),1)]),_:1},8,["label"])]),_:1})]),_:1},8,["model"]),r("div",oe,[r("div",ne,[n(V,{type:"primary",loading:s.value,onClick:a[2]||(a[2]=_=>C(d.value))},{default:i(()=>[j(u(c(o)("save")),1)]),_:1},8,["loading"])])])])),[[q,s.value]])}}});const ve=K(le,[["__scopeId","data-v-6533acd4"]]);export{ve as default};
