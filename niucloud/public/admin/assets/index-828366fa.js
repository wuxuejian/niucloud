import{d as K,G as c,ec as X,D as Y,dj as Z,r as u,l as R,aQ as ee,a5 as te,h as a,s as C,w as l,e as i,a as o,u as n,q as r,c as m,B as T,P as B,cA as D,i as F,t as _,Q as q,v as b,F as $,e7 as oe,e8 as ne,ag as ie,ah as se,E as ae,a1 as le,z as re,f as ce,x as ue}from"./index-ae2d9b78.js";/* empty css                  *//* empty css                   *//* empty css                  *//* empty css               */import{_ as de}from"./index.vue_vue_type_script_setup_true_lang-657c47c5.js";import pe from"./layout-setting-c4dd78e4.js";import{_ as me}from"./switch-lang.vue_vue_type_script_setup_true_lang-dcf9dd14.js";import{_ as fe}from"./user-info.vue_vue_type_script_setup_true_lang-600398e9.js";import{_ as _e}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                 *//* empty css                  *//* empty css                       *//* empty css                 */import"./theme_black-a592e885.js";/* empty css                         *//* empty css                  *//* empty css                  */const ve={class:"right-panel h-full flex items-center justify-end"},he=["title"],ge=["title"],xe={class:"navbar-item flex items-center h-full cursor-pointer"},ye={class:"navbar-item flex items-center h-full cursor-pointer"},we={class:"navbar-item flex items-center h-full cursor-pointer"},ke={class:"dialog-footer"},Ce={class:"flex flex-wrap"},be=["onClick"],Se=["onClick"],Ve={class:"dialog-footer"},Ie=K({__name:"index",setup(Le){const S=ce(),V=c.get("app_type"),{toggle:I,isFullscreen:j}=X(),f=Y(),L=Z(),M=ue(),w=u(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth),N=R(()=>f.dark),v=u(!1),h=u(""),g=u("");c.get("comparisonTokenStorage")&&(h.value=c.get("comparisonTokenStorage")),c.get("comparisonSiteIdStorage")&&(g.value=c.get("comparisonSiteIdStorage")),document.addEventListener("visibilitychange",s=>{document.visibilityState==="visible"&&(g.value!=c.get("siteId")||h.value!=c.get("token"))&&(v.value=!0)});const U=()=>{v.value=!1,location.reload()};ee(()=>{window.onresize=()=>(()=>{w.value=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})()}),te(w,()=>{w.value<992?f.menuIsCollapse||f.toggleMenuCollapse(!0):f.menuIsCollapse&&f.toggleMenuCollapse(!1)});const z=()=>{L.routeRefreshTag&&L.refreshRouterView()};R(()=>{const s=M.matched.filter(e=>e.meta.title);return s[0]&&s[0].path=="/"&&s.splice(0,1),s});const A=()=>{const s=S.resolve({path:"/preview/wap",query:{page:"/"}});window.open(s.href)},d=u(),x=u(!1),P=()=>{oe().then(s=>{x.value=!0,d.value=s.data;for(let e=0;e<d.value.length;e++)d.value[e].is_use==1&&(p.value=d.value[e].view_path)})},p=u(""),Q=()=>{ne({view_path:p.value}).then(()=>{x.value=!1,S.go(0)})};return(s,e)=>{const y=de,G=ie,H=se,E=ae,W=le,O=re;return a(),C(O,{class:b(["h-full px-[10px]",{"layout-header border-b border-color":!n(N)}])},{default:l(()=>[i(H,{class:"w-100 h-full w-full",justify:"end"},{default:l(()=>[i(G,{span:12},{default:l(()=>[o("div",ve,[o("div",{class:"navbar-item flex items-center h-full cursor-pointer",onClick:z},[i(y,{name:"element-Refresh"})]),o("i",{class:"iconfont iconicon_huojian1 cursor-pointer px-[8px]",title:n(r)("visitWap"),onClick:A},null,8,he),n(V)=="site"?(a(),m("i",{key:0,class:"iconfont iconlingdang-xianxing cursor-pointer px-[8px]",title:n(r)("newInfo")},null,8,ge)):T("",!0),n(V)=="site"?(a(),m("div",{key:1,class:"navbar-item flex items-center h-full cursor-pointer",onClick:P},[i(y,{name:"iconfont-iconqiehuan",title:n(r)("indexSwitch")},null,8,["title"])])):T("",!0),o("div",xe,[i(me)]),o("div",{class:"navbar-item flex items-center h-full cursor-pointer",onClick:e[0]||(e[0]=(...t)=>n(I)&&n(I)(...t))},[n(j)?(a(),C(y,{key:0,name:"iconfont-icontuichuquanping"})):(a(),C(y,{key:1,name:"iconfont-iconquanping"}))]),o("div",ye,[i(pe)]),o("div",we,[i(fe)])])]),_:1})]),_:1}),B(o("input",{type:"hidden","onUpdate:modelValue":e[1]||(e[1]=t=>h.value=t)},null,512),[[D,h.value]]),B(o("input",{type:"hidden","onUpdate:modelValue":e[2]||(e[2]=t=>g.value=t)},null,512),[[D,g.value]]),i(W,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=t=>v.value=t),title:n(r)("layout.detectionLoginTip"),width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:l(()=>[o("span",ke,[i(E,{onClick:U},{default:l(()=>[F(_(n(r)("layout.detectionLoginOperation")),1)]),_:1})])]),default:l(()=>[o("span",null,_(n(r)("layout.detectionLoginContent")),1)]),_:1},8,["modelValue","title"]),i(W,{modelValue:x.value,"onUpdate:modelValue":e[4]||(e[4]=t=>x.value=t),title:n(r)("indexTemplate"),width:"550px","destroy-on-close":!0},{footer:l(()=>[o("span",Ve,[i(E,{type:"primary",onClick:Q},{default:l(()=>[F(_(n(r)("confirm")),1)]),_:1})])]),default:l(()=>[o("div",Ce,[p.value==""?(a(!0),m($,{key:0},q(d.value,(t,k)=>(a(),m("div",{key:k},[o("div",{onClick:J=>p.value=t.view_path,class:b(["index-item py-[5px] px-[10px] mr-[10px] rounded-[3px] cursor-pointer",t.is_use==1?"bg-primary text-[#fff]":""])},[o("span",null,_(t.name),1)],10,be)]))),128)):(a(!0),m($,{key:1},q(d.value,(t,k)=>(a(),m("div",{key:k},[o("div",{onClick:J=>p.value=t.view_path,class:b(["index-item py-[5px] px-[10px] mr-[10px] rounded-[3px] cursor-pointer",p.value==t.view_path?"bg-primary text-[#fff]":""])},[o("span",null,_(t.name),1)],10,Se)]))),128))])]),_:1},8,["modelValue","title"])]),_:1},8,["class"])}}});const Xe=_e(Ie,[["__scopeId","data-v-5c0e8d2d"]]);export{Xe as default};
