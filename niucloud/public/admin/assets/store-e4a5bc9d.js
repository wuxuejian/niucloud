import{d as hl,f as xl,O as gl,r as c,W as Me,K as yl,s as bl,n as Pe,N as t,a8 as ne,h as u,c as p,a as s,e,w as l,t as d,u as i,S as kl,A as oe,y as ie,I as k,i as f,B as g,F as B,a5 as wl,G as Y,z as ke,ah as ze,a2 as qe,ai as Cl,aj as He,aa as de,a7 as El,Z as Il,Y as Tl,aB as Al,ak as Vl,al as Bl,E as Sl,am as Rl,ag as Dl,an as Fl,ab as Ll,_ as $l,ac as Ul,$ as jl,ad as Nl,ao as Ol,ap as Ml,aq as Pl,ar as zl,as as ql,at as Hl,au as Kl,a4 as Ql,p as Gl,g as Wl}from"./index-d1ed2ead.js";/* empty css                   *//* empty css                 */import{T as Yl,_ as Zl}from"./vue-web-terminal-90c3b6d0.js";/* empty css                     *//* empty css               *//* empty css                *//* empty css                   *//* empty css                     *//* empty css                *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                 *//* empty css                 *//* empty css                    *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                        *//* empty css                 *//* empty css                        *//* empty css                 *//* empty css                */import{_ as Jl}from"./icon-addon-339e16d0.js";import{_ as we}from"./apply_empty-cdca3e85.js";import{a as Xl,p as et,b as lt,i as tt,c as at,d as st,e as nt,u as ot,f as it}from"./addon-e2495bdc.js";import{d as dt}from"./tools-dcf08d71.js";import{a as Ke,d as ut,s as ct}from"./module-cc742345.js";import{U as rt,C as pt}from"./index-64c8bacd.js";import{_ as ft}from"./_plugin-vue_export-helper-c27b6911.js";const S=Z=>(Gl("data-v-694607eb"),Z=Z(),Wl(),Z),_t={class:"box-border main-container"},vt={class:"flex justify-between items-center h-[32px] mb-4"},mt={class:"text-page-title text-[#222]"},ht={class:"flex my-[10px] justify-between"},xt={class:"flex"},gt={class:"min-h-[300px]"},yt=S(()=>s("div",{class:"flex items-center w-full h-full"},[s("img",{class:"max-w-full max-h-full",src:Jl,alt:""})],-1)),bt={class:"flex flex-col justify-center pl-[20px] text-[#222] font-500 text-[13px]"},kt={class:"w-[236px] truncate leading-[18px]"},wt={key:0,class:"w-[236px] truncate leading-[18px] mt-[6px]"},Ct={key:1,class:"w-[236px] truncate leading-[18px] mt-[6px]"},Et={key:2,class:"mt-[3px]"},It={class:"flex items-center"},Tt={class:"text-[#222] font-500 text-[13px] mr-[5px]"},At={class:"text-[#222] font-500 text-[13px]"},Vt={class:"text-[#222] font-500 text-[13px] multi-hidden"},Bt={class:"text-[#222] font-500 text-[13px]"},St={class:"text-[#222] font-500 text-[13px]"},Rt=S(()=>s("div",{class:"w-[230px] mx-auto"},[s("img",{src:we,class:"max-w-full",alt:""})],-1)),Dt={class:"flex items-center"},Ft=S(()=>s("div",{class:"w-[230px] mx-auto"},[s("img",{src:we,class:"max-w-full",alt:""})],-1)),Lt={class:"flex items-center"},$t={key:3,class:"mx-auto overview-empty flex flex-col items-center pt-14 pb-6"},Ut=S(()=>s("div",{class:"mb-[20px] text-sm text-[#888]"},"检测到当前账号尚未绑定授权，请先绑定授权！",-1)),jt={class:"flex flex-1 flex-wrap justify-center relative"},Nt={class:"px-[18px] py-[8px]"},Ot=S(()=>s("p",{class:"leading-[32px] text-[14px]"}," 您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),Mt={class:"flex justify-end mt-[36px]"},Pt=S(()=>s("div",{class:"w-[230px] mx-auto"},[s("img",{src:we,class:"max-w-full",alt:""})],-1)),zt={class:"flex items-center"},qt={class:"mt-[20px]"},Ht={class:"text-sm mt-[10px] text-info"},Kt={class:"mt-[20px]"},Qt={class:"mt-[10px] text-right"},Gt={class:"input-width"},Wt={class:"input-width"},Yt={class:"input-width"},Zt={class:"input-width"},Jt={class:"dialog-footer"},Xt={class:"min-h-[150px]"},ea={key:0,class:"bg-[#fff] my-3"},la={class:"pt-[20px] pl-[20px]"},ta={class:"px-[20px] pt-[10px] text-[14px]"},aa={key:0},sa={key:1},na={key:0},oa={key:1},ia={class:"flex justify-end"},da={class:"h-[50vh] mt-[20px]"},ua={class:"h-[50vh] mt-[20px] flex flex-col"},ca={class:"min-h-[150px]"},ra={key:0,class:"bg-[#fff] my-3"},pa={class:"pt-[20px] pl-[20px]"},fa={class:"px-[20px] pt-[10px] text-[14px]"},_a={key:0},va={key:1},ma={key:0},ha={key:1},xa=S(()=>s("span",null,"本地已经存在该插件/应用，再次下载会覆盖该插件/应用。",-1)),ga={class:"dialog-footer"},ya=hl({__name:"store",setup(Z){xl();const Ce=gl(),y=c(Me.get("storeActiveName")||"installed"),Ee=c(null),J=c(null),C=c(!0),R=c(""),ue=c([]),X=yl(),M=c(!1),P=c(null),Ie=c(),Qe=()=>{Te(Ie.value,!0)},z=n=>{y.value=n,Me.set({key:"storeActiveName",data:n})};Ce.query.id&&z(Ce.query.id);const Te=(n,o=!1)=>{if(n.is_download&&y.value=="all"&&!o)return M.value=!0,Ie.value=n,!1;R.value||(R.value=n.key,ut({addon:n.key,version:n.version}).then(()=>{M.value=!1,Be(n.key),V(),R.value=""}).catch(()=>{R.value=""}))},ce=c("");Ke().then(n=>{n.data.data&&n.data.data.auth_code&&(ce.value=n.data.data.auth_code)}).catch(()=>{});const T=c(""),A=c({installed:[],uninstalled:[],all:[]}),re=()=>{if(T.value==""||T.value==null)return A.value.installed=_.value.installed,A.value.uninstalled=_.value.uninstalled,A.value.all=_.value.all,!1;A.value.installed=_.value.installed.filter(n=>n.title.indexOf(T.value)!=-1),A.value.uninstalled=_.value.uninstalled.filter(n=>n.title.indexOf(T.value)!=-1),A.value.all=_.value.all.filter(n=>n.title.indexOf(T.value)!=-1)},_=c({installed:[],uninstalled:[],all:[],error:""}),V=()=>{C.value=!0,Xl({}).then(n=>{var x;const o=n.data.list;_.value.error=n.data.error,_.value.installed=[],_.value.uninstalled=[],_.value.all=[];for(const r in o)o[r].is_local==!1&&_.value.all.push(o[r]),o[r].install_info&&((x=Object.keys(o[r].install_info))!=null&&x.length)?_.value.installed.push(o[r]):o[r].is_download==!0&&_.value.uninstalled.push(o[r]);re(),X.routers.forEach((r,K)=>{r.children&&r.children.length?(r.name=ze(r.children),Ae.value[r.meta.app]=ze(r.children)):Ae.value[r.meta.app]=r.name}),C.value=!1}).catch(()=>{C.value=!1})};V();const Ge=()=>{qe("请在站点中运行程序!")},Ae=c({}),I=c(""),D=c(!1),b=c(1),w=c({});let pe=null;const Ve=new Yl,We=(n,o,x,r,K)=>{if(o=="开始安装插件"){x(Ve);const xe=Ye(["/","——","\\","|"]);pe=setInterval(()=>{Ve.flush("> "+xe.next().value)},150)}};function Ye(n){let o=0;return{next(){return o+1==n.length&&(o=0),{value:n[o++]}}}}const Be=n=>{I.value=n,et(n).then(o=>{b.value=1,D.value=!0,ue.value=[],w.value=o.data,X.clearRouters()}).catch(()=>{})};let q=null;const fe=(n=!0)=>{lt().then(o=>{if(o.data){if(n&&(_e=[],I.value=o.data.addon,D.value||(q=Cl.success({title:t("warning"),dangerouslyUseHTMLString:!0,message:He("div",{},[t("installingTips"),He("span",{class:"text-primary cursor-pointer",onClick:Ze},[t("installPercent")])]),duration:0,showClose:!1}))),o.data.error){qe({message:"插件安装失败",type:"error",duration:5e3});return}o.data.mode=="cloud"&&el(),setTimeout(()=>{fe(!1)},2e3)}else n||(b.value=3,V(),X.clearRouters(),q.close())})};fe();const Ze=()=>{D.value=!0,b.value=2},F=c(!1),Je=()=>{!w.value.is_pass||F.value||(F.value=!0,tt({addon:I.value}).then(n=>{b.value=3,V(),F.value=!1,n.data.length&&(ue.value=n.data)}).catch(n=>{F.value=!1}))},L=c(!1),Xe=()=>{if(!ce.value){Se();return}!w.value.is_pass||L.value||(L.value=!0,at({addon:I.value}).then(n=>{b.value=2,P.value.execute("clear"),P.value.execute("开始安装插件"),fe(),L.value=!1}).catch(n=>{L.value=!1}))},Se=()=>{de.confirm(t("authTips"),t("warning"),{distinguishCancelAndClose:!0,confirmButtonText:t("toBind"),cancelButtonText:t("toNiucloud")}).then(()=>{Fe()}).catch(n=>{n==="cancel"&&window.open("https://www.niucloud.com/app")})};let _e=[];const el=()=>{st(I.value).then(n=>{const o=n.data.data??[];o[0]&&o[0].length&&D.value==!0&&o[0].forEach(x=>{_e.includes(x.action)||(P.value.pushMessage({content:`正在执行：${x.action}`}),_e.push(x.action),x.code==0&&P.value.pushMessage({content:x.msg,class:"error"}))})}).catch(()=>{q==null||q.close()})};bl(I,n=>{w.value={}});const ve=c(!1),ee=c({}),ll=n=>{sl(n)},tl=n=>{var o;(o=Ee.value)==null||o.open(n)},al=()=>{var n;if(!ce.value){Se();return}if(J.value.cloudBuildTask){(n=J.value)==null||n.open();return}de.confirm(t("cloudBuildTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{var o;(o=J.value)==null||o.open()})},sl=n=>{nt(n).then(({data:o})=>{o.is_pass?ot({addon:n}).then(x=>{V(),X.clearRouters(),C.value=!1}).catch(()=>{C.value=!1}):(ee.value=o,ve.value=!0)})},Re=()=>{window.open("https://www.niucloud.com/app")},nl=n=>{b.value==2?de.confirm(t("installShowDialogCloseTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{it(I.value),n()}).catch(()=>{}):b.value==3?(z("installed"),location.reload()):n(),pe&&clearInterval(pe)},le=c(!1),$=c({}),ol=n=>{le.value=!0,$.value=n},te=c(!1),me=c(""),De=c(null),H=c(!1),E=c(!0);(()=>{E.value=!0,Ke().then(n=>{E.value=!1,n.data.data&&n.data.data.length!=0&&(me.value=n.data.data)}).catch(()=>{E.value=!1,te.value=!1})})();const Fe=()=>{te.value=!0},U=Pe({auth_code:"",auth_secret:""}),he=c(),il=Pe({auth_code:[{required:!0,message:t("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:t("authSecretPlaceholder"),trigger:"blur"}]}),dl=async n=>{H.value||!n||await n.validate(async o=>{o&&(H.value=!0,ct(U).then(()=>{H.value=!1,setTimeout(()=>{location.reload()},1e3)}).catch(()=>{H.value=!1}))})},Le=()=>{window.open("https://www.niucloud.com/app")},ul=n=>{de.confirm(t("deleteAddonTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{dt(n).then(()=>{V()})}).catch(()=>{})};return(n,o)=>{const x=ne("search"),r=El,K=Il,xe=Tl,cl=Al,j=Vl,rl=ne("QuestionFilled"),ge=Bl,m=Sl,pl=Rl,ye=Dl,$e=Fl,fl=Ll,N=$l,Ue=Ul,je=jl,Q=Nl,be=Ol,_l=Ml,v=Pl,O=zl,ae=ne("Select"),se=ne("CloseBold"),Ne=ql,vl=Hl,ml=Kl,Oe=Ql;return u(),p(B,null,[s("div",_t,[e(Ue,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[s("div",vt,[s("span",mt,d(i(t)("localAppText")),1),e(K,{class:"!w-[250px]",placeholder:i(t)("search"),modelValue:T.value,"onUpdate:modelValue":o[0]||(o[0]=a=>T.value=a),onKeyup:kl(re,["enter"])},{suffix:l(()=>[e(r,{class:"el-input__icon cursor-pointer",size:"14px",onClick:re},{default:l(()=>[e(x)]),_:1})]),_:1},8,["placeholder","modelValue","onKeyup"])]),s("div",ht,[s("div",xt,[s("div",{class:oe(["flex items-center text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[20px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":y.value==="installed"}]),onClick:o[1]||(o[1]=a=>z("installed"))},d(i(t)("installLabel")),3),s("div",{class:oe(["flex items-center text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[20px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":y.value==="uninstalled"}]),onClick:o[2]||(o[2]=a=>z("uninstalled"))},d(i(t)("uninstalledLabel")),3),s("div",{class:oe(["flex items-center text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[20px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":y.value==="all"}]),onClick:o[3]||(o[3]=a=>z("all"))},d(i(t)("buyLabel")),3)]),s("div",{class:oe(["flex items-center text-white text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-primary rounded-full px-[20px] cursor-pointer bg-primary hover:bg-primary"]),onClick:al},d(i(t)("cloudBuild")),1)]),ie((u(),p("div",gt,[_.value[y.value].length&&!E.value?(u(),k(pl,{key:0,data:A.value[y.value],size:"large",class:"pt-[5px]"},{default:l(()=>[e(j,{label:i(t)("appName"),align:"left",width:"320"},{default:l(({row:a})=>{var h,G;return[s("div",{class:"flex items-center cursor-pointer",onClick:Ge},[e(xe,{class:"w-[54px] h-[54px]",src:a.icon,fit:"contain"},{error:l(()=>[yt]),_:2},1032,["src"]),s("div",bt,[s("div",kt,d(a.title),1),a.install_info&&((h=Object.keys(a.install_info))!=null&&h.length)?(u(),p("div",wt,d(a.install_info.version),1)):(u(),p("div",Ct,d(a.version),1)),a.install_info&&((G=Object.keys(a.install_info))!=null&&G.length)&&a.install_info.version!=a.version?(u(),p("div",Et,[e(cl,{type:"danger",size:"small"},{default:l(()=>[f(d(i(t)("newVersion"))+d(a.version),1)]),_:2},1024)])):g("",!0)])])]}),_:1},8,["label"]),e(j,{align:"left","min-width":"120"},{header:l(()=>[s("div",It,[s("span",Tt,d(i(t)("appIdentification")),1),e(ge,{class:"box-item",effect:"light",content:i(t)("tipText"),placement:"bottom"},{default:l(()=>[e(r,{class:"cursor-pointer text-[16px] text-[#a9a9a9]"},{default:l(()=>[e(rl)]),_:1})]),_:1},8,["content"])])]),default:l(({row:a})=>[s("span",At,d(a.key),1)]),_:1}),e(j,{prop:"",label:i(t)("introduction"),align:"left","min-width":"200"},{default:l(({row:a})=>[s("span",Vt,d(a.desc),1)]),_:1},8,["label"]),e(j,{label:i(t)("type"),align:"left","min-width":"100"},{default:l(({row:a})=>[s("span",Bt,d(a.type==="app"?i(t)("app"):i(t)("addon")),1)]),_:1},8,["label"]),e(j,{prop:"",label:i(t)("author"),align:"left","min-width":"100"},{default:l(({row:a})=>[s("span",St,d(a.author),1)]),_:1},8,["label"]),e(j,{label:i(t)("operation"),fixed:"right",align:"right",width:"150"},{default:l(({row:a})=>{var h,G;return[e(m,{class:"!text-[13px]",type:"primary",link:"",onClick:W=>ol(a)},{default:l(()=>[f(d(i(t)("detail")),1)]),_:2},1032,["onClick"]),a.install_info&&((h=Object.keys(a.install_info))!=null&&h.length)&&a.install_info.version!=a.version?(u(),k(m,{key:0,class:"!text-[13px]",type:"primary",link:"",onClick:W=>tl(a.key)},{default:l(()=>[f(d(i(t)("upgrade")),1)]),_:2},1032,["onClick"])):g("",!0),a.install_info&&((G=Object.keys(a.install_info))!=null&&G.length)?(u(),k(m,{key:1,class:"!text-[13px]",type:"primary",link:"",onClick:W=>ll(a.key)},{default:l(()=>[f(d(i(t)("unload")),1)]),_:2},1032,["onClick"])):g("",!0),a.is_download&&Object.keys(a.install_info)<=0?(u(),p(B,{key:2},[e(m,{class:"!text-[13px]",type:"primary",link:"",onClick:W=>Be(a.key)},{default:l(()=>[f(d(i(t)("install")),1)]),_:2},1032,["onClick"]),e(m,{class:"!text-[13px]",type:"primary",link:"",onClick:W=>ul(a.key)},{default:l(()=>[f(d(i(t)("delete")),1)]),_:2},1032,["onClick"])],64)):g("",!0),a.is_download?g("",!0):(u(),k(m,{key:3,class:"!text-[13px]",loading:R.value==a.key,disabled:R.value!="",type:"primary",link:"",onClick:wl(W=>Te(a),["stop"])},{default:l(()=>[s("span",null,d(i(t)("down")),1)]),_:2},1032,["loading","disabled","onClick"]))]}),_:1},8,["label"])]),_:1},8,["data"])):g("",!0),!_.value.installed.length&&!C.value&&y.value=="installed"&&!E.value?(u(),k(ye,{key:1,class:"mx-auto overview-empty"},{image:l(()=>[Rt]),description:l(()=>[s("p",Dt,d(i(t)("installed-empty")),1)]),_:1})):g("",!0),!_.value.uninstalled.length&&!C.value&&y.value=="uninstalled"&&!E.value?(u(),k(ye,{key:2,class:"mx-auto overview-empty"},{image:l(()=>[Ft]),description:l(()=>[s("p",Lt,[s("span",null,d(i(t)("descriptionLeft")),1),e($e,{type:"primary",onClick:Le,class:"mx-[5px]"},{default:l(()=>[f(d(i(t)("link")),1)]),_:1}),s("span",null,d(i(t)("descriptionRight")),1)])]),_:1})):g("",!0),!_.value.all.length&&!C.value&&!me.value&&y.value=="all"&&!E.value?(u(),p("div",$t,[Ut,s("div",jt,[e(m,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:Fe},{default:l(()=>[f("授权码认证")]),_:1}),e(fl,{ref_key:"getAuthCodeDialog",ref:De,placement:"bottom",width:478,trigger:"click",class:"mt-[8px]"},{reference:l(()=>[e(m,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:l(()=>[f("如何获取授权码?")]),_:1})]),default:l(()=>[s("div",Nt,[Ot,s("div",Mt,[e(m,{class:"w-[182px] !h-[48px]",plain:"",onClick:Re},{default:l(()=>[f("去应用市场逛逛")]),_:1}),e(m,{class:"w-[100px] !h-[48px]",plain:"",onClick:o[4]||(o[4]=a=>De.value.hide())},{default:l(()=>[f("关闭")]),_:1})])])]),_:1},512)])])):g("",!0),!_.value.all.length&&!C.value&&me.value&&y.value=="all"&&!E.value?(u(),k(ye,{key:4,class:"mx-auto overview-empty"},{image:l(()=>[Pt]),description:l(()=>[s("p",zt,[s("span",null,d(i(t)("buyDescriptionLeft")),1),e($e,{type:"primary",onClick:Le,class:"mx-[5px]"},{default:l(()=>[f(d(i(t)("link")),1)]),_:1}),s("span",null,d(i(t)("descriptionRight")),1)])]),_:1})):g("",!0)])),[[Oe,E.value]]),e(Q,{modelValue:te.value,"onUpdate:modelValue":o[8]||(o[8]=a=>te.value=a),title:"授权码认证",width:"400px"},{default:l(()=>[e(je,{model:U,"label-width":"0",ref_key:"formRef",ref:he,rules:il,class:"page-form"},{default:l(()=>[e(Ue,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[e(N,{prop:"auth_code"},{default:l(()=>[e(K,{modelValue:U.auth_code,"onUpdate:modelValue":o[5]||(o[5]=a=>U.auth_code=a),placeholder:i(t)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),s("div",qt,[e(N,{prop:"auth_secret"},{default:l(()=>[e(K,{modelValue:U.auth_secret,"onUpdate:modelValue":o[6]||(o[6]=a=>U.auth_secret=a),clearable:"",placeholder:i(t)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),s("div",Ht,d(i(t)("authInfoTips")),1),s("div",Kt,[e(m,{type:"primary",class:"w-full",size:"large",loading:H.value,onClick:o[7]||(o[7]=a=>dl(he.value))},{default:l(()=>[f(d(i(t)("confirm")),1)]),_:1},8,["loading"])]),s("div",Qt,[e(m,{type:"primary",link:"",onClick:Re},{default:l(()=>[f(d(i(t)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),e(Q,{modelValue:le.value,"onUpdate:modelValue":o[10]||(o[10]=a=>le.value=a),title:i(t)("plugDetail"),width:"500px","destroy-on-close":!0},{footer:l(()=>[s("span",Jt,[e(m,{type:"primary",onClick:o[9]||(o[9]=a=>le.value=!1)},{default:l(()=>[f(d(i(t)("confirm")),1)]),_:1})])]),default:l(()=>[e(je,{model:$.value,"label-width":"120px",ref_key:"formRef",ref:he,class:"page-form"},{default:l(()=>[e(N,{label:i(t)("title")},{default:l(()=>[s("div",Gt,d($.value.title),1)]),_:1},8,["label"]),e(N,{label:i(t)("desc")},{default:l(()=>[s("div",Wt,d($.value.desc),1)]),_:1},8,["label"]),e(N,{label:i(t)("author")},{default:l(()=>[s("div",Yt,d($.value.author),1)]),_:1},8,["label"]),e(N,{label:i(t)("version")},{default:l(()=>[s("div",Zt,d($.value.version),1)]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(Q,{modelValue:D.value,"onUpdate:modelValue":o[11]||(o[11]=a=>D.value=a),title:i(t)("addonInstall"),width:"850px","close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":nl},{default:l(()=>[e(_l,{space:200,active:b.value,"finish-status":"success","align-center":""},{default:l(()=>[e(be,{title:i(t)("envCheck"),class:"flex-1"},null,8,["title"]),e(be,{title:i(t)("installProgress"),class:"flex-1"},null,8,["title"]),e(be,{title:i(t)("installComplete"),class:"flex-1"},null,8,["title"])]),_:1},8,["active"]),ie((u(),p("div",null,[e(Ne,{"max-height":"50vh"},{default:l(()=>[s("div",Xt,[w.value.dir?(u(),p("div",ea,[s("p",la,d(i(t)("dirPermission")),1),s("div",ta,[e(O,{class:"py-[10px] items table-head-bg pl-[15px] mb-[10px]"},{default:l(()=>[e(v,{span:12},{default:l(()=>[s("span",null,d(i(t)("path")),1)]),_:1}),e(v,{span:6},{default:l(()=>[s("span",null,d(i(t)("demand")),1)]),_:1}),e(v,{span:6},{default:l(()=>[s("span",null,d(i(t)("status")),1)]),_:1})]),_:1}),(u(!0),p(B,null,Y(w.value.dir.is_readable,(a,h)=>(u(),k(O,{class:"pb-[10px] items pl-[15px]",key:h},{default:l(()=>[e(v,{span:12},{default:l(()=>[s("span",null,d(a.dir),1)]),_:2},1024),e(v,{span:6},{default:l(()=>[s("span",null,d(i(t)("readable")),1)]),_:1}),e(v,{span:6},{default:l(()=>[a.status?(u(),p("span",aa,[e(r,{color:"green"},{default:l(()=>[e(ae)]),_:1})])):(u(),p("span",sa,[e(r,{color:"red"},{default:l(()=>[e(se)]),_:1})]))]),_:2},1024)]),_:2},1024))),128)),(u(!0),p(B,null,Y(w.value.dir.is_write,(a,h)=>(u(),k(O,{class:"pb-[10px] items pl-[15px]",key:h},{default:l(()=>[e(v,{span:12},{default:l(()=>[s("span",null,d(a.dir),1)]),_:2},1024),e(v,{span:6},{default:l(()=>[s("span",null,d(i(t)("write")),1)]),_:1}),e(v,{span:6},{default:l(()=>[a.status?(u(),p("span",na,[e(r,{color:"green"},{default:l(()=>[e(ae)]),_:1})])):(u(),p("span",oa,[e(r,{color:"red"},{default:l(()=>[e(se)]),_:1})]))]),_:2},1024)]),_:2},1024))),128))])])):g("",!0)])]),_:1}),s("div",ia,[e(ge,{effect:"dark",content:i(t)("installTips"),placement:"top"},{default:l(()=>[e(m,{type:"default",disabled:!w.value.is_pass||L.value,loading:F.value,onClick:Je},{default:l(()=>[f(d(i(t)("localInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"]),e(ge,{effect:"dark",content:i(t)("cloudInstallTips"),placement:"top"},{default:l(()=>[e(m,{type:"primary",disabled:!w.value.is_pass||F.value,loading:L.value,onClick:Xe},{default:l(()=>[f(d(i(t)("cloudInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"])])])),[[ke,b.value==1],[Oe,!w.value.dir]]),ie(s("div",da,[e(i(Zl),{ref_key:"terminalRef",ref:P,context:I.value,"init-log":null,"show-header":!1,"show-log-time":!0,onExecCmd:We},null,8,["context"])],512),[[ke,b.value==2]]),ie(s("div",ua,[e(vl,{icon:"success",title:i(t)("addonInstallSuccess")},null,8,["title"]),(u(!0),p(B,null,Y(ue.value,(a,h)=>(u(),p("div",{class:"mb-[10px]",key:h},[e(ml,{title:a,type:"error",closable:!1},null,8,["title"])]))),128))],512),[[ke,b.value==3]])]),_:1},8,["modelValue","title"]),e(Q,{modelValue:ve.value,"onUpdate:modelValue":o[12]||(o[12]=a=>ve.value=a),title:i(t)("addonUninstall"),width:"850px","close-on-click-modal":!1,"close-on-press-escape":!1},{default:l(()=>[e(Ne,{"max-height":"50vh"},{default:l(()=>[s("div",ca,[ee.value.dir?(u(),p("div",ra,[s("p",pa,d(i(t)("dirPermission")),1),s("div",fa,[e(O,{class:"py-[10px] items table-head-bg pl-[15px] mb-[10px]"},{default:l(()=>[e(v,{span:12},{default:l(()=>[s("span",null,d(i(t)("path")),1)]),_:1}),e(v,{span:6},{default:l(()=>[s("span",null,d(i(t)("demand")),1)]),_:1}),e(v,{span:6},{default:l(()=>[s("span",null,d(i(t)("status")),1)]),_:1})]),_:1}),(u(!0),p(B,null,Y(ee.value.dir.is_readable,(a,h)=>(u(),k(O,{class:"pb-[10px] items pl-[15px]",key:h},{default:l(()=>[e(v,{span:12},{default:l(()=>[s("span",null,d(a.dir),1)]),_:2},1024),e(v,{span:6},{default:l(()=>[s("span",null,d(i(t)("readable")),1)]),_:1}),e(v,{span:6},{default:l(()=>[a.status?(u(),p("span",_a,[e(r,{color:"green"},{default:l(()=>[e(ae)]),_:1})])):(u(),p("span",va,[e(r,{color:"red"},{default:l(()=>[e(se)]),_:1})]))]),_:2},1024)]),_:2},1024))),128)),(u(!0),p(B,null,Y(ee.value.dir.is_write,(a,h)=>(u(),k(O,{class:"pb-[10px] items pl-[15px]",key:h},{default:l(()=>[e(v,{span:12},{default:l(()=>[s("span",null,d(a.dir),1)]),_:2},1024),e(v,{span:6},{default:l(()=>[s("span",null,d(i(t)("write")),1)]),_:1}),e(v,{span:6},{default:l(()=>[a.status?(u(),p("span",ma,[e(r,{color:"green"},{default:l(()=>[e(ae)]),_:1})])):(u(),p("span",ha,[e(r,{color:"red"},{default:l(()=>[e(se)]),_:1})]))]),_:2},1024)]),_:2},1024))),128))])])):g("",!0)])]),_:1})]),_:1},8,["modelValue","title"]),e(Q,{modelValue:M.value,"onUpdate:modelValue":o[14]||(o[14]=a=>M.value=a),title:"下载提示",width:"30%","before-close":n.handleClose},{footer:l(()=>[s("span",ga,[e(m,{onClick:o[13]||(o[13]=a=>M.value=!1)},{default:l(()=>[f("取消")]),_:1}),e(m,{type:"primary",onClick:Qe},{default:l(()=>[f("确定")]),_:1})])]),default:l(()=>[xa]),_:1},8,["modelValue","before-close"])]),_:1})]),e(rt,{ref_key:"upgradeRef",ref:Ee,onComplete:V},null,512),e(pt,{ref_key:"cloudBuildRef",ref:J},null,512)],64)}}});const Xa=ft(ya,[["__scopeId","data-v-694607eb"]]);export{Xa as default};
