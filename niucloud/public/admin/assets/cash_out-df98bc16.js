import{d as S,x as O,r as g,n as E,h as i,c as k,e as n,w as o,a as b,t as u,u as l,R as K,s as d,q as r,c1 as R,B as f,i as p,F as L,T as W,aS as j,L as G,K as H,as as I,at as M,au as P,c2 as q,a6 as Y,M as $,E as J,Y as Q}from"./index-34979a7f.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                *//* empty css                          *//* empty css                    *//* empty css                       *//* empty css                 *//* empty css                 *//* empty css                  */import{b as X,T as Z,U as ee}from"./member-3d8539dd.js";const ae={class:"main-container"},te={class:"flex justify-between items-center"},oe={class:"text-page-title"},le=b("span",{class:"ml-2"},"%",-1),se={class:"fixed-footer-wrap"},re={class:"fixed-footer"},ke=S({__name:"cash_out",setup(ne){const C=O().meta.title,c=g(!0),y=g(),a=E({is_auto_transfer:"0",is_auto_verify:"0",is_open:"0",min:"0.01",rate:"0",transfer_type:[]}),w=g([]);(async()=>{w.value=await(await X()).data})(),(async(m=0)=>{const e=await(await Z()).data;Object.keys(a).forEach(s=>{e[s]!=null&&(a[s]=e[s])}),a.is_open=Boolean(Number(a.is_open)),c.value=!1})();const F=E({min:[{validator:(m,e,s)=>{Number(e)<.01?s(new Error(r("cashWithdrawalAmountHint"))):s()},trigger:"blur"}],rate:[{validator:(m,e,s)=>{Number(e)>100||Number(e)<0?s(new Error(r("commissionRatioHint"))):s()},trigger:"blur"}]}),N=async m=>{c.value||!m||await m.validate(e=>{if(e){const s={...a};s.is_open=Number(s.is_open).toString(),ee(s).then(()=>{c.value=!1}).catch(()=>{c.value=!1})}})};return(m,e)=>{const s=j,_=G,V=H,v=I,h=M,T=P,B=q,x=Y,U=$,D=J,z=Q;return i(),k("div",ae,[n(x,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[b("div",te,[b("span",oe,u(l(C)),1)]),K((i(),d(U,{class:"page-form mt-[20px]",model:a,"label-width":"150px",ref_key:"ruleFormRef",ref:y,rules:F},{default:o(()=>[n(x,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[n(_,{label:l(r)("isOpen")},{default:o(()=>[n(s,{modelValue:a.is_open,"onUpdate:modelValue":e[0]||(e[0]=t=>a.is_open=t)},null,8,["modelValue"])]),_:1},8,["label"]),a.is_open?(i(),d(_,{key:0,label:l(r)("cashWithdrawalAmount"),prop:"min"},{default:o(()=>[n(V,{modelValue:a.min,"onUpdate:modelValue":e[1]||(e[1]=t=>a.min=t),onKeyup:e[2]||(e[2]=t=>l(R)(t)),class:"input-width",placeholder:l(r)("cashWithdrawalAmountPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):f("",!0),a.is_open?(i(),d(_,{key:1,label:l(r)("commissionRatio"),prop:"rate"},{default:o(()=>[n(V,{modelValue:a.rate,"onUpdate:modelValue":e[3]||(e[3]=t=>a.rate=t),onKeyup:e[4]||(e[4]=t=>l(R)(t)),class:"input-width",placeholder:l(r)("commissionRatioPlaceholder")},null,8,["modelValue","placeholder"]),le]),_:1},8,["label"])):f("",!0),a.is_open?(i(),d(_,{key:2,label:l(r)("audit"),class:"items-center"},{default:o(()=>[n(h,{modelValue:a.is_auto_verify,"onUpdate:modelValue":e[5]||(e[5]=t=>a.is_auto_verify=t)},{default:o(()=>[n(v,{label:"0",size:"large"},{default:o(()=>[p(u(l(r)("manualAudit")),1)]),_:1}),n(v,{label:"1",size:"large"},{default:o(()=>[p(u(l(r)("automaticAudit")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):f("",!0),a.is_open?(i(),d(_,{key:3,label:l(r)("transfer"),class:"items-center"},{default:o(()=>[n(h,{modelValue:a.is_auto_transfer,"onUpdate:modelValue":e[6]||(e[6]=t=>a.is_auto_transfer=t)},{default:o(()=>[n(v,{label:"0",size:"large"},{default:o(()=>[p(u(l(r)("manualTransfer")),1)]),_:1}),n(v,{label:"1",size:"large"},{default:o(()=>[p(u(l(r)("automatedTransit")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):f("",!0),a.is_open?(i(),d(_,{key:4,label:l(r)("transferMode"),class:"items-center"},{default:o(()=>[n(B,{modelValue:a.transfer_type,"onUpdate:modelValue":e[7]||(e[7]=t=>a.transfer_type=t),size:"large"},{default:o(()=>[(i(!0),k(L,null,W(w.value,(t,A)=>(i(),d(T,{label:t.key,key:"a"+A},{default:o(()=>[p(u(t.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):f("",!0)]),_:1})]),_:1},8,["model","rules"])),[[z,c.value]])]),_:1}),b("div",se,[b("div",re,[n(D,{type:"primary",onClick:e[8]||(e[8]=t=>N(y.value))},{default:o(()=>[p(u(l(r)("save")),1)]),_:1})])])])}}});export{ke as default};
