import{d as N,l as V,n as z,a5 as E,au as A,h as o,c as s,aX as h,u,F as g,a as i,A as y,e as l,s as D,w as x,b as $,Q as L,B as Q,a1 as R}from"./index-ae2d9b78.js";/* empty css                  *//* empty css                   */import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-57aca5c9.js";import{_ as X}from"./index.vue_vue_type_style_index_0_lang-b2ddc674.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang-657c47c5.js";const G={class:"flex flex-wrap"},H={class:"w-full h-full relative flex items-center overflow-hidden rounded"},I=["src"],J={class:"absolute z-[1] flex items-center justify-center w-full h-full inset-0 bg-black bg-opacity-60 operation"},K={class:"w-full h-full flex items-center justify-center flex-col"},M={class:"w-full h-full relative flex items-center overflow-hidden rounded"},O=["src"],P={class:"absolute z-[1] flex items-center justify-center w-full h-full inset-0 bg-black bg-opacity-60 operation"},T={class:"w-full h-full flex items-center justify-center flex-col"},oe=N({__name:"index",props:{modelValue:{type:String,default:""},width:{type:String,default:"200px"},height:{type:String,default:"100px"},limit:{type:Number,default:1}},emits:["update:modelValue"],setup(r,{emit:S}){const c=r,f=V({get(){return c.modelValue},set(e){S("update:modelValue",e)}}),t=z({data:[]});E(()=>f.value,()=>{t.data=[...f.value.split(",").filter(e=>e)],v()});const p=V(()=>({width:c.width,height:c.height})),w=e=>{c.limit==1?(t.data.splice(0,1),e&&t.data.push(e.url)):e.forEach(a=>{t.data.length<c.limit&&t.data.push(a.url)}),v()},b=(e=0)=>{t.data.splice(e,1),v()},v=()=>{f.value=A(t.data).toString()},d=z({visible:!1,src:""}),C=(e=0)=>{d.visible=!0,d.src=y(t.data[e])};return(e,a)=>{const n=q,k=X,B=U,j=R;return o(),s("div",G,[r.limit==1?(o(),s("div",{key:0,class:"rounded cursor-pointer relative bg-page video-wrap mr-[10px]",style:h(u(p))},[t.data.length?(o(),s(g,{key:0},[i("div",H,[i("video",{src:u(y)(t.data[0]),class:"w-full"},null,8,I),i("div",J,[l(n,{name:"iconfont-icon24gf-playCircle",color:"#fff",size:"25px",onClick:a[0]||(a[0]=m=>C())})])]),l(n,{name:"element-CircleCloseFilled",color:"#bbb",size:"18px",onClick:b,class:"absolute z-[2] top-[-9px] right-[-9px]"})],64)):(o(),D(k,{key:1,limit:r.limit,type:"video",onConfirm:w},{default:x(()=>[i("div",K,[$(e.$slots,"icon",{},()=>[l(n,{name:"iconfont-icon24gf-playCircle",size:"25px",color:"var(--el-text-color-secondary)"})])])]),_:3},8,["limit"]))],4)):(o(),s(g,{key:1},[(o(!0),s(g,null,L(t.data,(m,_)=>(o(),s("div",{class:"rounded cursor-pointer relative bg-page video-wrap mr-[10px]",style:h(u(p)),key:_},[i("div",M,[i("video",{src:u(y)(m),class:"w-full"},null,8,O),i("div",P,[l(n,{name:"iconfont-icon24gf-playCircle",color:"#fff",size:"25px",onClick:F=>C(_)},null,8,["onClick"])])]),l(n,{name:"element-CircleCloseFilled",color:"#bbb",size:"18px",onClick:F=>b(_),class:"absolute z-[2] top-[-9px] right-[-9px]"},null,8,["onClick"])],4))),128)),t.data.length<r.limit?(o(),s("div",{key:0,class:"rounded cursor-pointer relative bg-page video-wrap mr-[10px]",style:h(u(p))},[l(k,{limit:r.limit,type:"video",onConfirm:w},{default:x(()=>[i("div",T,[$(e.$slots,"icon",{},()=>[l(n,{name:"iconfont-icon24gf-playCircle",size:"25px",color:"var(--el-text-color-secondary)"})])])]),_:3},8,["limit"])],4)):Q("",!0)],64)),l(j,{modelValue:d.visible,"onUpdate:modelValue":a[1]||(a[1]=m=>d.visible=m),width:"50%","align-center":"","destroy-on-close":!0,"custom-class":"video-preview"},{default:x(()=>[l(B,{src:d.src,width:"100%"},null,8,["src"])]),_:1},8,["modelValue"])])}}});export{oe as _};
