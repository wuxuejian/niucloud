import{d as J,D as q,j as z,r as x,l as H,a7 as S,a5 as C,h as n,s as i,w as c,e as _,a as u,u as r,c as d,A as L,Q as j,F as k,t as M,e4 as Q,B as R,x as G,f as I,I as K,d8 as P,ea as T,e5 as W,S as X,M as Y,z as Z}from"./index-ae2d9b78.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./el-sub-menu-4ed993c7.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-657c47c5.js";/* empty css                 *//* empty css                        */import{_ as ae}from"./icon-addon-339e16d0.js";import{_ as te}from"./menu-item.vue_vue_type_style_index_0_lang-a3a29746.js";const se={class:"w-[124px] px-[8px] bg-[#282c34] h-screen one-menu"},ne={key:0,class:"logo flex items-center m-auto h-[64px]"},le=u("div",{class:"flex justify-center items-center w-full h-[40px]"},[u("img",{class:"max-w-[40px]",src:ae,alt:"","object-fit":"contain"})],-1),oe={key:1,class:"logo flex items-center justify-center h-[64px]"},ce=u("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),re=[ce],ue={key:0,class:"w-[16px] h-[16px] relative flex justify-center"},de={key:1,class:"w-[16px] h-[16px]"},ie={class:"relative flex-1 w-0"},_e={class:"ml-[10px] w-full truncate"},pe=u("div",{class:"h-[48px]"},null,-1),he={class:"w-[140px] h-[64px] flex items-center justify-center text-[16px] border-0 border-b-[1px] border-solid border-[#eee]"},me=u("div",{class:"h-[48px]"},null,-1),Re=J({__name:"side",setup(fe){const f=q(),p=z(),t=G(),B=I(),a=p.siteInfo,N=p.routers,D=p.addonIndexRoute,h=x([]),o=x([]),v={},O=H(()=>p.siteInfo.icon?p.siteInfo.icon:f.website.icon);if(N.forEach(e=>{e.original_name=e.name,e.meta.addon==""?(e.children&&e.children.length&&(e.name=S(e.children)),h.value.push(e)):e.meta.addon!=""&&(a==null?void 0:a.apps.length)<=1&&(a==null?void 0:a.apps[0].key)==e.meta.addon?e.children?(e.children.forEach(s=>{s.original_name=s.name,s.children&&s.children.length&&(s.name=S(s.children))}),h.value.unshift(...e.children)):h.value.unshift(e):v[e.meta.addon]=e}),(a==null?void 0:a.apps.length)>1){const e=[];a==null||a.apps.forEach(s=>{v[s.key]&&(v[s.key].name=D[s.key],e.push(v[s.key]))}),h.value.unshift(...e)}const m=x(t.matched[1].name);C(t,()=>{(a==null?void 0:a.apps.length)>1?(o.value=t.matched[1].children,m.value=t.matched[1].name):t.meta.addon==""?(m.value=t.matched[1].name,o.value=t.matched[1].children??[]):t.meta.addon&&t.meta.addon!=(a==null?void 0:a.apps[0].key)?(m.value="/site/app",o.value=t.matched[1].children??[]):(m.value=t.matched[2].name,o.value=t.matched[2].children??[])},{immediate:!0});let y=x([]);return C(o.value,()=>{if(y.value=[],o.value&&Object.values(o.value).length){let e=JSON.parse(JSON.stringify(o.value));for(let s in e)y.value.push(e[s].name)}},{immediate:!0}),(e,s)=>{const w=K,V=P,F=ee,U=T,b=W,E=X,$=Y,A=Z;return n(),i(A,{class:"w-100 h-screen"},{default:c(()=>[_($,{class:"p-0 flex"},{default:c(()=>[u("div",se,[_(V,{class:"logo-wrap"},{default:c(()=>[r(f).menuIsCollapse?(n(),d("div",oe,re)):(n(),d("div",ne,[_(w,{style:{width:"40px",height:"40px"},src:r(L)(r(O)),fit:"contain"},{error:c(()=>[le]),_:1},8,["src"])]))]),_:1}),_(E,{class:"h-[calc( 100vh - 64px )]"},{default:c(()=>[_(b,{"default-active":m.value,router:!0,class:"aside-menu","unique-opened":!0,collapse:r(f).menuIsCollapse},{default:c(()=>[(n(!0),d(k,null,j(h.value,(l,g)=>(n(),d(k,{key:g},[l.meta.show?(n(),i(U,{key:0,index:l.original_name,onClick:ve=>r(B).push({name:l.name})},{title:c(()=>[u("div",ie,[u("span",_e,M(l.meta.short_title||l.meta.title),1)])]),default:c(()=>[l.meta.icon?(n(),d("div",ue,[r(Q)(l.meta.icon)?(n(),i(w,{key:0,class:"w-[16px] h-[16px] rounded-[50%] overflow-hidden",src:l.meta.icon,fit:"fill"},null,8,["src"])):(n(),i(F,{key:1,name:l.meta.icon,class:"absolute top-[50%] -translate-y-[50%]"},null,8,["name"]))])):(n(),d("div",de))]),_:2},1032,["index","onClick"])):R("",!0)],64))),128))]),_:1},8,["default-active","collapse"]),pe]),_:1})]),o.value.length?(n(),i(E,{key:0,class:"two-menu w-[140px]"},{default:c(()=>[u("div",he,M(r(t).matched[1].meta.title),1),_(b,{"default-active":r(t).name,"default-openeds":r(y),router:!0,class:"aside-menu",collapse:r(f).menuIsCollapse},{default:c(()=>[(n(!0),d(k,null,j(o.value,(l,g)=>(n(),i(te,{routes:l,key:g},null,8,["routes"]))),128))]),_:1},8,["default-active","default-openeds","collapse"]),me]),_:1})):R("",!0)]),_:1})]),_:1})}}});export{Re as _};
