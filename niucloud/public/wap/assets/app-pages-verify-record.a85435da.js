import{d as e,r as s,o as l,c as t,w as a,b as r,P as o,Q as c,u as n,R as p,f as u,n as m,ab as i,ac as d,i as f,D as x,E as b,a0 as _,a as y,F as v,X as g}from"./index-000ef0fb.js";import{u as h,M as w}from"./useMescroll.892b0f72.js";import{M as k}from"./mescroll-empty.e4dabec7.js";import{c as j}from"./verify.06868c24.js";import"./mescroll-i18n.5bba6fa8.js";import"./_plugin-vue_export-helper.1b428a4d.js";const C=e({__name:"record",setup(e){let C=s([]),M=s(!1);const{mescrollInit:D,downCallback:F,getMescroll:I}=h(d,i),E=e=>{M.value=!1;let s={page:e.num,limit:e.size};j(s).then((s=>{let l=s.data.data;1==e.num&&(C.value=[]),C.value=C.value.concat(l),e.endSuccess(l.length),M.value=!0})).catch((()=>{M.value=!0,e.endErr()}))};return(e,s)=>{const i=v,d=f,h=g;return l(),t(d,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden",style:m(e.themeColor())},{default:a((()=>[r(w,{ref:"mescrollRef",top:"30rpx",onInit:n(D),onDown:n(F),onUp:E},{default:a((()=>[r(d,{class:"ml-[30rpx] mr-[30rpx]"},{default:a((()=>[(l(!0),o(p,null,c(n(C),((e,s)=>(l(),t(d,{key:e.id,class:"w-full flex flex-col mb-3 bg-[#fff] py-3 px-4 box-border rounded-[18rpx]",onClick:s=>{y({url:"/app/pages/verify/detail",param:{code:e.code}})}},{default:a((()=>[r(d,{class:"flex items-center justify-between border-0 border-b-[4rpx] border-[#eee] border-solid pb-[20rpx]"},{default:a((()=>[r(i,{class:"truncate w-[460rpx] text-[#999] text-xs"},{default:a((()=>[x("核销码："+b(e.code),1)])),_:2},1024),r(i,{class:"text-[#999] text-xs"},{default:a((()=>[x("核销员："+b(e.member?e.member.nickname:"--"),1)])),_:2},1024)])),_:2},1024),(l(!0),o(p,null,c(e.value.list,((s,o)=>(l(),t(d,{class:"py-[30rpx] flex",key:o},{default:a((()=>[s.cover?(l(),t(h,{key:0,class:"w-[120rpx] h-[120rpx]",mode:"aspectFit",src:n(_)(s.cover)},null,8,["src"])):(l(),t(h,{key:1,class:"w-[80rpx] h-[80rpx]",mode:"aspectFit",src:n(_)("addon/tourism/tourism/member/hotel.png")},null,8,["src"])),r(d,{class:"flex flex-col justify-between ml-[20rpx]"},{default:a((()=>[r(d,{class:"multi-hidden leading-[1.2] text-xs"},{default:a((()=>[x(b(s.name),1)])),_:2},1024),r(i,{class:"text-[#999] text-xs mt-[20rpx]"},{default:a((()=>[x("核销时间："+b(e.create_time),1)])),_:2},1024),r(d,{class:"text-[#999] mt-[6rpx]"},{default:a((()=>[x("x1")])),_:1})])),_:2},1024)])),_:2},1024)))),128))])),_:2},1032,["onClick"])))),128))])),_:1}),!n(C).length&&n(M)?(l(),t(k,{key:0,option:{icon:n(_)("static/resource/images/empty.png")}},null,8,["option"])):u("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1},8,["style"])}}});export{C as default};
