import{l as e,m as t,p as a,q as o,x as l,o as r,c as s,w as d,D as i,E as u,A as n,n as h,f as b,F as p,t as c,a_ as f,g,h as m,b as y,B as v,C as _,i as x}from"./index-f0b22e55.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as C}from"./u-safe-bottom.cdc7d17c.js";const w=S({name:"u-badge",mixins:[t,{props:{isDot:{type:Boolean,default:()=>e.badge.isDot},value:{type:[Number,String],default:()=>e.badge.value},modelValue:{type:[Number,String],default:()=>e.badge.modelValue},show:{type:Boolean,default:()=>e.badge.show},max:{type:[Number,String],default:()=>e.badge.max},type:{type:String,default:()=>e.badge.type},showZero:{type:Boolean,default:()=>e.badge.showZero},bgColor:{type:[String,null],default:()=>e.badge.bgColor},color:{type:[String,null],default:()=>e.badge.color},shape:{type:String,default:()=>e.badge.shape},numberType:{type:String,default:()=>e.badge.numberType},offset:{type:Array,default:()=>e.badge.offset},inverted:{type:Boolean,default:()=>e.badge.inverted},absolute:{type:Boolean,default:()=>e.badge.absolute}}},a],computed:{boxStyle:()=>({}),badgeStyle(){const e={};if(this.color&&(e.color=this.color),this.bgColor&&!this.inverted&&(e.backgroundColor=this.bgColor),this.absolute&&(e.position="absolute",this.offset.length)){const t=this.offset[0],a=this.offset[1]||t;e.top=o(t),e.right=o(a)}return e},showValue(){switch(this.numberType){case"overflow":return Number(this.value)>Number(this.max)?this.max+"+":this.value;case"ellipsis":return Number(this.value)>Number(this.max)?"...":this.value;case"limit":return Number(this.value)>999?Number(this.value)>=9999?Math.floor(this.value/1e4*100)/100+"w":Math.floor(this.value/1e3*100)/100+"k":this.value;default:return Number(this.value)}}},methods:{addStyle:l}},[["render",function(e,t,a,o,l,c){const f=p;return e.show&&(0!==Number(e.value)||e.showZero||e.isDot)?(r(),s(f,{key:0,class:n([[e.isDot?"u-badge--dot":"u-badge--not-dot",e.inverted&&"u-badge--inverted","horn"===e.shape&&"u-badge--horn",`u-badge--${e.type}${e.inverted?"--inverted":""}`],"u-badge"]),style:h([c.addStyle(e.customStyle),c.badgeStyle])},{default:d((()=>[i(u(e.isDot?"":c.showValue),1)])),_:1},8,["class","style"])):b("v-if",!0)}],["__scopeId","data-v-0e56696e"]]);const B=S({name:"u-tabbar",mixins:[t,a,{props:{value:{type:[String,Number,null],default:()=>e.tabbar.value},safeAreaInsetBottom:{type:Boolean,default:()=>e.tabbar.safeAreaInsetBottom},border:{type:Boolean,default:()=>e.tabbar.border},zIndex:{type:[String,Number],default:()=>e.tabbar.zIndex},activeColor:{type:String,default:()=>e.tabbar.activeColor},inactiveColor:{type:String,default:()=>e.tabbar.inactiveColor},fixed:{type:Boolean,default:()=>e.tabbar.fixed},placeholder:{type:Boolean,default:()=>e.tabbar.placeholder}}}],data:()=>({placeholderHeight:0}),computed:{tabbarStyle(){const e={zIndex:this.zIndex};return c(e,l(this.customStyle))},updateChild(){return[this.value,this.activeColor,this.inactiveColor]},updatePlaceholder(){return[this.fixed,this.placeholder]}},watch:{updateChild(){this.updateChildren()},updatePlaceholder(){this.setPlaceholderHeight()}},created(){this.children=[]},mounted(){this.setPlaceholderHeight()},methods:{updateChildren(){this.children.length&&this.children.map((e=>e.updateFromParent()))},async setPlaceholderHeight(){this.fixed&&this.placeholder&&(await f(20),this.$uGetRect(".u-tabbar__content").then((({height:e=50})=>{this.placeholderHeight=e})))}}},[["render",function(e,t,a,o,l,i){const u=x,p=g(m("u-safe-bottom"),C);return r(),s(u,{class:"u-tabbar"},{default:d((()=>[y(u,{class:n(["u-tabbar__content",[e.border&&"u-border-top",e.fixed&&"u-tabbar--fixed"]]),ref:"u-tabbar__content",onTouchmove:v(e.noop,["stop","prevent"]),style:h([i.tabbarStyle])},{default:d((()=>[y(u,{class:"u-tabbar__content__item-wrapper"},{default:d((()=>[_(e.$slots,"default",{},void 0,!0)])),_:3}),e.safeAreaInsetBottom?(r(),s(p,{key:0})):b("v-if",!0)])),_:3},8,["onTouchmove","class","style"]),e.placeholder?(r(),s(u,{key:0,class:"u-tabbar__placeholder",style:h({height:l.placeholderHeight+"px"})},null,8,["style"])):b("v-if",!0)])),_:3})}],["__scopeId","data-v-71f6d5da"]]);export{w as _,B as a};
