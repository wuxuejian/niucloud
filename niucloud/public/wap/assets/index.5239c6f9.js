import{r as e,aw as t,I as o,H as l,a0 as r,j as a,ah as n,ax as i,s,ay as u,az as d,aq as c,d as p,_ as g,aA as m,ao as f,aB as h,g as v,h as b,o as x,c as y,w,b as _,n as k,u as C,O as S,Q as R,P as D,A as E,D as T,E as B,f as I,aC as W,a1 as A,a6 as $,M as O,aD as F,a as N,i as j,W as z,F as P,an as M,al as U,ae as H,G,aE as L,a5 as X,aF as Y,a9 as q,J as V,ai as J,am as K,B as Q,aG as Z,aH as ee,aI as te,aJ as oe,ad as le,l as re,m as ae,p as ne,x as ie,C as se,N as ue,$ as de,aK as ce}from"./index-f0b22e55.js";import{_ as pe}from"./u-icon.e73c62d6.js";import{_ as ge}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as me}from"./u-avatar.f6103f0e.js";import{_ as fe}from"./u-popup.d2722f83.js";import{_ as he}from"./u-parse.d542b26e.js";import{_ as ve,a as be}from"./u-tabbar.ad343165.js";import{_ as xe}from"./top-tabbar.af5fa635.js";function ye(p={}){const g=e(!0),m=t(),f=e(0),h=e(0),v=e(p.name||""),b=e(""),x=o({pageMode:"diy",title:"",global:{},value:[]}),y=l((()=>"decorate"==m.mode?m:x)),w=e(!1);return{getLoading:()=>g.value,pullDownRefreshCount:f,data:y.value,isShowTopTabbar:w,pageStyle:()=>{var e="";return y.value.global.pageStartBgColor&&(y.value.global.pageStartBgColor&&y.value.global.pageEndBgColor?e+=`background:linear-gradient(${y.value.global.pageGradientAngle},${y.value.global.pageStartBgColor},${y.value.global.pageEndBgColor});`:e+="background-color:"+y.value.global.pageStartBgColor+";"),e+="min-height:calc(100vh - 50px);",y.value.global.bgUrl&&(e+=`background-image:url('${r(y.value.global.bgUrl)}');`),y.value.global.bgHeightScale&&(e+=`background-size: 100% ${y.value.global.bgHeightScale}%;`),y.value.global&&y.value.global.topStatusBar&&"style-5"==y.value.global.topStatusBar.style&&(e+="background-position-y: -176rpx;"),e},onLoad:()=>{a((e=>{m.mode=e.mode||"","decorate"==m.mode&&(g.value=!1),h.value=e.id||"",""==v.value&&(v.value=e.name||""),b.value=e.template||""}))},onShow:(e=null)=>{n((()=>{"decorate"==m.mode?m.init():i({id:h.value,name:v.value,template:b.value}).then((t=>{let o=t.data;if(o.value){x.pageMode=o.mode,x.title=o.title;let e=JSON.parse(o.value);x.global=e.global,x.value=e.value,x.value.forEach(((e,t)=>{e.pageStyle="",e.pageStartBgColor&&(e.pageStartBgColor&&e.pageEndBgColor?e.pageStyle+=`background:linear-gradient(${e.pageGradientAngle},${e.pageStartBgColor},${e.pageEndBgColor});`:e.pageStyle+="background-color:"+e.pageStartBgColor+";"),e.margin&&(e.margin.top>0&&(e.pageStyle+="padding-top:"+2*e.margin.top+"rpx;"),e.pageStyle+="padding-bottom:"+2*e.margin.bottom+"rpx;",e.pageStyle+="padding-right:"+2*e.margin.both+"rpx;",e.pageStyle+="padding-left:"+2*e.margin.both+"rpx;")})),w.value=x.value.some((e=>e&&e.position&&"top_fixed"==e.position)),s({title:x.title})}g.value=!1,e&&e(o)}))}))},onPullDownRefresh:()=>{u((()=>{f.value++,d()}))},onPageScroll:()=>{c((e=>{e.scrollTop>0&&(m.scrollTop=e.scrollTop)}))}}}const we=ge(p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(o){const a=o,n=t(),i=l((()=>"decorate"==n.mode?n.value[a.index]:a.component)),s=l((()=>{var e="";return e+="position:relative;",i.value.componentStartBgColor&&(i.value.componentStartBgColor&&i.value.componentEndBgColor?e+=`background:linear-gradient(${i.value.componentGradientAngle},${i.value.componentStartBgColor},${i.value.componentEndBgColor});`:e+="background-color:"+i.value.componentStartBgColor+";"),i.value.componentBgUrl&&(e+=`background-image:url('${r(i.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;"),e})),u=l((()=>{var e="";return i.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${i.value.componentBgAlpha/10});`,e+=`height:${X.value}px;`,i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;")),e}));g((()=>a.pullDownRefreshCount),((e,t)=>{}));const d=e(0),c=e=>{d.value=e.detail.current},p=(e,t)=>{let o=i.value.pageCount*i.value.rowCount,l=!0;return l=e>=[(t-1)*o]&&e<[t*o],l},G=e("");m((()=>{Y(),"decorate"==n.mode&&g((()=>i.value),((e,t)=>{e&&"GraphicNav"==e.componentName&&Y()}))}));const L=W(),X=e(0),Y=()=>{f((()=>{(()=>{if("horizontal"==i.value.layout&&"pageSlide"==i.value.showStyle){var e=0;h().in(L).select(".graphic-nav-item").boundingClientRect((t=>{e=t.height*i.value.pageCount,G.value=2*e+"rpx"})).exec()}})();h().in(L).select(".diy-graphic-nav").boundingClientRect((e=>{X.value=e.height})).exec()}))},q=e=>{if(Object.keys(e).length){if(!e.url)return;if("app/pages/member/index"==A()&&!$())return void O().setLoginBack({url:e.url});F(e)}else N(e)};return(e,t)=>{const o=j,l=z,a=P,n=v(b("u-icon"),pe),d=M,g=U,m=H;return x(),y(o,{style:k(C(s))},{default:w((()=>[_(o,{style:k(C(u))},null,8,["style"]),_(o,{class:"diy-graphic-nav relative"},{default:w((()=>["vertical"==C(i).layout?(x(),y(o,{key:0,class:"graphic-nav"},{default:w((()=>[(x(!0),S(R,null,D(C(i).list,((e,t)=>(x(),y(o,{class:"graphic-nav-item",key:e.id},{default:w((()=>[_(o,{onClick:t=>q(e.link),class:E(["flex items-center justify-between py-3 px-4",0==t?"border-t-0":"border-t"])},{default:w((()=>["text"!=C(i).mode?(x(),y(o,{key:0,class:"graphic-img relative flex items-center w-10 h-10 mr-[20rpx]",style:k({width:2*C(i).imageSize+"rpx",height:2*C(i).imageSize+"rpx"})},{default:w((()=>[e.imageUrl?(x(),y(l,{key:0,src:C(r)(e.imageUrl),mode:"aspectFill",style:k({maxWidth:2*C(i).imageSize+"rpx",maxHeight:2*C(i).imageSize+"rpx",borderRadius:2*C(i).aroundRadius+"rpx"})},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"aspectFill",style:k({maxWidth:2*C(i).imageSize+"rpx",maxHeight:2*C(i).imageSize+"rpx",borderRadius:2*C(i).aroundRadius+"rpx"})},null,8,["src","style"])),e.label.control?(x(),y(a,{key:2,class:"tag absolute -top-[10rpx] -right-[24rpx] text-white rounded-[24rpx] rounded-bl-none transform scale-80 py-1 px-2 text-xs",style:k({color:e.label.textColor,backgroundImage:"linear-gradient("+e.label.bgColorStart+","+e.label.bgColorEnd+")"})},{default:w((()=>[T(B(e.label.text),1)])),_:2},1032,["style"])):I("v-if",!0)])),_:2},1032,["style"])):I("v-if",!0),"img"!=C(i).mode?(x(),y(a,{key:1,class:"graphic-text w-full truncate leading-normal",style:k({fontSize:2*C(i).font.size+"rpx",fontWeight:C(i).font.weight,color:C(i).font.color})},{default:w((()=>[T(B(e.title),1)])),_:2},1032,["style"])):I("v-if",!0),_(n,{name:"arrow-right",color:"#999999",size:"12"})])),_:2},1032,["onClick","class"])])),_:2},1024)))),128))])),_:1})):"horizontal"==C(i).layout&&"pageSlide"==C(i).showStyle?(x(),y(g,{key:1,class:"graphic-nav box-border relative",circular:"","indicator-dots":!1,style:k({height:G.value}),onChange:c},{default:w((()=>[(x(!0),S(R,null,D(Math.ceil(C(i).list.length/(C(i).pageCount*C(i).rowCount)),((e,t)=>(x(),y(d,{class:"graphic-nav-wrap flex flex-wrap"},{default:w((()=>[(x(!0),S(R,null,D(C(i).list,((t,n)=>(x(),S(R,null,[p(n,e)?(x(),y(o,{class:E(["graphic-nav-item",[C(i).mode]]),key:t.id,style:k({width:100/C(i).rowCount+"%"})},{default:w((()=>[_(o,{onClick:e=>q(t.link),class:"flex flex-col items-center box-border py-2"},{default:w((()=>["text"!=C(i).mode?(x(),y(o,{key:0,class:"graphic-img relative flex items-center justify-center w-10 h-10",style:k({width:2*C(i).imageSize+"rpx",height:2*C(i).imageSize+"rpx"})},{default:w((()=>[t.imageUrl?(x(),y(l,{key:0,src:C(r)(t.imageUrl),mode:"aspectFill",style:k({maxWidth:2*C(i).imageSize+"rpx",maxHeight:2*C(i).imageSize+"rpx",borderRadius:2*C(i).aroundRadius+"rpx"})},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"aspectFill",style:k({maxWidth:2*C(i).imageSize+"rpx",maxHeight:2*C(i).imageSize+"rpx",borderRadius:2*C(i).aroundRadius+"rpx"})},null,8,["src","style"])),t.label.control?(x(),y(a,{key:2,class:"tag absolute -top-[10rpx] -right-[24rpx] text-white rounded-[24rpx] rounded-bl-none transform scale-80 py-1 px-2 text-xs",style:k({color:t.label.textColor,backgroundImage:"linear-gradient("+t.label.bgColorStart+","+t.label.bgColorEnd+")"})},{default:w((()=>[T(B(t.label.text),1)])),_:2},1032,["style"])):I("v-if",!0)])),_:2},1032,["style"])):I("v-if",!0),"img"!=C(i).mode?(x(),y(a,{key:1,class:E(["graphic-text w-full text-center truncate leading-normal",{"pt-1.5":"text"!=C(i).mode}]),style:k({fontSize:2*C(i).font.size+"rpx",fontWeight:C(i).font.weight,color:C(i).font.color})},{default:w((()=>[T(B(t.title),1)])),_:2},1032,["class","style"])):I("v-if",!0)])),_:2},1032,["onClick"])])),_:2},1032,["class","style"])):I("v-if",!0)],64)))),256))])),_:2},1024)))),256))])),_:1},8,["style"])):(x(),y(m,{key:2,"scroll-x":"singleSlide"==C(i).showStyle,class:E([["graphic-nav","graphic-nav-"+C(i).showStyle],"py-[10rpx]"])},{default:w((()=>[(x(!0),S(R,null,D(C(i).list,((e,t)=>(x(),y(o,{class:E(["graphic-nav-item",{"flex-shrink-0":"singleSlide"==C(i).showStyle}]),key:e.id,style:k({width:100/C(i).rowCount+"%"})},{default:w((()=>[_(o,{onClick:t=>q(e.link),class:"flex flex-col items-center box-border py-2"},{default:w((()=>["text"!=C(i).mode?(x(),y(o,{key:0,class:"graphic-img relative flex items-center justify-center w-10 h-10",style:k({width:2*C(i).imageSize+"rpx",height:2*C(i).imageSize+"rpx"})},{default:w((()=>[e.imageUrl?(x(),y(l,{key:0,src:C(r)(e.imageUrl),mode:"aspectFill",style:k({maxWidth:2*C(i).imageSize+"rpx",maxHeight:2*C(i).imageSize+"rpx",borderRadius:2*C(i).aroundRadius+"rpx"})},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"aspectFill",style:k({maxWidth:2*C(i).imageSize+"rpx",maxHeight:2*C(i).imageSize+"rpx",borderRadius:2*C(i).aroundRadius+"rpx"})},null,8,["src","style"])),e.label.control?(x(),y(a,{key:2,class:E(["tag absolute -top-[10rpx] -right-[24rpx] text-white rounded-[24rpx] rounded-bl-none transform scale-80 py-1 px-2 text-xs"]),style:k({color:e.label.textColor,backgroundImage:"linear-gradient("+e.label.bgColorStart+","+e.label.bgColorEnd+")"})},{default:w((()=>[T(B(e.label.text),1)])),_:2},1032,["style"])):I("v-if",!0)])),_:2},1032,["style"])):I("v-if",!0),"img"!=C(i).mode?(x(),y(a,{key:1,class:E(["graphic-text w-full text-center truncate leading-normal",{"pt-1.5":"text"!=C(i).mode}]),style:k({fontSize:2*C(i).font.size+"rpx",fontWeight:C(i).font.weight,color:C(i).font.color})},{default:w((()=>[T(B(e.title),1)])),_:2},1032,["class","style"])):I("v-if",!0)])),_:2},1032,["onClick"])])),_:2},1032,["class","style"])))),128))])),_:1},8,["scroll-x","class"]))])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-8f2d9dce"]]),_e=p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(e){const o=e,r=t(),a=l((()=>"decorate"==r.mode?r.value[o.index]:o.component)),n=l((()=>{var e="";return e+="height:"+2*a.value.height+"rpx;",a.value.componentStartBgColor&&(a.value.componentStartBgColor&&a.value.componentEndBgColor?e+=`background:linear-gradient(${a.value.componentGradientAngle},${a.value.componentStartBgColor},${a.value.componentEndBgColor});`:e+="background-color:"+a.value.componentStartBgColor+";"),a.value.topRounded&&(e+="border-top-left-radius:"+2*a.value.topRounded+"rpx;"),a.value.topRounded&&(e+="border-top-right-radius:"+2*a.value.topRounded+"rpx;"),a.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*a.value.bottomRounded+"rpx;"),a.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*a.value.bottomRounded+"rpx;"),e}));return g((()=>o.pullDownRefreshCount),((e,t)=>{})),(e,t)=>{const o=j;return x(),y(o,{style:k(C(n))},null,8,["style"])}}}),ke=p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(e){const o=e,r=t(),a=l((()=>"decorate"==r.mode?r.value[o.index]:o.component)),n=l((()=>{var e="";return e+="border-top:"+2*a.value.borderWidth+"rpx "+a.value.borderStyle+" "+a.value.borderColor+";"}));return g((()=>o.pullDownRefreshCount),((e,t)=>{})),(e,t)=>{const o=j;return x(),y(o,{class:"horz-line-wrap"},{default:w((()=>["decorate"==C(r).mode?(x(),y(o,{key:0,class:"h-[30rpx]"})):I("v-if",!0),_(o,{style:k(C(n))},null,8,["style"]),"decorate"==C(r).mode?(x(),y(o,{key:1,class:"h-[30rpx]"})):I("v-if",!0)])),_:1})}}}),Ce=p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(e){const o=e,a=t(),n=l((()=>"decorate"==a.mode?a.value[o.index]:o.component)),i=l((()=>{var e="";return n.value.componentStartBgColor&&(n.value.componentStartBgColor&&n.value.componentEndBgColor?e+=`background:linear-gradient(${n.value.componentGradientAngle},${n.value.componentStartBgColor},${n.value.componentEndBgColor});`:e+="background-color:"+n.value.componentStartBgColor+";"),e})),s=l((()=>{var e="";return e+="height:"+n.value.imgHeight+";",n.value.topRounded&&(e+="border-top-left-radius:"+2*n.value.topRounded+"rpx;"),n.value.topRounded&&(e+="border-top-right-radius:"+2*n.value.topRounded+"rpx;"),n.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*n.value.bottomRounded+"rpx;"),n.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*n.value.bottomRounded+"rpx;"),e}));m((()=>{u(),g((()=>n.value),((e,t)=>{e&&"HotArea"==e.componentName&&u()}))}));const u=()=>{"decorate"==a.mode&&""==n.value.imageUrl&&(n.value.imgWidth=690,n.value.imgHeight=330)};g((()=>o.pullDownRefreshCount),((e,t)=>{}));return(e,t)=>{const o=z,l=j;return x(),y(l,{style:k(C(i))},{default:w((()=>[_(l,{class:"simple-graph-wrap overflow-hidden relative leading-0"},{default:w((()=>[C(n).imageUrl?(x(),y(o,{key:0,style:k(C(s)),src:C(r)(C(n).imageUrl),mode:"widthFix","show-menu-by-longpress":!0,class:"w-full"},null,8,["style","src"])):(x(),y(o,{key:1,style:k(C(s)),src:C(r)("static/resource/images/diy/figure.png"),mode:"widthFix","show-menu-by-longpress":!0,class:"w-full"},null,8,["style","src"])),"decorate"!=C(a).mode?(x(),S(R,{key:2},[I(" 热区功能 "),(x(!0),S(R,null,D(C(n).heatMapData,((e,t)=>(x(),y(l,{onClick:t=>(e=>{if(Object.keys(e).length){if(!e.url)return;if("app/pages/member/index"==A()&&!$())return void O().setLoginBack({url:e.url});F(e)}else N(e)})(e.link),class:"absolute",key:t,style:k({width:e.width+"%",height:e.height+"%",left:e.left+"%",top:e.top+"%"})},null,8,["onClick","style"])))),128))],64)):I("v-if",!0)])),_:1})])),_:1},8,["style"])}}}),Se=p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(o){const a=o,n=t(),i=l((()=>"decorate"==n.mode?n.value[a.index]:a.component)),s=l((()=>{var e="";return e+="position:relative;",i.value.componentStartBgColor&&(i.value.componentStartBgColor&&i.value.componentEndBgColor?e+=`background:linear-gradient(${i.value.componentGradientAngle},${i.value.componentStartBgColor},${i.value.componentEndBgColor});`:e+="background-color:"+i.value.componentStartBgColor+";"),i.value.componentBgUrl&&(e+=`background-image:url('${r(i.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),e})),u=l((()=>{var e="";return i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;"),e})),d=l((()=>{var e="";return i.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${i.value.componentBgAlpha/10});`,e+=`height:${E.value}px;`,i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;")),e}));g((()=>a.pullDownRefreshCount),((e,t)=>{}));const c=l((()=>2*i.value.imageHeight+"rpx")),p=e(0),v=e=>{p.value=e.detail.current};m((()=>{T(),"decorate"==n.mode&&g((()=>i.value),((e,t)=>{e&&"ImageAds"==e.componentName&&T()}))}));const b=W(),E=e(0),T=()=>{"decorate"==n.mode&&i.value.list.forEach((e=>{""==e.imageUrl&&(e.imgWidth=690,e.imgHeight=330)})),f((()=>{h().in(b).select(".diy-image-ads").boundingClientRect((e=>{E.value=e.height})).exec()}))},B=e=>{if(Object.keys(e).length){if(!e.url)return;if("app/pages/member/index"==A()&&!$())return void O().setLoginBack({url:e.url});F(e)}else N(e)};return(e,t)=>{const o=j,l=z,a=M,n=U;return x(),y(o,{style:k(C(s))},{default:w((()=>[_(o,{style:k(C(d))},null,8,["style"]),_(o,{class:"diy-image-ads"},{default:w((()=>[1==C(i).list.length?(x(),y(o,{key:0,class:"leading-0 overflow-hidden",style:k(C(u))},{default:w((()=>[_(o,{onClick:t[0]||(t[0]=e=>B(C(i).list[0].link))},{default:w((()=>[C(i).list[0].imageUrl?(x(),y(l,{key:0,src:C(r)(C(i).list[0].imageUrl),style:k({height:C(c)}),mode:"heightFix",class:"!w-full","show-menu-by-longpress":!0},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),style:k({height:C(c)}),mode:"heightFix",class:"!w-full","show-menu-by-longpress":!0},null,8,["src","style"]))])),_:1})])),_:1},8,["style"])):(x(),y(n,{key:1,class:"swiper",style:k({height:C(c)}),autoplay:"true",circular:"true",onChange:v},{default:w((()=>[(x(!0),S(R,null,D(C(i).list,(e=>(x(),y(a,{class:"swiper-item",key:e.id,style:k(C(u))},{default:w((()=>[_(o,{onClick:t=>B(e.link)},{default:w((()=>[_(o,{class:"item",style:k({height:C(c)})},{default:w((()=>[e.imageUrl?(x(),y(l,{key:0,src:C(r)(e.imageUrl),mode:"scaleToFill",class:"w-full h-full","show-menu-by-longpress":!0},null,8,["src"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"scaleToFill",class:"w-full h-full","show-menu-by-longpress":!0},null,8,["src"]))])),_:2},1032,["style"])])),_:2},1032,["onClick"])])),_:2},1032,["style"])))),128))])),_:1},8,["style"]))])),_:1})])),_:1},8,["style"])}}}),Re=p({__name:"index",props:["component","index","pullDownRefreshCount","global"],setup(o){const a=o,n=t(),i=l((()=>"decorate"==n.mode?n.value[a.index]:a.component)),s=l((()=>{var e="";return i.value.componentStartBgColor&&(i.value.componentStartBgColor&&i.value.componentEndBgColor?e+=`background:linear-gradient(${i.value.componentGradientAngle},${i.value.componentStartBgColor},${i.value.componentEndBgColor});`:e+="background-color:"+i.value.componentStartBgColor+";"),i.value.bgUrl&&(e+="background-image:url("+r(i.value.bgUrl)+");",e+="background-size: 100%;",e+="background-repeat: no-repeat;"),i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;"),e}));g((()=>a.pullDownRefreshCount),((e,t)=>{}));const u=G(),{query:d}=L(location.href);d.code&&X()&&Y({code:d.code}).then((e=>{u.getMemberInfo()}));const c=l((()=>"decorate"==n.mode?{headimg:"",nickname:"昵称",balance:0,point:0,money:0,member_no:"NIU0000021"}:u.info)),p=l((()=>{if(c.value){let e=parseFloat(c.value.balance)+parseFloat(c.value.money);return q(e.toString())}return 0})),m=()=>{O().setLoginBack({url:"/app/pages/member/index"})};e(!1);const f=()=>{X()?O().getAuthCode("snsapi_userinfo"):N({url:"/app/pages/member/personal"})};return l((()=>"")),(e,t)=>{const o=v(b("u-avatar"),me),l=j,a=P;return x(),y(l,{style:k(C(s))},{default:w((()=>[_(l,{class:"pt-[34rpx] member-info"},{default:w((()=>[C(c)?(x(),y(l,{key:0,class:"flex ml-[32rpx] mr-[52rpx] items-center relative"},{default:w((()=>[I(" 唤起获取微信 "),_(o,{src:C(r)(C(c).headimg),size:"55",leftIcon:"none",onClick:f},null,8,["src"]),_(l,{class:"ml-[22rpx]"},{default:w((()=>[_(l,{class:"text-[#222222] flex pr-[50rpx] flex-wrap items-center"},{default:w((()=>[_(l,{class:"text-[#222222] truncate max-w-[320rpx] font-bold text-lg mr-[16rpx]",style:k({color:C(i).textColor})},{default:w((()=>[T(B(C(c).nickname),1)])),_:1},8,["style"])])),_:1}),_(l,{class:"text-[#696B70] text-[24rpx] mt-[10rpx]",style:k({color:C(i).textColor})},{default:w((()=>[T("UID："+B(C(c).member_no),1)])),_:1},8,["style"])])),_:1}),_(l,{class:"set-icon flex items-center absolute right-0 top-2"},{default:w((()=>[_(l,{onClick:t[0]||(t[0]=e=>C(N)({url:"/app/pages/setting/index"}))},{default:w((()=>[_(a,{class:"iconfont iconshezhi text-[1.6rem] ml-[10rpx]",style:k({color:C(i).textColor})},null,8,["style"])])),_:1})])),_:1})])),_:1})):(x(),y(l,{key:1,class:"flex ml-[32rpx] mr-[52rpx] items-center relative",onClick:m},{default:w((()=>[_(o,{src:"",size:"55"}),_(l,{class:"ml-[22rpx]"},{default:w((()=>[_(l,{class:"text-[#222222] font-bold text-lg",style:k({color:C(i).textColor})},{default:w((()=>[T(B(C(V)("login"))+"/"+B(C(V)("register")),1)])),_:1},8,["style"])])),_:1}),_(l,{class:"set-icon flex items-center absolute right-0 top-2"},{default:w((()=>[_(l,{onClick:t[1]||(t[1]=e=>C(N)({url:"/app/pages/setting/index"}))},{default:w((()=>[_(a,{class:"iconfont iconshezhi text-[1.6rem] ml-[10rpx]",style:k({color:C(i).textColor})},null,8,["style"])])),_:1})])),_:1})])),_:1})),_(l,{class:"flex m-[30rpx] mb-0 py-[30rpx] items-center"},{default:w((()=>[_(l,{class:"flex-1 text-center"},{default:w((()=>[_(l,{class:"font-bold"},{default:w((()=>[_(l,{onClick:t[2]||(t[2]=e=>C(N)({url:C(c)?"/app/pages/member/balance":""})),style:k({color:C(i).textColor})},{default:w((()=>[T(B(C(p)),1)])),_:1},8,["style"])])),_:1}),_(l,{class:"text-sm mt-[10rpx]"},{default:w((()=>[_(l,{onClick:t[3]||(t[3]=e=>C(N)({url:C(c)?"/app/pages/member/balance":""})),style:k({color:C(i).textColor})},{default:w((()=>[T(B(C(V)("balance")),1)])),_:1},8,["style"])])),_:1})])),_:1}),_(l,{class:"border-solid border-white border-l border-b-0 border-t-0 border-r-0 h-[60rpx]"}),_(l,{class:"flex-1 text-center"},{default:w((()=>[_(l,{class:"font-bold"},{default:w((()=>[_(l,{onClick:t[4]||(t[4]=e=>C(N)({url:C(c)?"/app/pages/member/point":""})),style:k({color:C(i).textColor})},{default:w((()=>{var e;return[T(B(parseInt(null==(e=C(c))?void 0:e.point)||0),1)]})),_:1},8,["style"])])),_:1}),_(l,{class:"text-sm mt-[10rpx]"},{default:w((()=>[_(l,{onClick:t[5]||(t[5]=e=>C(N)({url:C(c)?"/app/pages/member/point":""})),style:k({color:C(i).textColor})},{default:w((()=>[T(B(C(V)("point")),1)])),_:1},8,["style"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])}}}),De=ge(p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(o){const a=o,n=t(),i=G(),s=l((()=>"decorate"==n.mode?n.value[a.index]:a.component)),u=l((()=>{var e="";return s.value.topRounded&&(e+="border-top-left-radius:"+2*s.value.topRounded+"rpx;"),s.value.topRounded&&(e+="border-top-right-radius:"+2*s.value.topRounded+"rpx;"),s.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*s.value.bottomRounded+"rpx;"),s.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*s.value.bottomRounded+"rpx;"),e}));g((()=>a.pullDownRefreshCount),((e,t)=>{}));const d=l((()=>"decorate"==n.mode?(p.value=10,h.value=[{title:"商品包邮"}],m.value=1,c.value=[{}],{member_level_name:"会员等级",growth:5}):(i.info&&v(),i.info)));let c=e([]),p=e(0),m=e(0),f=e(-1),h=e([]);const v=()=>{J().then((e=>{c.value=e.data;let t=!1;d.value&&c.value&&c.value.length&&c.value.forEach(((e,o)=>{e.level_id==d.value.member_level&&(m.value=o+1,e.level_benefits&&Object.values(e.level_benefits).forEach((e=>{e.content&&h.value.push(e.content)}))),e.growth>d.value.growth&&!t&&(f.value=o,t=!0)})),d.value.member_level?(-1==f.value&&(f.value=c.value.length-1),c.value[f.value]&&c.value[f.value].growth&&(p.value=c.value[f.value].growth-d.value.growth)):(d.value.member_level_name=c.value[0].level_name,p.value=c.value[0].growth,f.value=0,m.value=1)}))};let b=()=>{let e=100;return c.value[f.value]&&c.value[f.value].growth&&(e=d.value.growth?d.value.growth/c.value[f.value].growth*100:0),e};const S=e=>{if("decorate"==n.mode)return!1;N({url:e})};return(e,t)=>{const o=z,l=P,a=j,n=K;return C(d)&&C(c)&&C(c).length?(x(),y(a,{key:0,style:k(C(u)),class:"overflow-hidden"},{default:w((()=>["style-1"==C(s).style?(x(),y(a,{key:0,class:"rounded-t-[16rpx] flex items-center justify-between style-bg-1 py-[20rpx] px-[30rpx]"},{default:w((()=>[_(a,{class:"flex items-end"},{default:w((()=>[_(o,{src:C(r)("static/resource/images/diy/member/VIP_02.png"),mode:"aspectFit",class:"w-[50rpx] h-[36rpx]"},null,8,["src"]),_(l,{class:"text-[28rpx] text-[#FFDAA8] ml-[10rpx] font-bold"},{default:w((()=>[T(B(C(d).member_level_name),1)])),_:1})])),_:1}),_(a,{class:"flex items-center justify-center rounded-[30rpx] box-border style-btn w-[120rpx] h-[50rpx]",onClick:t[0]||(t[0]=e=>S("/app/pages/member/level"))},{default:w((()=>[_(l,{class:"text-[24rpx] text-[#333]"},{default:w((()=>[T(B(C(d).member_level?C(p)>0?"去升级":"去查看":"去解锁"),1)])),_:1}),_(l,{class:"iconfont iconxiayibu1 ml-[2rpx] !text-[20rpx] text-[#333]"})])),_:1})])),_:1})):I("v-if",!0),"style-2"==C(s).style?(x(),y(a,{key:1,class:"rounded-[16rpx] flex items-center justify-between style-bg-2 p-[30rpx]"},{default:w((()=>[_(a,{class:"flex flex-col"},{default:w((()=>[_(a,{class:"flex items-center"},{default:w((()=>[_(o,{src:C(r)("static/resource/images/diy/member/VIP_01.png"),mode:"aspectFit",class:"w-[74rpx] h-[30rpx]"},null,8,["src"]),_(l,{class:"text-[32rpx] text-[#FFE3B1] leading-[normal] ml-[14rpx] font-bold"},{default:w((()=>[T(B(C(d).member_level_name),1)])),_:1})])),_:1}),C(h)&&C(h).length?(x(),y(l,{key:0,class:"text-[#fff] text-[24rpx] mt-[10rpx]"},{default:w((()=>[T(B(C(d).member_level_name)+"购物享"+B(C(h)[0].title),1)])),_:1})):I("v-if",!0)])),_:1}),_(a,{class:"flex items-center justify-center rounded-[30rpx] box-border style-btn w-[120rpx] h-[50rpx]",onClick:t[1]||(t[1]=e=>S("/app/pages/member/level"))},{default:w((()=>[_(l,{class:"text-[24rpx] text-[#333]"},{default:w((()=>[T(B(C(d).member_level?C(p)>0?"去升级":"去查看":"去解锁"),1)])),_:1}),_(l,{class:"iconfont iconxiayibu1 ml-[2rpx] !text-[20rpx] text-[#333]"})])),_:1})])),_:1})):I("v-if",!0),"style-3"==C(s).style?(x(),y(a,{key:2,class:"rounded-[16rpx] style-bg-3 p-[30rpx]"},{default:w((()=>[_(a,{class:"flex items-center justify-between style-border-3 mb-[22rpx] pb-[22rpx]"},{default:w((()=>[_(a,{class:"flex flex-col"},{default:w((()=>[_(a,{class:"flex items-center"},{default:w((()=>[_(a,{class:"flex justify-end leading-[30rpx] box-border text-[#fff] pr-[10rpx] text-[26rpx] w-[120rpx] h-[30rpx] bg-contain bg-no-repeat",style:k({backgroundImage:"url("+C(r)("static/resource/images/diy/member/VIP.png")+")"})},{default:w((()=>[T(" VIP."+B(C(m)),1)])),_:1},8,["style"]),_(l,{class:"text-[#733F02] ml-[8rpx] text-[30rpx] font-bold"},{default:w((()=>[T(B(C(d).member_level_name),1)])),_:1})])),_:1}),_(l,{class:"text-[28rpx] text-[#794200] mt-[16rpx]"},{default:w((()=>[T("购物或邀请好友可以提升等级")])),_:1})])),_:1}),_(a,{class:"flex items-center",onClick:t[2]||(t[2]=e=>S("/app/pages/member/level"))},{default:w((()=>[_(a,{class:"flex flex-col items-center justify-center"},{default:w((()=>[_(o,{src:C(r)("static/resource/images/diy/member/rule.png"),mode:"aspectFit",class:"w-[26rpx] h-[26rpx]"},null,8,["src"]),_(l,{class:"text-[24rpx] text-[#733F02] mt-[10rpx]"},{default:w((()=>[T("规则")])),_:1})])),_:1}),_(a,{class:"ml-[10rpx] text-[#733F02] !text-[24rpx] iconfont iconxiangyoujiantou"})])),_:1})])),_:1}),_(a,{class:"flex items-center justify-between"},{default:w((()=>[_(a,{class:"flex flex-col flex-1"},{default:w((()=>[_(a,{class:"overflow-hidden rounded-[20rpx]"},{default:w((()=>[_(n,{percent:C(b)(),activeColor:"#fff",backgroundColor:"rgba(255,5,5,.1)","stroke-width":"6"},null,8,["percent"])])),_:1}),C(p)>0?(x(),y(l,{key:0,class:"text-[24rpx] text-[#794200] mt-[16rpx]"},{default:w((()=>[T("还差"+B(C(p))+"成长值即可升级为"+B(C(c)[C(f)].level_name),1)])),_:1})):(x(),y(l,{key:1,class:"text-[24rpx] text-[#794200] mt-[16rpx]"},{default:w((()=>[T("恭喜您升级为最高等级")])),_:1}))])),_:1}),_(a,{class:"flex items-center rounded-[30rpx] bg-[rgb(245,230,185)] p-[16rpx] ml-[40rpx]",onClick:t[3]||(t[3]=e=>S("/app/pages/member/level"))},{default:w((()=>[_(l,{class:"text-[28rpx] text-[#733F02]"},{default:w((()=>[T(B(C(d).member_level?C(p)>0?"做任务":"点击查看":"去解锁"),1)])),_:1}),_(o,{src:C(r)("static/resource/images/diy/member/vector.png"),mode:"aspectFit",class:"ml-[8rpx] w-[12rpx] h-[18rpx]"},null,8,["src"])])),_:1})])),_:1})])),_:1})):I("v-if",!0)])),_:1},8,["style"])):I("v-if",!0)}}}),[["__scopeId","data-v-813fae0a"]]),Ee=ge(p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(o){const a=o,n=t(),i=e(!1),s=e(""),u=l((()=>"decorate"==n.mode?n.value[a.index]:a.component)),d=l((()=>{var e="";return e+="position:relative;",u.value.componentStartBgColor&&(u.value.componentStartBgColor&&u.value.componentEndBgColor?e+=`background:linear-gradient(${u.value.componentGradientAngle},${u.value.componentStartBgColor},${u.value.componentEndBgColor});`:e+="background-color:"+u.value.componentStartBgColor+";"),u.value.componentBgUrl&&(e+=`background-image:url('${r(u.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),u.value.topRounded&&(e+="border-top-left-radius:"+2*u.value.topRounded+"rpx;"),u.value.topRounded&&(e+="border-top-right-radius:"+2*u.value.topRounded+"rpx;"),u.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*u.value.bottomRounded+"rpx;"),u.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*u.value.bottomRounded+"rpx;"),e})),c=l((()=>{var e="";return u.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${u.value.componentBgAlpha/10});`,e+=`height:${V.value}px;`,u.value.topRounded&&(e+="border-top-left-radius:"+2*u.value.topRounded+"rpx;"),u.value.topRounded&&(e+="border-top-right-radius:"+2*u.value.topRounded+"rpx;"),u.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*u.value.bottomRounded+"rpx;"),u.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*u.value.bottomRounded+"rpx;")),e}));g((()=>a.pullDownRefreshCount),((e,t)=>{}));const p=e(0),E=e(0),N=e(""),G=e(""),L=e(0),X=e(1e3),Y=()=>{"horizontal"==u.value.scrollWay&&setTimeout((()=>{f((()=>{h().in(q).select(".marquee-wrap").boundingClientRect((e=>{p.value=e.width;h().in(q).select(".marquee").boundingClientRect((e=>{E.value=e.width+30,L.value=Math.ceil(10*E.value),p.value>E.value?(N.value="animation: none;",G.value="display:none;"):(N.value=`\n                                width: ${E.value}px;\n                                animation-duration: ${L.value}ms;\n                                animation-delay: ${X.value}ms;`,G.value=`\n                                width: ${E.value}px;\n                                left: ${E.value}px;\n                                animation-duration: ${L.value}ms;\n                                animation-delay: ${X.value}ms;`)})).exec()})).exec()}))}))};m((()=>{Y(),J(),"decorate"==n.mode&&g((()=>u.value),((e,t)=>{e&&"Notice"==e.componentName&&(Y(),J())}))}));const q=W(),V=e(0),J=()=>{f((()=>{h().in(q).select(".diy-notice").boundingClientRect((e=>{V.value=e.height})).exec()}))},K=e=>{if("decorate"==n.mode)return!1;if("popup"==u.value.showType)i.value=!0,s.value=e.text;else if(e.link.url){if("app/pages/member/index"==A()&&!$())return void O().setLoginBack({url:e.link.url});F(e.link)}};return(e,t)=>{const o=j,l=z,a=P,n=M,p=U,g=H,m=Z,f=v(b("u-popup"),fe);return x(),y(o,{style:k(C(d))},{default:w((()=>[_(o,{style:k(C(c))},null,8,["style"]),_(o,{class:"diy-notice relative overflow-hidden"},{default:w((()=>[_(o,{class:"flex items-center pl-[28rpx] p-[22rpx]"},{default:w((()=>["img"==C(u).noticeType?(x(),S(R,{key:0},["system"==C(u).imgType?(x(),S(R,{key:0},["style_1"==C(u).systemUrl?(x(),y(l,{key:0,src:C(r)(`static/resource/images/diy/notice/${C(u).systemUrl}.png`),class:"h-[40rpx] max-w-[130rpx] mr-[20rpx]",mode:"heightFix"},null,8,["src"])):"style_2"==C(u).systemUrl?(x(),y(l,{key:1,src:C(r)(`static/resource/images/diy/notice/${C(u).systemUrl}.png`),class:"w-[200rpx] mr-[20rpx] h-[40rpx]",mode:"heightFix"},null,8,["src"])):I("v-if",!0)],64)):"diy"==C(u).imgType?(x(),y(l,{key:1,src:C(r)(C(u).imageUrl||""),class:"h-[50rpx] mr-[20rpx]",mode:"heightFix"},null,8,["src"])):I("v-if",!0)],64)):I("v-if",!0),"text"==C(u).noticeType&&C(u).noticeTitle?(x(),y(o,{key:1,class:"max-w-[128rpx] px-[12rpx] text-[26rpx] h-[40rpx] leading-[40rpx] text-[var(--primary-color)] bg-[var(--primary-color-light)] truncate rounded-[8rpx] mr-[20rpx]"},{default:w((()=>[T(B(C(u).noticeTitle),1)])),_:1})):I("v-if",!0),_(o,{class:"flex-1 flex items-center"},{default:w((()=>[I(" 横向滚动 "),"horizontal"==C(u).scrollWay?(x(),y(o,{key:0,class:"horizontal-wrap"},{default:w((()=>[_(o,{class:"marquee-wrap"},{default:w((()=>[_(o,{class:"marquee",style:k(N.value)},{default:w((()=>[(x(!0),S(R,null,D(C(u).list,((e,t)=>(x(),y(a,{key:t,onClick:t=>K(e),style:k({color:C(u).textColor,fontSize:2*C(u).fontSize+"rpx",fontWeight:C(u).fontWeight})},{default:w((()=>[T(B(e.text),1)])),_:2},1032,["onClick","style"])))),128))])),_:1},8,["style"]),_(o,{class:"marquee",style:k(G.value)},{default:w((()=>[(x(!0),S(R,null,D(C(u).list,((e,t)=>(x(),y(a,{key:t,onClick:t=>K(e),style:k({color:C(u).textColor,fontSize:2*C(u).fontSize+"rpx",fontWeight:C(u).fontWeight})},{default:w((()=>[T(B(e.text),1)])),_:2},1032,["onClick","style"])))),128))])),_:1},8,["style"])])),_:1})])),_:1})):I("v-if",!0),I(" 上下滚动 "),"upDown"==C(u).scrollWay?(x(),S(R,{key:1},[_(p,{vertical:!0,duration:500,autoplay:"true",circular:"true",class:"flex-1"},{default:w((()=>[(x(!0),S(R,null,D(C(u).list,((e,o)=>(x(),y(n,{key:o,onTouchmove:t[0]||(t[0]=Q((()=>{}),["prevent","stop"]))},{default:w((()=>[_(a,{onClick:t=>K(e),class:"beyond-hiding using-hidden",style:k({color:C(u).textColor,fontSize:2*C(u).fontSize+"rpx",fontWeight:C(u).fontWeight})},{default:w((()=>[T(B(e.text),1)])),_:2},1032,["onClick","style"])])),_:2},1024)))),128))])),_:1}),_(a,{class:"iconfont iconxiangyoujiantou -ml-[8rpx] pl-[30rpx]",style:k({color:"#999",fontSize:"24rpx",fontWeight:C(u).fontWeight})},null,8,["style"])],64)):I("v-if",!0)])),_:1})])),_:1}),_(f,{show:i.value,onClose:t[4]||(t[4]=e=>i.value=!1),mode:"center",round:5,safeAreaInsetBottom:!1},{default:w((()=>[_(o,{onTouchmove:t[3]||(t[3]=Q((()=>{}),["prevent","stop"]))},{default:w((()=>[_(o,{class:"py-[25rpx] text-sm leading-none border-0 border-solid border-b-[2rpx] border-[#eee] flex items-center justify-between"},{default:w((()=>[_(a,{class:"ml-[30rpx]"},{default:w((()=>[T("公告")])),_:1}),_(a,{class:"mr-[20rpx] iconfont iconguanbi text-[35rpx]",onClick:t[1]||(t[1]=e=>i.value=!1)})])),_:1}),_(g,{"scroll-y":"true",class:"px-6 py-3 w-[480rpx] h-[500rpx] text-sm"},{default:w((()=>[T(B(s.value),1)])),_:1}),_(m,{onClick:t[2]||(t[2]=e=>i.value=!1),class:"!mx-[30rpx] !mb-[40rpx] !w-auto !h-[70rpx] text-[24rpx] leading-[70rpx] rounded-full text-white !bg-[#ff4500] !text-[#fff]"},{default:w((()=>[T("我知道了")])),_:1})])),_:1})])),_:1},8,["show"])])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-4b4e3c69"]]),Te=ge(p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(o){const a=o,n=t(),i=l((()=>"decorate"==n.mode?n.value[a.index]:a.component)),s=e=>te(e)+1,u=l((()=>{var e="";return e+="position:relative;",i.value.componentStartBgColor&&(i.value.componentStartBgColor&&i.value.componentEndBgColor?e+=`background:linear-gradient(${i.value.componentGradientAngle},${i.value.componentStartBgColor},${i.value.componentEndBgColor});`:e+="background-color:"+i.value.componentStartBgColor+";"),i.value.componentBgUrl&&(e+=`background-image:url('${r(i.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;"),e})),d=l((()=>{var e="";return i.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${i.value.componentBgAlpha/10});`,e+=`height:${p.value}px;`,i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;")),e}));g((()=>a.pullDownRefreshCount),((e,t)=>{})),m((()=>{v(),"decorate"==n.mode?g((()=>i.value),((e,t)=>{e&&"RubikCube"==e.componentName&&v()})):g((()=>i.value),((e,t)=>{v()}))}));const c=W(),p=e(0),v=()=>{"decorate"==n.mode&&i.value.list.forEach((e=>{""==e.imageUrl&&(e.imgWidth=690,e.imgHeight=330)})),b(),f((()=>{h().in(c).select(".rubik-cube").boundingClientRect((e=>{p.value=e.height})).exec()}))},b=()=>{var e={"row1-of2":{ratio:2,width:"calc((100% - "+s(2*i.value.imageGap)+"px) / 2)"},"row1-of3":{ratio:3,width:"calc((100% - "+s(4*i.value.imageGap)+"px) / 3)"},"row1-of4":{ratio:4,width:"calc((100% - "+s(6*i.value.imageGap)+"px) / 4)"}};i.value.list.forEach(((e,t)=>{e.pageItemStyle=((e,t)=>{var o="";return"right"==i.value.elementAngle||{"row1-lt-of2-rt":[["border-top-right-radius","border-bottom-right-radius"],["border-top-left-radius","border-bottom-left-radius","border-bottom-right-radius"],["border-top-left-radius","border-bottom-left-radius","border-top-right-radius"]],"row1-lt-of1-tp-of2-bm":[["border-top-right-radius","border-bottom-right-radius"],["border-top-left-radius","border-bottom-left-radius","border-bottom-right-radius"],["border-radius"],["border-top-left-radius","border-bottom-left-radius","border-top-right-radius"]],"row1-tp-of2-bm":[["border-bottom-left-radius","border-bottom-right-radius"],["border-top-left-radius","border-bottom-right-radius","border-top-right-radius"],["border-top-left-radius","border-bottom-left-radius","border-top-right-radius"]],"row2-lt-of2-rt":[["border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius"],["border-top-left-radius","border-bottom-right-radius","border-bottom-left-radius"],["border-top-left-radius","border-bottom-right-radius","border-top-right-radius"],["border-top-left-radius","border-bottom-left-radius","border-top-right-radius"]],"row1-of4":[["border-top-right-radius","border-bottom-right-radius"],["border-radius"],["border-radius"],["border-top-left-radius","border-bottom-left-radius"]],"row1-of3":[["border-top-right-radius","border-bottom-right-radius"],["border-radius"],["border-top-left-radius","border-bottom-left-radius"]],"row1-of2":[["border-top-right-radius","border-bottom-right-radius"],["border-top-left-radius","border-bottom-left-radius"]]}[e][t].forEach(((e,t)=>{o+="border-top-left-radius:"+2*i.value.topElementRounded+"rpx;",o+="border-top-right-radius:"+2*i.value.topElementRounded+"rpx;",o+="border-bottom-left-radius:"+2*i.value.bottomElementRounded+"rpx;",o+="border-bottom-right-radius:"+2*i.value.bottomElementRounded+"rpx;"})),o})(i.value.mode,t)})),e[i.value.mode]?T(e[i.value.mode]):"row2-lt-of2-rt"==i.value.mode?B():"row1-lt-of2-rt"==i.value.mode?P():"row1-tp-of2-bm"==i.value.mode?M():"row1-lt-of1-tp-of2-bm"==i.value.mode&&U()},T=e=>{ee({success:t=>{let o=0;i.value.list.forEach(((l,r)=>{var a=l.imgHeight/l.imgWidth;let n=t.windowWidth-s(2*i.value.margin.both);i.value.imageGap>0&&(n-=s(e.ratio*i.value.imageGap*2)),l.imgWidth=n/e.ratio,l.imgHeight=l.imgWidth*a,(0==o||o<l.imgHeight)&&(o=l.imgHeight)})),i.value.list.forEach(((t,l)=>{t.widthStyle=e.width,t.imgHeight=o}))}})},B=()=>{ee({success:e=>{let t=0,o=0;i.value.list.forEach(((l,r)=>{var a=l.imgHeight/l.imgWidth;l.imgWidth=e.windowWidth,l.imgWidth-=s(4*i.value.margin.both),i.value.imageGap>0&&(l.imgWidth-=s(2*i.value.imageGap)),l.imgWidth=l.imgWidth/2,l.imgHeight=l.imgWidth*a,r<=1?(0==t||t<l.imgHeight)&&(t=l.imgHeight):r>1&&(0==o||o<l.imgHeight)&&(o=l.imgHeight)})),i.value.list.forEach(((e,l)=>{e.imgWidth="calc((100% - "+s(2*i.value.imageGap)+"px) / 2)",e.widthStyle=e.imgWidth,l<=1?e.imgHeight=t:l>1&&(e.imgHeight=o)}))}})},P=()=>{let e=0;i.value.list[1].imgWidth,i.value.list[2].imgWidth,ee({success:t=>{i.value.list.forEach(((o,l)=>{if(0==l){var r=o.imgHeight/o.imgWidth;o.imgWidth=t.windowWidth-s(4*i.value.margin.both)-s(2*i.value.imageGap),o.imgWidth=o.imgWidth/2,o.imgHeight=o.imgWidth*r,e=(o.imgHeight-s(2*i.value.imageGap))/2,o.imgWidth+="px"}else o.imgWidth=i.value.list[0].imgWidth,o.imgHeight=e}))}})},M=()=>{var e=0;ee({success:t=>{i.value.list.forEach(((o,l)=>{var r=o.imgHeight/o.imgWidth;0==l?o.imgWidth=t.windowWidth-s(4*i.value.margin.both):l>0&&(o.imgWidth=t.windowWidth-s(4*i.value.margin.both)-s(2*i.value.imageGap),o.imgWidth=o.imgWidth/2),o.imgHeight=o.imgWidth*r,l>0&&(0==e||e<o.imgHeight)&&(e=o.imgHeight)})),i.value.list.forEach(((t,o)=>{t.imgWidth+="px",t.widthStyle=t.imgWidth,o>0&&(t.imgHeight=e)}))}})},U=()=>{ee({success:e=>{i.value.list.forEach(((t,o)=>{if(0==o){var l=t.imgHeight/t.imgWidth;t.imgWidth=e.windowWidth-s(4*i.value.margin.both)-s(2*i.value.imageGap),t.imgWidth=t.imgWidth/2,t.imgHeight=t.imgWidth*l}else 1==o?(t.imgWidth=i.value.list[0].imgWidth,t.imgHeight=(i.value.list[0].imgHeight-s(2*i.value.imageGap))/2):o>1&&(t.imgWidth=(i.value.list[0].imgWidth-s(2*i.value.imageGap))/2,t.imgHeight=i.value.list[1].imgHeight)})),i.value.list.forEach(((e,t)=>{e.imgWidth+="px"}))}})},H=e=>{if(Object.keys(e).length){if(!e.url)return;if("app/pages/member/index"==A()&&!$())return void O().setLoginBack({url:e.url});F(e)}else N(e)};return(e,t)=>{const o=j,l=z;return x(),y(o,{style:k(C(u))},{default:w((()=>[_(o,{style:k(C(d))},null,8,["style"]),_(o,{class:E(["rubik-cube relative",C(n).mode])},{default:w((()=>[I(" 1左2右 "),"row1-lt-of2-rt"==C(i).mode?(x(),S(R,{key:0},[_(o,{class:"template-left"},{default:w((()=>[_(o,{onClick:t[0]||(t[0]=e=>H(C(i).list[0].link)),class:E(["item",C(i).mode]),style:k({marginRight:2*C(i).imageGap+"rpx",width:C(i).list[0].imgWidth,height:C(i).list[0].imgHeight+"px"})},{default:w((()=>[C(i).list[0].imageUrl?(x(),y(l,{key:0,src:C(r)(C(i).list[0].imageUrl),mode:"scaleToFill",style:k(C(i).list[0].pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"scaleToFill",style:k(C(i).list[0].pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"]))])),_:1},8,["class","style"])])),_:1}),_(o,{class:"template-right"},{default:w((()=>[(x(!0),S(R,null,D(C(i).list,((e,t)=>(x(),S(R,{key:t},[t>0?(x(),y(o,{key:0,onClick:t=>H(e.link),class:E(["item",C(i).mode]),style:k({marginBottom:2*C(i).imageGap+"rpx",width:e.imgWidth,height:e.imgHeight+"px"})},{default:w((()=>[e.imageUrl?(x(),y(l,{key:0,src:C(r)(e.imageUrl),mode:"scaleToFill",style:k(e.pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"scaleToFill",style:k(e.pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"]))])),_:2},1032,["onClick","class","style"])):I("v-if",!0)],64)))),128))])),_:1})],64)):"row1-lt-of1-tp-of2-bm"==C(i).mode?(x(),S(R,{key:1},[I(" 1左3右 "),_(o,{class:"template-left"},{default:w((()=>[_(o,{onClick:t[1]||(t[1]=e=>H(C(i).list[0].link)),class:E(["item",C(i).mode]),style:k({marginRight:2*C(i).imageGap+"rpx",width:C(i).list[0].imgWidth,height:C(i).list[0].imgHeight+"px"})},{default:w((()=>[C(i).list[0].imageUrl?(x(),y(l,{key:0,src:C(r)(C(i).list[0].imageUrl),mode:"scaleToFill",style:k(C(i).list[0].pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"scaleToFill",style:k(C(i).list[0].pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"]))])),_:1},8,["class","style"])])),_:1}),_(o,{class:"template-right"},{default:w((()=>[_(o,{onClick:t[2]||(t[2]=e=>H(C(i).list[1].link)),class:E(["item",C(i).mode]),style:k({marginBottom:2*C(i).imageGap+"rpx",width:C(i).list[1].imgWidth,height:C(i).list[1].imgHeight+"px"})},{default:w((()=>[C(i).list[1].imageUrl?(x(),y(l,{key:0,src:C(r)(C(i).list[1].imageUrl),mode:"scaleToFill",style:k(C(i).list[1].pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"scaleToFill",style:k(C(i).list[1].pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"]))])),_:1},8,["class","style"]),_(o,{class:"template-bottom"},{default:w((()=>[(x(!0),S(R,null,D(C(i).list,((e,t)=>(x(),S(R,{key:t},[t>1?(x(),y(o,{key:0,onClick:t=>H(e.link),class:E(["item",C(i).mode]),style:k({marginRight:2*C(i).imageGap+"rpx",width:e.imgWidth,height:e.imgHeight+"px"})},{default:w((()=>[e.imageUrl?(x(),y(l,{key:0,src:C(r)(e.imageUrl),mode:"scaleToFill",style:k(e.pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"scaleToFill",style:k(e.pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"]))])),_:2},1032,["onClick","class","style"])):I("v-if",!0)],64)))),128))])),_:1})])),_:1})],64)):(x(!0),S(R,{key:2},D(C(i).list,((e,t)=>(x(),y(o,{class:E(["item",C(i).mode]),key:t,onClick:t=>H(e.link),style:k({marginRight:2*C(i).imageGap+"rpx",marginBottom:2*C(i).imageGap+"rpx",width:e.widthStyle,height:e.imgHeight+"px"})},{default:w((()=>[e.imageUrl?(x(),y(l,{key:0,src:C(r)(e.imageUrl),mode:"scaleToFill",style:k(e.pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"])):(x(),y(l,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"scaleToFill",style:k(e.pageItemStyle),"show-menu-by-longpress":!0},null,8,["src","style"]))])),_:2},1032,["class","onClick","style"])))),128))])),_:1},8,["class"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-459311d3"]]),Be=p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(o){const a=o,n=t(),i=l((()=>"decorate"==n.mode?n.value[a.index]:a.component)),s=l((()=>{var e="";return e+="position:relative;",i.value.componentStartBgColor&&(i.value.componentStartBgColor&&i.value.componentEndBgColor?e+=`background:linear-gradient(${i.value.componentGradientAngle},${i.value.componentStartBgColor},${i.value.componentEndBgColor});`:e+="background-color:"+i.value.componentStartBgColor+";"),i.value.componentBgUrl&&(e+=`background-image:url('${r(i.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;"),e})),u=l((()=>{var e="";return i.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${i.value.componentBgAlpha/10});`,e+=`height:${c.value}px;`,i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;")),e}));g((()=>a.pullDownRefreshCount),((e,t)=>{})),m((()=>{p(),"decorate"==n.mode&&g((()=>i.value),((e,t)=>{e&&"Text"==e.componentName&&p()}))}));const d=W(),c=e(0),p=()=>{f((()=>{h().in(d).select(".diy-text").boundingClientRect((e=>{c.value=e.height})).exec()}))},S=e=>{if(Object.keys(e).length){if(!e.url)return;if("app/pages/member/index"==A()&&!$())return void O().setLoginBack({url:e.url});F(e)}else N(e)};return(e,t)=>{const o=j,l=P,r=v(b("u-icon"),pe);return x(),y(o,{style:k(C(s))},{default:w((()=>[_(o,{style:k(C(u))},null,8,["style"]),_(o,{class:"diy-text relative"},{default:w((()=>["style-1"==C(i).style?(x(),y(o,{key:0,class:"px-[20rpx]"},{default:w((()=>[_(o,{onClick:t[0]||(t[0]=e=>S(C(i).link))},{default:w((()=>[_(o,{style:k({fontSize:2*C(i).fontSize+"rpx",color:C(i).textColor,fontWeight:C(i).fontWeight,textAlign:C(i).textAlign})},{default:w((()=>[T(B(C(i).text),1)])),_:1},8,["style"])])),_:1})])),_:1})):I("v-if",!0),"style-2"==C(i).style?(x(),y(o,{key:1,class:"px-[20rpx] flex items-center"},{default:w((()=>[_(o,{onClick:t[1]||(t[1]=e=>S(C(i).link))},{default:w((()=>[_(o,{class:"max-w-[200rpx] truncate",style:k({fontSize:2*C(i).fontSize+"rpx",color:C(i).textColor,fontWeight:C(i).fontWeight})},{default:w((()=>[T(B(C(i).text),1)])),_:1},8,["style"])])),_:1}),_(l,{class:"ml-[16rpx] max-w-[300rpx] truncate",style:k({color:C(i).subTitle.color,fontSize:2*C(i).subTitle.fontSize+"rpx"})},{default:w((()=>[T(B(C(i).subTitle.text),1)])),_:1},8,["style"]),C(i).more.isShow?(x(),y(o,{key:0,class:"ml-auto text-right",style:k({color:C(i).more.color})},{default:w((()=>[_(o,{onClick:t[2]||(t[2]=e=>S(C(i).more.link)),class:"flex items-center"},{default:w((()=>[_(l,{class:"max-w-[200rpx] truncate text-[24rpx] mr-[8rpx]"},{default:w((()=>[T(B(C(i).more.text),1)])),_:1}),_(r,{name:"arrow-right",size:"12",style:k({color:C(i).more.color})},null,8,["style"])])),_:1})])),_:1},8,["style"])):I("v-if",!0)])),_:1})):I("v-if",!0)])),_:1})])),_:1},8,["style"])}}}),Ie=p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(o){const a=o,n=t(),i=l((()=>"decorate"==n.mode?n.value[a.index]:a.component)),s=l((()=>{var e="";return e+="position:relative;",i.value.componentStartBgColor&&(i.value.componentStartBgColor&&i.value.componentEndBgColor?e+=`background:linear-gradient(${i.value.componentGradientAngle},${i.value.componentStartBgColor},${i.value.componentEndBgColor});`:e+="background-color:"+i.value.componentStartBgColor+";"),i.value.componentBgUrl&&(e+=`background-image:url('${r(i.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;"),e})),u=l((()=>{var e="";return i.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${i.value.componentBgAlpha/10});`,e+=`height:${c.value}px;`,i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;")),e}));g((()=>a.pullDownRefreshCount),((e,t)=>{})),m((()=>{p(),"decorate"==n.mode&&g((()=>i.value),((e,t)=>{e&&"RichText"==e.componentName&&p()}))}));const d=W(),c=e(0),p=()=>{f((()=>{h().in(d).select(".diy-rich-text").boundingClientRect((e=>{c.value=e.height})).exec()}))};return(e,t)=>{const o=j,l=v(b("u-parse"),he),r=P;return x(),y(o,{style:k(C(s))},{default:w((()=>[_(o,{style:k(C(u))},null,8,["style"]),_(o,{class:"diy-rich-text relative"},{default:w((()=>[C(i).html&&"<p><br></p>"!=C(i).html?(x(),y(o,{key:0},{default:w((()=>[_(l,{content:C(i).html,tagStyle:{img:"vertical-align: top;"}},null,8,["content"])])),_:1})):(x(),S(R,{key:1},[_(o,null,{default:w((()=>[T("点此编辑『富文本』内容 ——>")])),_:1}),_(o,null,{default:w((()=>[_(r,null,{default:w((()=>[T("你可以对文字进行")])),_:1}),_(r,null,{default:w((()=>[T("、")])),_:1}),_(r,{class:"font-bold"},{default:w((()=>[T("加粗")])),_:1}),_(r,null,{default:w((()=>[T("、")])),_:1}),_(r,{class:"italic"},{default:w((()=>[T("斜体")])),_:1}),_(r,null,{default:w((()=>[T("、")])),_:1}),_(r,{class:"underline"},{default:w((()=>[T("下划线")])),_:1}),_(r,null,{default:w((()=>[T("、")])),_:1}),_(r,{class:"line-through"},{default:w((()=>[T("删除线")])),_:1}),_(r,null,{default:w((()=>[T("、文字")])),_:1}),_(r,{style:{color:"rgb(0, 176, 240)"}},{default:w((()=>[T("颜色")])),_:1}),_(r,null,{default:w((()=>[T("、")])),_:1}),_(r,{style:{"background-color":"rgb(255, 192, 0)",color:"rgb(255, 255, 255)"}},{default:w((()=>[T("背景色")])),_:1}),_(r,null,{default:w((()=>[T("、以及字号")])),_:1}),_(r,{class:"text-lg"},{default:w((()=>[T("大")])),_:1}),_(r,{class:"text-sm"},{default:w((()=>[T("小")])),_:1}),_(r,{class:"pl-[10rpx]"},{default:w((()=>[T("等简单排版操作。")])),_:1})])),_:1}),_(o,null,{default:w((()=>[T("也可在这里插入图片、并对图片加上超级链接，方便用户点击。")])),_:1})],64))])),_:1})])),_:1},8,["style"])}}}),We=ge(p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(o){const a=o,n=t(),i=l((()=>"decorate"==n.mode?n.value[a.index]:a.component)),s=l((()=>{var e="";return e+="position:relative;",i.value.componentStartBgColor&&(i.value.componentStartBgColor&&i.value.componentEndBgColor?e+=`background:linear-gradient(${i.value.componentGradientAngle},${i.value.componentStartBgColor},${i.value.componentEndBgColor});`:e+="background-color:"+i.value.componentStartBgColor+";"),i.value.componentBgUrl&&(e+=`background-image:url('${r(i.value.componentBgUrl)}');`,e+="background-size: cover;background-repeat: no-repeat;"),i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;"),e})),u=l((()=>{var e="";return i.value.componentBgUrl&&(e+="position:absolute;top:0;width:100%;",e+=`background: rgba(0,0,0,${i.value.componentBgAlpha/10});`,e+=`height:${p.value}px;`,i.value.topRounded&&(e+="border-top-left-radius:"+2*i.value.topRounded+"rpx;"),i.value.topRounded&&(e+="border-top-right-radius:"+2*i.value.topRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*i.value.bottomRounded+"rpx;"),i.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*i.value.bottomRounded+"rpx;")),e})),d=e=>{var t="";return t+=`background:linear-gradient(90deg,${e.startColor},${e.endColor});`};g((()=>a.pullDownRefreshCount),((e,t)=>{})),m((()=>{M(),"decorate"==n.mode&&g((()=>i.value),((e,t)=>{e&&"ActiveCube"==e.componentName&&M()}))}));const c=W(),p=e(0),M=()=>{f((()=>{h().in(c).select(".diy-active-cube").boundingClientRect((e=>{p.value=e.height})).exec()}))},U=e=>{if(Object.keys(e).length){if(!e.url)return;if("app/pages/member/index"==A()&&!$())return void O().setLoginBack({url:e.url});F(e)}else N(e)};return(e,t)=>{const o=j,l=z,a=P,n=v(b("u-icon"),pe),c=H;return x(),y(o,{style:k(C(s))},{default:w((()=>[_(o,{style:k(C(u))},null,8,["style"]),_(o,{class:"diy-active-cube relative"},{default:w((()=>[_(o,{class:"active-cube-wrap p-[20rpx]"},{default:w((()=>["style-1"==C(i).titleStyle.value?(x(),y(o,{key:0,class:"flex items-center"},{default:w((()=>[_(o,{class:"mr-[20rpx] font-bold text-[32rpx]",style:k({color:C(i).titleColor}),onClick:t[0]||(t[0]=e=>U(C(i).textLink))},{default:w((()=>[T(B(C(i).text),1)])),_:1},8,["style"]),C(i).subTitle.text?(x(),y(o,{key:0,onClick:t[1]||(t[1]=e=>U(C(i).subTitle.link)),class:"text-center text-[24rpx] rounded-[40rpx] rounded-tl-none py-[10rpx] px-[20rpx]",style:k({color:C(i).subTitle.textColor,background:"linear-gradient(90deg, "+C(i).subTitle.startColor+", "+C(i).subTitle.endColor+")"})},{default:w((()=>[T(B(C(i).subTitle.text),1)])),_:1},8,["style"])):I("v-if",!0)])),_:1})):I("v-if",!0),"style-2"==C(i).titleStyle.value?(x(),y(o,{key:1,class:"flex items-center"},{default:w((()=>[_(o,{class:"mr-[20rpx] font-bold text-[32rpx]",style:k({color:C(i).titleColor}),onClick:t[2]||(t[2]=e=>U(C(i).textLink))},{default:w((()=>[T(B(C(i).text),1)])),_:1},8,["style"]),C(i).subTitle.text?(x(),y(o,{key:0,onClick:t[3]||(t[3]=e=>U(C(i).subTitle.link)),class:"text-center text-[24rpx] rounded-[10rpx] py-[10rpx] px-[20rpx]",style:k({color:C(i).subTitle.textColor,background:"linear-gradient(90deg, "+C(i).subTitle.startColor+", "+C(i).subTitle.endColor+")"})},{default:w((()=>[T(B(C(i).subTitle.text),1)])),_:1},8,["style"])):I("v-if",!0)])),_:1})):I("v-if",!0),"style-3"==C(i).titleStyle.value?(x(),y(o,{key:2,class:"flex items-center"},{default:w((()=>[_(o,{class:"mr-[20rpx] font-bold text-[32rpx]",onClick:t[4]||(t[4]=e=>U(C(i).textLink)),style:k({color:C(i).titleColor})},{default:w((()=>[T(B(C(i).text),1)])),_:1},8,["style"]),_(o,{class:"relative h-[44rpx]",onClick:t[5]||(t[5]=e=>U(C(i).subTitle.link))},{default:w((()=>[C(i).subTitle.text?(x(),y(o,{key:0,class:"text-center text-[24rpx] py-[10rpx] pl-[16rpx] pr-[36rpx]",style:k({color:C(i).subTitle.textColor,background:"linear-gradient(90deg, "+C(i).subTitle.startColor+", "+C(i).subTitle.endColor+")"})},{default:w((()=>[T(B(C(i).subTitle.text),1)])),_:1},8,["style"])):I("v-if",!0),_(l,{class:"absolute left-0 top-0 bottom-0 !w-[16rpx] !h-[44rpx]",src:C(r)("static/resource/images/diy/active_cube/block_style2_1.png"),mode:"scaleToFill"},null,8,["src"]),_(l,{class:"absolute right-0 top-0 bottom-0 !w-[28rpx] !h-[44rpx]",src:C(r)("static/resource/images/diy/active_cube/block_style2_2.png"),mode:"scaleToFill"},null,8,["src"])])),_:1})])),_:1})):I("v-if",!0),"style-4"==C(i).titleStyle.value?(x(),y(o,{key:3,class:"flex items-center justify-between"},{default:w((()=>[_(o,{class:"font-bold text-[32rpx]",onClick:t[6]||(t[6]=e=>U(C(i).textLink)),style:k({color:C(i).titleColor})},{default:w((()=>[T(B(C(i).text),1)])),_:1},8,["style"]),C(i).subTitle.text?(x(),y(o,{key:0,onClick:t[7]||(t[7]=e=>U(C(i).subTitle.link)),class:"text-[24rpx] rounded-[40rpx] py-[10rpx] pl-[16rpx] pr-[12rpx] flex items-center",style:k({color:C(i).subTitle.textColor,background:"linear-gradient(90deg, "+C(i).subTitle.startColor+", "+C(i).subTitle.endColor+")"})},{default:w((()=>[_(a,null,{default:w((()=>[T(B(C(i).subTitle.text),1)])),_:1}),_(a,{class:"iconfont iconxiangyoujiantou ml-[4rpx] !text-[20rpx]"})])),_:1},8,["style"])):I("v-if",!0)])),_:1})):I("v-if",!0),_(o,{class:"bd flex flex-wrap justify-between"},{default:w((()=>[(x(!0),S(R,null,D(C(i).list,(e=>(x(),S(R,{key:e.id},["style-1"==C(i).blockStyle.value?(x(),y(o,{key:0,onClick:t=>U(e.link),class:"item flex justify-between p-[20rpx] bg-white mt-[20rpx] rounded-[16rpx]",style:k({backgroundColor:C(i).elementBgColor})},{default:w((()=>[_(o,{class:"flex-1 flex items-baseline flex-col"},{default:w((()=>[_(o,{class:"text--[28rpx] pb-[20rpx]",style:k({fontWeight:C(i).blockStyle.fontWeight})},{default:w((()=>[T(B(e.title.text),1)])),_:2},1032,["style"]),_(o,{class:"text--[24rpx] text-gray-500 pb-[20rpx]"},{default:w((()=>[T(B(e.subTitle.text),1)])),_:2},1024),e.moreTitle.text?(x(),y(o,{key:0,class:"link relative text-[24rpx] leading-[40rpx] flex items-center text-white rounded-r-[20rpx] h-[40rpx] pl-[26rpx] pr-[10rpx]",style:k(d(e.moreTitle))},{default:w((()=>[_(a,{class:"mr-[8rpx]"},{default:w((()=>[T(B(e.moreTitle.text),1)])),_:2},1024),_(a,{class:"iconfont iconjiantou-you-cuxiantiao-fill !text-[20rpx] text-[#fff]"}),_(l,{class:"absolute left-0 top-0 bottom-0 !w-[28rpx]",src:C(r)("static/resource/images/diy/active_cube/block_style1_1.png"),mode:"scaleToFill"},null,8,["src"])])),_:2},1032,["style"])):I("v-if",!0)])),_:2},1024),e.imageUrl?(x(),y(o,{key:0,class:"img-box ml-[10rpx] w-[130rpx]"},{default:w((()=>[_(l,{src:C(r)(e.imageUrl),mode:"aspectFit"},null,8,["src"])])),_:2},1024)):(x(),y(o,{key:1,class:"img-box ml-[10rpx] flex items-center justify-center w-[130rpx] bg-[#f3f4f6]"},{default:w((()=>[_(n,{name:"photo",color:"#999",size:"50"})])),_:1}))])),_:2},1032,["onClick","style"])):I("v-if",!0),"style-2"==C(i).blockStyle.value?(x(),y(o,{key:1,onClick:t=>U(e.link),class:"item flex justify-between p-[20rpx] bg-white mt-[20rpx] rounded-[16rpx]",style:k({backgroundColor:C(i).elementBgColor})},{default:w((()=>[_(o,{class:"flex-1 flex items-baseline flex-col"},{default:w((()=>[_(o,{class:"text--[28rpx] pb-[20rpx]",style:k({fontWeight:C(i).blockStyle.fontWeight})},{default:w((()=>[T(B(e.title.text),1)])),_:2},1032,["style"]),_(o,{class:"text--[24rpx] text-gray-500 pb-[20rpx]"},{default:w((()=>[T(B(e.subTitle.text),1)])),_:2},1024),e.moreTitle.text?(x(),y(o,{key:0,class:"link relative text-[24rpx] leading-[40rpx] flex items-center text-white rounded-[20rpx] h-[40rpx] pl-[20rpx] pr-[10rpx]",style:k(d(e.moreTitle))},{default:w((()=>[_(a,{class:"mr-[8rpx]"},{default:w((()=>[T(B(e.moreTitle.text),1)])),_:2},1024),_(a,{class:"iconfont iconjiantou-you-cuxiantiao-fill !text-[20rpx] text-[#fff]"})])),_:2},1032,["style"])):I("v-if",!0)])),_:2},1024),e.imageUrl?(x(),y(o,{key:0,class:"img-box ml-[10rpx] w-[130rpx]"},{default:w((()=>[_(l,{src:C(r)(e.imageUrl),mode:"aspectFit"},null,8,["src"])])),_:2},1024)):(x(),y(o,{key:1,class:"img-box ml-[10rpx] flex items-center justify-center w-[130rpx] bg-[#f3f4f6]"},{default:w((()=>[_(n,{name:"photo",color:"#999",size:"50"})])),_:1}))])),_:2},1032,["onClick","style"])):I("v-if",!0)],64)))),128))])),_:1}),"style-3"==C(i).blockStyle.value?(x(),y(c,{key:4,"scroll-x":"true",class:"whitespace-nowrap"},{default:w((()=>[(x(!0),S(R,null,D(C(i).list,((e,t)=>(x(),y(o,{key:e.id,class:"inline-flex"},{default:w((()=>[_(o,{onClick:t=>U(e.link),class:E(["flex flex-col items-center justify-between p-[10rpx] bg-white mt-[20rpx] w-[156rpx] h-[200rpx] rounded-[10rpx] box-border",{"mr-[14rpx]":t+1!=C(i).list.length}])},{default:w((()=>[e.imageUrl?(x(),y(o,{key:0,class:"w-[140rpx] h-[140rpx]"},{default:w((()=>[_(l,{class:"w-[140rpx] h-[140rpx]",src:C(r)(e.imageUrl),mode:"aspectFit"},null,8,["src"])])),_:2},1024)):(x(),y(o,{key:1,class:"w-[140rpx] h-[140rpx] relative flex-shrink-0"},{default:w((()=>[_(o,{class:"absolute left-0 top-0 flex items-center justify-center w-[140rpx] h-[140rpx] bg-[#f3f4f6]"},{default:w((()=>[_(n,{name:"photo",color:"#999",size:"50"})])),_:1})])),_:1})),_(o,{class:"my-[10rpx] text-[26rpx]",style:k({color:e.title.textColor,fontWeight:C(i).blockStyle.fontWeight})},{default:w((()=>[T(B(e.title.text),1)])),_:2},1032,["style"])])),_:2},1032,["onClick","class"])])),_:2},1024)))),128))])),_:1})):I("v-if",!0),"style-4"==C(i).blockStyle.value?(x(),y(c,{key:5,"scroll-x":"true",class:"whitespace-nowrap"},{default:w((()=>[(x(!0),S(R,null,D(C(i).list,((e,t)=>(x(),y(o,{key:e.id,class:"inline-flex"},{default:w((()=>[_(o,{onClick:t=>U(e.link),class:E(["flex flex-col items-center justify-between p-[4rpx] bg-[#F93D02] mt-[20rpx] rounded-[20rpx] box-border",{"mr-[14rpx]":t+1!=C(i).list.length}]),style:k({background:"linear-gradient("+e.listFrame.startColor+","+e.listFrame.endColor+")"})},{default:w((()=>[_(o,{class:"w-[148rpx] h-[148rpx] box-border px-[18rpx] pt-[16rpx] pb-[6rpx] bg-[#fff] flex flex-col items-center rounded-[16rpx]"},{default:w((()=>[e.imageUrl?(x(),y(o,{key:0,class:"w-[112rpx] h-[102rpx]"},{default:w((()=>[_(l,{class:"w-[112rpx] h-[102rpx]",src:C(r)(e.imageUrl),mode:"aspectFit"},null,8,["src"])])),_:2},1024)):(x(),y(o,{key:1,class:"w-[112rpx] h-[102rpx] relative flex-shrink-0"},{default:w((()=>[_(o,{class:"absolute left-0 top-0 flex items-center justify-center w-[112rpx] h-[102rpx] bg-[#f3f4f6]"},{default:w((()=>[_(n,{name:"photo",color:"#999",size:"50"})])),_:1})])),_:1})),_(o,{class:"relative -mt-[10rpx] text-[22rpx] bg-[#F3DAC5] text-[#ED6E00] rounded-[16rpx] px-[12rpx] leading-[36rpx]",style:k({color:e.subTitle.textColor,background:"linear-gradient(to right,"+e.subTitle.startColor+","+e.subTitle.endColor+")"})},{default:w((()=>[T(B(e.subTitle.text),1)])),_:2},1032,["style"])])),_:2},1024),_(o,{class:"mt-[10rpx] mb-[6rpx] text-[28rpx] text-[#fff]",style:k({fontWeight:C(i).blockStyle.fontWeight})},{default:w((()=>[T(B(e.title.text),1)])),_:2},1032,["style"])])),_:2},1032,["onClick","class","style"])])),_:2},1024)))),128))])),_:1})):I("v-if",!0)])),_:1})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-ff54cf9c"]]),Ae=ge(p({__name:"index",props:["component","index","pullDownRefreshCount"],setup(e){const o=e,a=t(),n=l((()=>"decorate"==a.mode?a.value[o.index]:o.component)),i=l((()=>{var e="";return n.value.componentStartBgColor&&(n.value.componentStartBgColor&&n.value.componentEndBgColor?e+=`background:linear-gradient(${n.value.componentGradientAngle},${n.value.componentStartBgColor},${n.value.componentEndBgColor});`:e+="background-color:"+n.value.componentStartBgColor+";"),n.value.topRounded&&(e+="border-top-left-radius:"+2*n.value.topRounded+"rpx;"),n.value.topRounded&&(e+="border-top-right-radius:"+2*n.value.topRounded+"rpx;"),n.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*n.value.bottomRounded+"rpx;"),n.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*n.value.bottomRounded+"rpx;"),e})),s=l((()=>{var e="";return e+="width:"+2*n.value.imageSize+"rpx;",e+="height:"+2*n.value.imageSize+"rpx;",e+="border-radius:"+2*n.value.aroundRadius+"rpx;"})),u=l((()=>{let e="";return n.value.offset&&("lowerRight"==n.value.bottomPosition||"lowerLeft"==n.value.bottomPosition?e+="padding-bottom:"+2*n.value.offset+"rpx;":"upperRight"!=n.value.bottomPosition&&"upperLeft"!=n.value.bottomPosition||(e+="padding-top:"+2*n.value.offset+"rpx;")),e}));g((()=>o.pullDownRefreshCount),((e,t)=>{}));return(e,t)=>{const o=z,l=j;return x(),y(l,{style:k(C(i))},{default:w((()=>[_(l,{class:E(["float-btn flex flex-col z-1000 items-center px-[24rpx] fixed",C(n).bottomPosition,"decorate"==C(a).mode?"float-btn-border":""]),style:k(C(u))},{default:w((()=>[(x(!0),S(R,null,D(C(n).list,((e,t)=>(x(),y(l,{key:t,onClick:t=>(e=>{if(Object.keys(e).length){if(!e.url)return;if("app/pages/member/index"==A()&&!$())return void O().setLoginBack({url:e.url});F(e)}else N(e)})(e.link),class:E({"flex items-center justify-center":!0,"mb-[20rpx]":C(n).list.length!=t+1}),style:k(C(s))},{default:w((()=>[e&&e.imageUrl?(x(),y(o,{key:0,style:k(C(s)),src:C(r)(e.imageUrl),mode:"aspectFit"},null,8,["style","src"])):(x(),y(o,{key:1,src:C(r)("static/resource/images/diy/figure.png"),mode:"aspectFit",style:k(C(s))},null,8,["src","style"]))])),_:2},1032,["onClick","class","style"])))),128))])),_:1},8,["class","style"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-f75e28b1"]]),$e=ge(p({__name:"index",props:["component","index","pullDownRefreshCount","global"],setup(a){const n=a,u=W(),d=t(),c=l((()=>"decorate"==d.mode?d.value[n.index]:n.component)),p=l((()=>{var e="";return c.value.componentStartBgColor&&(c.value.componentStartBgColor&&c.value.componentEndBgColor?e+=`background:linear-gradient(${c.value.componentGradientAngle},${c.value.componentStartBgColor},${c.value.componentEndBgColor});`:e+="background-color:"+c.value.componentStartBgColor+";"),c.value.topRounded&&(e+="border-top-left-radius:"+2*c.value.topRounded+"rpx;"),c.value.topRounded&&(e+="border-top-right-radius:"+2*c.value.topRounded+"rpx;"),c.value.bottomRounded&&(e+="border-bottom-left-radius:"+2*c.value.bottomRounded+"rpx;"),c.value.bottomRounded&&(e+="border-bottom-right-radius:"+2*c.value.bottomRounded+"rpx;"),e}));g((()=>n.pullDownRefreshCount),((e,t)=>{}));const G=e(""),L=e(!1),X=l((()=>{if("decorate"==d.mode)return"";var e="";if(n.global.topStatusBar.isShow&&"style-4"==n.global.topStatusBar.style&&(e+="top:"+d.topTabarHeight+"px;"),"fixed"==c.value.positionWay&&(L.value=!1,d.scrollTop>20)){let t=c.value.fixedBgColor.split(","),o=c.value.fixedBgColor?parseInt(t[t.length-1]):0;c.value.fixedBgColor&&0!=o?(L.value=!1,e+="background-color:"+c.value.fixedBgColor+";"):L.value=!0}return e})),Y=e=>{let t="";return e?(t=c.value.tab.selectColor,"fixed"==c.value.positionWay&&d.scrollTop>20&&(t=c.value.tab.fixedSelectColor)):(t=c.value.tab.noColor,"fixed"==c.value.positionWay&&d.scrollTop>20&&(t=c.value.tab.fixedNoColor)),t},q=l((()=>{let e=!0;for(let t=0;t<c.value.search.hotWord.list.length;t++){if(c.value.search.hotWord.list[t].text){e=!1;break}}return e})),V=l((()=>{var e="";let t=n.global.pageStartBgColor?n.global.pageStartBgColor:"rgba(255,255,255,1)";if(t.indexOf("(")>-1){let o=t.split("(")[1].split(")")[0].split(",");1==c.value.bgGradient&&(e+=`background: linear-gradient(rgba(${o[0]}, ${o[1]}, ${o[2]}, 0) 65%, rgba(${o[0]}, ${o[1]}, ${o[2]}, 0.6) 70%, rgba(${o[0]}, ${o[1]}, ${o[2]}, 0.85) 80%, rgba(${o[0]}, ${o[1]}, ${o[2]}, 0.95) 90%,  rgb(${o[0]}, ${o[1]}, ${o[2]}, 1) 100%);`)}else e+=`background: (${t});`;return e})),J=l((()=>"style-2"==c.value.swiper.swiperStyle)),K=l((()=>2*c.value.swiper.imageHeight+"rpx")),Q=e(0),Z=e=>{Q.value=e.detail.current},ee=l((()=>{var e="";return c.value.swiper.topRounded&&(e+="border-top-left-radius:"+2*c.value.swiper.topRounded+"rpx;"),c.value.swiper.topRounded&&(e+="border-top-right-radius:"+2*c.value.swiper.topRounded+"rpx;"),c.value.swiper.bottomRounded&&(e+="border-bottom-left-radius:"+2*c.value.swiper.bottomRounded+"rpx;"),c.value.swiper.bottomRounded&&(e+="border-bottom-right-radius:"+2*c.value.swiper.bottomRounded+"rpx;"),e})),te=e(-1),re=e(""),ae=(e,t)=>{if("decorate"==d.mode)return!1;re.value=e.source,te.value=t,"home"==e.source?d.topFixedStatus="home":"diy_page"==e.source&&(d.topFixedStatus="diy",ce(e.diy_id))};let ne=e(!1),ie={},se=e("");m((()=>{ue(),"decorate"==d.mode&&g((()=>c.value),((e,t)=>{e&&"CarouselSearch"==e.componentName&&ue()}))}));const ue=()=>{f((()=>{setTimeout((()=>{h().in(u).select(".fixed-wrap").boundingClientRect((e=>{G.value=(e.height||0)+"px"})).exec()}))})),ae({source:"home"},-1),c.value.swiper.list.forEach((e=>{""==e.imageUrl&&(e.imgWidth=690,e.imgHeight=330)}))},de=o({pageMode:"diy",title:"",global:{},value:[]}),ce=e=>{if(!e)return de.pageMode="diy",de.title="",de.global={},void(de.value=[]);i({id:e}).then((e=>{if(e.data.value){let t=e.data;de.pageMode=t.mode,de.title=t.title;let o=JSON.parse(t.value);de.global=o.global,de.global.bottomTabBarSwitch=!1,de.value=o.value,de.value.forEach(((e,t)=>{e.pageStyle="",e.pageStartBgColor&&(e.pageStartBgColor&&e.pageEndBgColor?e.pageStyle+=`background:linear-gradient(${e.pageGradientAngle},${e.pageStartBgColor},${e.pageEndBgColor});`:e.pageStyle+="background-color:"+e.pageStartBgColor+";"),e.margin&&(e.margin.top>0&&(e.pageStyle+="padding-top:"+2*e.margin.top+"rpx;"),e.pageStyle+="padding-bottom:"+2*e.margin.bottom+"rpx;",e.pageStyle+="padding-right:"+2*e.margin.both+"rpx;",e.pageStyle+="padding-left:"+2*e.margin.both+"rpx;")})),s({title:de.title})}}))},pe=e=>{if(Object.keys(e).length){if(!e.url)return;if("app/pages/member/index"==A()&&!$())return void O().setLoginBack({url:e.url});F(e)}else N(e)};let ge=e(!0);return ge.value=!0,(e,t)=>{const o=z,l=j,a=le,n=P,i=M,s=U,u=H,g=v(b("u-popup"),fe);return x(),y(l,{style:k(C(p)),class:"goods-carousel-search-wrap"},{default:w((()=>[_(l,{class:"relative pb-[20rpx]"},{default:w((()=>[_(l,{class:E(["bg-img",{"!-bottom-[200rpx]":1==C(c).bgGradient}])},{default:w((()=>[C(c).swiper.list&&C(c).swiper.list[Q.value].imageUrl?(x(),y(o,{key:0,src:C(r)(C(c).swiper.list[Q.value].imageUrl),mode:"scaleToFill",class:"w-full h-full","show-menu-by-longpress":!0},null,8,["src"])):(x(),y(l,{key:1,class:"w-full h-full bg-[#ccc]"})),_(l,{class:"bg-img-box",style:k(C(V))},null,8,["style"])])),_:1},8,["class"]),_(l,{class:E(["fixed-wrap",["decorate"!=C(d).mode?C(c).positionWay:""]]),style:k(C(X))},{default:w((()=>[_(l,{class:"diy-search-wrap relative z-10",onClick:t[0]||(t[0]=e=>pe(C(c).search.link)),style:k(C(se))},{default:w((()=>[C(c).search.logo?(x(),y(l,{key:0,class:"img-wrap"},{default:w((()=>[_(o,{src:C(r)(C(c).search.logo),mode:"aspectFit"},null,8,["src"])])),_:1})):I("v-if",!0),_(l,{class:"search-content"},{default:w((()=>[_(a,{type:"text",class:"uni-input","placeholder-style":"color:#fff","placeholder-class":"!text-[#fff] text-[24rpx] leading-[68rpx]",placeholder:C(q)?C(c).search.text:"",disabled:"true"},null,8,["placeholder"]),_(n,{class:"iconfont iconxiazai17"}),C(q)?I("v-if",!0):(x(),y(s,{key:0,class:"swiper-wrap",interval:1e3*C(c).search.hotWord.interval,autoplay:"true",vertical:"true",circular:"true"},{default:w((()=>[(x(!0),S(R,null,D(C(c).search.hotWord.list,(e=>(x(),y(i,{class:"swiper-item",key:e.id},{default:w((()=>[_(l,{class:"leading-[64rpx] text-[24rpx]"},{default:w((()=>[T(B(e.text),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["interval"]))])),_:1})])),_:1},8,["style"]),C(c).tab.control?(x(),y(l,{key:0,class:"tab-list-wrap relative z-10"},{default:w((()=>[_(u,{"scroll-x":"true",class:"scroll-wrap","scroll-into-view":"a"+te.value},{default:w((()=>[_(l,{onClick:t[1]||(t[1]=e=>ae({source:"home"},-1)),class:E(["scroll-item",[{active:-1==te.value}]])},{default:w((()=>[_(l,{class:"name",style:k({color:Y(-1==te.value)})},{default:w((()=>[T("首页")])),_:1},8,["style"]),-1==te.value?(x(),y(l,{key:0,class:"line",style:k({"background-color":Y(-1==te.value)})},null,8,["style"])):I("v-if",!0)])),_:1},8,["class"]),(x(!0),S(R,null,D(C(c).tab.list,((e,t)=>(x(),y(l,{class:E(["scroll-item",[{active:t==te.value}]]),onClick:o=>ae(e,t),id:"a"+t,key:t},{default:w((()=>[_(l,{class:"name",style:k({color:Y(t==te.value)})},{default:w((()=>[T(B(e.text),1)])),_:2},1032,["style"]),t==te.value?(x(),y(l,{key:0,class:"line",style:k({"background-color":Y(t==te.value)})},null,8,["style"])):I("v-if",!0)])),_:2},1032,["class","onClick","id"])))),128))])),_:1},8,["scroll-into-view"]),C(c).tab.list.length?(x(),y(l,{key:0,class:"absolute tab-btn iconfont iconliebiaoxingshi",onClick:t[2]||(t[2]=e=>oe(ne)?ne.value=!0:ne=!0)})):I("v-if",!0)])),_:1})):I("v-if",!0),L.value?(x(),y(l,{key:1,class:"bg-img"},{default:w((()=>[C(c).swiper.list&&C(c).swiper.list[Q.value].imageUrl?(x(),y(o,{key:0,src:C(r)(C(c).swiper.list[Q.value].imageUrl),mode:"scaleToFill",class:"w-full h-full","show-menu-by-longpress":!0},null,8,["src"])):(x(),y(l,{key:1,class:"w-full h-full bg-[#ccc]"}))])),_:1})):I("v-if",!0)])),_:1},8,["class","style"]),I(" 解决fixed定位后导航栏塌陷的问题 "),"decorate"!=C(d).mode?(x(),S(R,{key:0},["fixed"==C(c).positionWay?(x(),y(l,{key:0,class:"u-navbar-placeholder",style:k({width:"100%",paddingTop:G.value})},null,8,["style"])):I("v-if",!0)],64)):I("v-if",!0),I(" 轮播图 "),_(l,{class:E(["relative",{"mx-[20rpx]":C(J)}])},{default:w((()=>[C(c).swiper.control?(x(),y(s,{key:0,class:E(["swiper",{"swiper-left":"left"==C(c).swiper.indicatorAlign,"swiper-right":"right"==C(c).swiper.indicatorAlign,"ns-indicator-dots":"style-2"==C(c).swiper.indicatorStyle}]),style:k({height:C(K)}),autoplay:"true",circular:"true",onChange:Z,"previous-margin":C(J)?0:"60rpx","next-margin":C(J)?0:"60rpx",interval:1e3*C(c).swiper.interval,"indicator-dots":C(ge),"indicator-color":C(c).swiper.indicatorColor,"indicator-active-color":C(c).swiper.indicatorActiveColor},{default:w((()=>[(x(!0),S(R,null,D(C(c).swiper.list,((e,t)=>(x(),y(i,{class:"swiper-item",key:e.id,style:k(C(ee))},{default:w((()=>[_(l,{onClick:t=>pe(e.link)},{default:w((()=>[_(l,{class:"item",style:k({height:C(K)})},{default:w((()=>[e.imageUrl?(x(),y(o,{key:0,src:C(r)(e.imageUrl),mode:"scaleToFill",style:k(C(ee)),class:E(["w-full h-full",{"swiper-animation":Q.value!=t}]),"show-menu-by-longpress":!0},null,8,["src","style","class"])):(x(),y(o,{key:1,src:C(r)("static/resource/images/diy/figure.png"),style:k(C(ee)),mode:"scaleToFill",class:E(["w-full h-full",{"swiper-animation":Q.value!=t}]),"show-menu-by-longpress":!0},null,8,["src","style","class"]))])),_:2},1032,["style"])])),_:2},1032,["onClick"])])),_:2},1032,["style"])))),128))])),_:1},8,["style","class","previous-margin","next-margin","interval","indicator-dots","indicator-color","indicator-active-color"])):I("v-if",!0)])),_:1},8,["class"]),I(" 分类展开 "),_(g,{show:C(ne),mode:"top",onClose:t[4]||(t[4]=e=>oe(ne)?ne.value=!1:ne=!1)},{default:w((()=>[_(l,{class:"text-sm px-[30rpx] mt-3",style:k({"padding-top":C(ie).top+"px"})},{default:w((()=>[T("全部分类")])),_:1},8,["style"]),_(l,{class:"flex flex-wrap pl-[30rpx] pt-[30rpx]"},{default:w((()=>[_(l,{onClick:t[3]||(t[3]=e=>ae({source:"home"},-1)),class:E(["px-[26rpx] border-[2rpx] border-solid border-transparent h-[60rpx] mr-[30rpx] mb-[30rpx] flex items-center justify-center bg-[#F4F4F4] rounded-[8rpx] text-xs",{"tab-select-popup":-1==te.value}])},{default:w((()=>[T(" 首页 ")])),_:1},8,["class"]),(x(!0),S(R,null,D(C(c).tab.list,((e,t)=>(x(),y(n,{onClick:o=>ae(e,t),key:t,class:E(["px-[26rpx] border-[2rpx] border-solid border-transparent h-[60rpx] mr-[30rpx] mb-[30rpx] flex items-center justify-center bg-[#F4F4F4] rounded-[8rpx] text-xs",{"tab-select-popup":t==te.value}])},{default:w((()=>[T(B(e.text),1)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1},8,["show"])])),_:1}),I(" 展示微页面数据 "),"diy_page"==re.value?(x(),y(l,{key:0,class:"child-diy-template-wrap bg-index"},{default:w((()=>[_(Dl,{data:de},null,8,["data"])])),_:1})):I("v-if",!0)])),_:1},8,["style"])}}}),[["__scopeId","data-v-774a5975"]]);const Oe=ge({name:"u-tabbar-item",mixins:[ae,ne,{props:{name:{type:[String,Number,null],default:()=>re.tabbarItem.name},icon:{icon:String,default:()=>re.tabbarItem.icon},badge:{type:[String,Number,null],default:()=>re.tabbarItem.badge},dot:{type:Boolean,default:()=>re.tabbarItem.dot},text:{type:String,default:()=>re.tabbarItem.text},badgeStyle:{type:[Object,String],default:()=>re.tabbarItem.badgeStyle}}}],data:()=>({isActive:!1,parentData:{value:null,activeColor:"",inactiveColor:""}}),options:{virtualHost:!0},created(){this.init()},emits:["click","change"],methods:{addStyle:ie,init(){this.updateParentData(),this.parent;const e=this.parent.children.indexOf(this);this.isActive=(this.name||e)===this.parentData.value},updateParentData(){this.getParentData("u-tabbar")},updateFromParent(){this.init()},clickHandler(){this.$nextTick((()=>{const e=this.parent.children.indexOf(this),t=this.name||e;t!==this.parent.value&&this.parent.$emit("change",t),this.$emit("click",t)}))}}},[["render",function(e,t,o,l,r,a){const n=v(b("u-icon"),pe),i=v(b("u-badge"),ve),s=j,u=P;return x(),y(s,{class:"u-tabbar-item cursor-pointer",style:k([a.addStyle(e.customStyle)]),onClick:a.clickHandler},{default:w((()=>[_(s,{class:"u-tabbar-item__icon"},{default:w((()=>[e.icon?(x(),y(n,{key:0,name:e.icon,color:r.isActive?r.parentData.activeColor:r.parentData.inactiveColor,size:20},null,8,["name","color"])):(x(),S(R,{key:1},[r.isActive?se(e.$slots,"active-icon",{key:0},void 0,!0):se(e.$slots,"inactive-icon",{key:1},void 0,!0)],64)),_(i,{absolute:"",offset:[0,e.dot?"34rpx":e.badge>9?"14rpx":"20rpx"],customStyle:e.badgeStyle,isDot:e.dot,value:e.badge||(e.dot?1:null),show:e.dot||e.badge>0},null,8,["offset","customStyle","isDot","value","show"])])),_:3}),se(e.$slots,"text",{},(()=>[_(u,{class:"u-tabbar-item__text",style:k({color:r.isActive?r.parentData.activeColor:r.parentData.inactiveColor})},{default:w((()=>[T(B(e.text),1)])),_:1},8,["style"])]),!0)])),_:3},8,["style","onClick"])}],["__scopeId","data-v-ed2788ef"]]),Fe=ge(p({__name:"tabbar",props:{addon:{type:String,default:""}},setup(e,{expose:t}){const o=e;if(o.addon){ue().getTabbarConfig(o.addon)}const a=l((()=>ue().tabbar)),n=l((()=>{let e=de().params,t=[];for(let o in e)t.push(o+"="+e[o]);return"/"+A()+(t.length>0?"?"+t.join("&"):"")})),i=e=>{-1!=e.indexOf("http")||-1!=e.indexOf("http")?window.location.href=e:N({url:e,mode:"reLaunch"})};return t({setAddon:e=>{ue().getTabbarConfig(e)}}),(e,t)=>{const o=v(b("u-tabbar-item"),Oe),l=v(b("u-tabbar"),be),s=j;return C(a)&&Object.keys(C(a)).length?(x(),S(R,{key:0},[C(a)?(x(),y(l,{key:0,value:C(n),onChange:i,zIndex:"9999",fixed:!0,placeholder:!0,safeAreaInsetBottom:!0,"inactive-color":C(a).value.textColor,"active-color":C(a).value.textHoverColor},{default:w((()=>[(x(!0),S(R,null,D(C(a).value.list,(e=>(x(),S(R,null,[1==C(a).value.type?(x(),y(o,{key:0,class:"py-[5rpx]",style:k({"background-color":C(a).value.backgroundColor}),text:e.text,icon:C(r)(C(n)==e.link.url?e.iconSelectPath:e.iconPath),name:e.link.url},null,8,["style","text","icon","name"])):I("v-if",!0),2==C(a).value.type?(x(),y(o,{key:1,class:"py-[5rpx]",style:k({"background-color":C(a).value.backgroundColor}),icon:C(r)(C(n)==e.link.url?e.iconSelectPath:e.iconPath),name:e.link.url},null,8,["style","icon","name"])):I("v-if",!0),3==C(a).value.type?(x(),y(o,{key:2,class:"py-[5rpx]",style:k({"background-color":C(a).value.backgroundColor}),text:e.text,name:e.link.url},null,8,["style","text","name"])):I("v-if",!0)],64)))),256))])),_:1},8,["value","inactive-color","active-color"])):I("v-if",!0),_(s,{class:"tab-bar-placeholder"})],64)):I("v-if",!0)}}}),[["__scopeId","data-v-d4273998"]]);
/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function Ne(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,l)}return o}function je(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(o),!0).forEach((function(t){Pe(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ne(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},Me.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var o,l,r=function(e,t){if(null==e)return{};var o,l,r={},a=Object.keys(e);for(l=0;l<a.length;l++)o=a[l],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)o=a[l],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function He(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Ge=He(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Le=He(/Edge/i),Xe=He(/firefox/i),Ye=He(/safari/i)&&!He(/chrome/i)&&!He(/android/i),qe=He(/iP(ad|od|hone)/i),Ve=He(/chrome/i)&&He(/android/i),Je={capture:!1,passive:!1};function Ke(e,t,o){e.addEventListener(t,o,!Ge&&Je)}function Qe(e,t,o){e.removeEventListener(t,o,!Ge&&Je)}function Ze(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(o){return!1}return!1}}function et(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function tt(e,t,o,l){if(e){o=o||document;do{if(null!=t&&(">"===t[0]?e.parentNode===o&&Ze(e,t):Ze(e,t))||l&&e===o)return e;if(e===o)break}while(e=et(e))}return null}var ot,lt=/\s+/g;function rt(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var l=(" "+e.className+" ").replace(lt," ").replace(" "+t+" "," ");e.className=(l+(o?" "+t:"")).replace(lt," ")}}function at(e,t,o){var l=e&&e.style;if(l){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),void 0===t?o:o[t];t in l||-1!==t.indexOf("webkit")||(t="-webkit-"+t),l[t]=o+("string"==typeof o?"":"px")}}function nt(e,t){var o="";if("string"==typeof e)o=e;else do{var l=at(e,"transform");l&&"none"!==l&&(o=l+" "+o)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(o)}function it(e,t,o){if(e){var l=e.getElementsByTagName(t),r=0,a=l.length;if(o)for(;r<a;r++)o(l[r],r);return l}return[]}function st(){var e=document.scrollingElement;return e||document.documentElement}function ut(e,t,o,l,r){if(e.getBoundingClientRect||e===window){var a,n,i,s,u,d,c;if(e!==window&&e.parentNode&&e!==st()?(n=(a=e.getBoundingClientRect()).top,i=a.left,s=a.bottom,u=a.right,d=a.height,c=a.width):(n=0,i=0,s=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(t||o)&&e!==window&&(r=r||e.parentNode,!Ge))do{if(r&&r.getBoundingClientRect&&("none"!==at(r,"transform")||o&&"static"!==at(r,"position"))){var p=r.getBoundingClientRect();n-=p.top+parseInt(at(r,"border-top-width")),i-=p.left+parseInt(at(r,"border-left-width")),s=n+a.height,u=i+a.width;break}}while(r=r.parentNode);if(l&&e!==window){var g=nt(r||e),m=g&&g.a,f=g&&g.d;g&&(s=(n/=f)+(d/=f),u=(i/=m)+(c/=m))}return{top:n,left:i,bottom:s,right:u,width:c,height:d}}}function dt(e,t,o){for(var l=ft(e,!0),r=ut(e)[t];l;){var a=ut(l)[o];if(!("top"===o||"left"===o?r>=a:r<=a))return l;if(l===st())break;l=ft(l,!1)}return!1}function ct(e,t,o,l){for(var r=0,a=0,n=e.children;a<n.length;){if("none"!==n[a].style.display&&n[a]!==yo.ghost&&(l||n[a]!==yo.dragged)&&tt(n[a],o.draggable,e,!1)){if(r===t)return n[a];r++}a++}return null}function pt(e,t){for(var o=e.lastElementChild;o&&(o===yo.ghost||"none"===at(o,"display")||t&&!Ze(o,t));)o=o.previousElementSibling;return o||null}function gt(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===yo.clone||t&&!Ze(e,t)||o++;return o}function mt(e){var t=0,o=0,l=st();if(e)do{var r=nt(e),a=r.a,n=r.d;t+=e.scrollLeft*a,o+=e.scrollTop*n}while(e!==l&&(e=e.parentNode));return[t,o]}function ft(e,t){if(!e||!e.getBoundingClientRect)return st();var o=e,l=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var r=at(o);if(o.clientWidth<o.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!o.getBoundingClientRect||o===document.body)return st();if(l||t)return o;l=!0}}}while(o=o.parentNode);return st()}function ht(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function vt(e,t){return function(){if(!ot){var o=arguments;1===o.length?e.call(this,o[0]):e.apply(this,o),ot=setTimeout((function(){ot=void 0}),t)}}}function bt(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function xt(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}function yt(e,t,o){var l={};return Array.from(e.children).forEach((function(r){var a,n,i,s;if(tt(r,t.draggable,e,!1)&&!r.animated&&r!==o){var u=ut(r);l.left=Math.min(null!==(a=l.left)&&void 0!==a?a:1/0,u.left),l.top=Math.min(null!==(n=l.top)&&void 0!==n?n:1/0,u.top),l.right=Math.max(null!==(i=l.right)&&void 0!==i?i:-1/0,u.right),l.bottom=Math.max(null!==(s=l.bottom)&&void 0!==s?s:-1/0,u.bottom)}})),l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}var wt="Sortable"+(new Date).getTime();function _t(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==at(e,"display")&&e!==yo.ghost){t.push({target:e,rect:ut(e)});var o=je({},t[t.length-1].rect);if(e.thisAnimationDuration){var l=nt(e,!0);l&&(o.top-=l.f,o.left-=l.e)}e.fromRect=o}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var o in e)if(e.hasOwnProperty(o))for(var l in t)if(t.hasOwnProperty(l)&&t[l]===e[o][l])return Number(o);return-1}(t,{target:e}),1)},animateAll:function(o){var l=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof o&&o());var r=!1,a=0;t.forEach((function(e){var t=0,o=e.target,n=o.fromRect,i=ut(o),s=o.prevFromRect,u=o.prevToRect,d=e.rect,c=nt(o,!0);c&&(i.top-=c.f,i.left-=c.e),o.toRect=i,o.thisAnimationDuration&&ht(s,i)&&!ht(n,i)&&(d.top-i.top)/(d.left-i.left)==(n.top-i.top)/(n.left-i.left)&&(t=function(e,t,o,l){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-o.top,2)+Math.pow(t.left-o.left,2))*l.animation}(d,s,u,l.options)),ht(i,n)||(o.prevFromRect=n,o.prevToRect=i,t||(t=l.options.animation),l.animate(o,d,i,t)),t&&(r=!0,a=Math.max(a,t),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout((function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null}),t),o.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof o&&o()}),a):"function"==typeof o&&o(),t=[]},animate:function(e,t,o,l){if(l){at(e,"transition",""),at(e,"transform","");var r=nt(this.el),a=r&&r.a,n=r&&r.d,i=(t.left-o.left)/(a||1),s=(t.top-o.top)/(n||1);e.animatingX=!!i,e.animatingY=!!s,at(e,"transform","translate3d("+i+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),at(e,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),at(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){at(e,"transition",""),at(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),l)}}}}var kt=[],Ct={initializeByDefault:!0},St={mount:function(e){for(var t in Ct)Ct.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ct[t]);kt.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),kt.push(e)},pluginEvent:function(e,t,o){var l=this;this.eventCanceled=!1,o.cancel=function(){l.eventCanceled=!0};var r=e+"Global";kt.forEach((function(l){t[l.pluginName]&&(t[l.pluginName][r]&&t[l.pluginName][r](je({sortable:t},o)),t.options[l.pluginName]&&t[l.pluginName][e]&&t[l.pluginName][e](je({sortable:t},o)))}))},initializePlugins:function(e,t,o,l){for(var r in kt.forEach((function(l){var r=l.pluginName;if(e.options[r]||l.initializeByDefault){var a=new l(e,t,e.options);a.sortable=e,a.options=e.options,e[r]=a,Me(o,a.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);void 0!==a&&(e.options[r]=a)}},getEventProperties:function(e,t){var o={};return kt.forEach((function(l){"function"==typeof l.eventProperties&&Me(o,l.eventProperties.call(t[l.pluginName],e))})),o},modifyOption:function(e,t,o){var l;return kt.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(l=r.optionListeners[t].call(e[r.pluginName],o))})),l}};var Rt=["evt"],Dt=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=o.evt,r=Ue(o,Rt);St.pluginEvent.bind(yo)(e,t,je({dragEl:Tt,parentEl:Bt,ghostEl:It,rootEl:Wt,nextEl:At,lastDownEl:$t,cloneEl:Ot,cloneHidden:Ft,dragStarted:Vt,putSortable:Ut,activeSortable:yo.active,originalEvent:l,oldIndex:Nt,oldDraggableIndex:zt,newIndex:jt,newDraggableIndex:Pt,hideGhostForTarget:ho,unhideGhostForTarget:vo,cloneNowHidden:function(){Ft=!0},cloneNowShown:function(){Ft=!1},dispatchSortableEvent:function(e){Et({sortable:t,name:e,originalEvent:l})}},r))};function Et(e){!function(e){var t=e.sortable,o=e.rootEl,l=e.name,r=e.targetEl,a=e.cloneEl,n=e.toEl,i=e.fromEl,s=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,c=e.newDraggableIndex,p=e.originalEvent,g=e.putSortable,m=e.extraEventProperties;if(t=t||o&&o[wt]){var f,h=t.options,v="on"+l.charAt(0).toUpperCase()+l.substr(1);!window.CustomEvent||Ge||Le?(f=document.createEvent("Event")).initEvent(l,!0,!0):f=new CustomEvent(l,{bubbles:!0,cancelable:!0}),f.to=n||o,f.from=i||o,f.item=r||o,f.clone=a,f.oldIndex=s,f.newIndex=u,f.oldDraggableIndex=d,f.newDraggableIndex=c,f.originalEvent=p,f.pullMode=g?g.lastPutMode:void 0;var b=je(je({},m),St.getEventProperties(l,t));for(var x in b)f[x]=b[x];o&&o.dispatchEvent(f),h[v]&&h[v].call(t,f)}}(je({putSortable:Ut,cloneEl:Ot,targetEl:Tt,rootEl:Wt,oldIndex:Nt,oldDraggableIndex:zt,newIndex:jt,newDraggableIndex:Pt},e))}var Tt,Bt,It,Wt,At,$t,Ot,Ft,Nt,jt,zt,Pt,Mt,Ut,Ht,Gt,Lt,Xt,Yt,qt,Vt,Jt,Kt,Qt,Zt,eo=!1,to=!1,oo=[],lo=!1,ro=!1,ao=[],no=!1,io=[],so="undefined"!=typeof document,uo=qe,co=Le||Ge?"cssFloat":"float",po=so&&!Ve&&!qe&&"draggable"in document.createElement("div"),go=function(){if(so){if(Ge)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),mo=function(e,t){var o=at(e),l=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=ct(e,0,t),a=ct(e,1,t),n=r&&at(r),i=a&&at(a),s=n&&parseInt(n.marginLeft)+parseInt(n.marginRight)+ut(r).width,u=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+ut(a).width;if("flex"===o.display)return"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal";if("grid"===o.display)return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&n.float&&"none"!==n.float){var d="left"===n.float?"left":"right";return!a||"both"!==i.clear&&i.clear!==d?"horizontal":"vertical"}return r&&("block"===n.display||"flex"===n.display||"table"===n.display||"grid"===n.display||s>=l&&"none"===o[co]||a&&"none"===o[co]&&s+u>l)?"vertical":"horizontal"},fo=function(e){function t(e,o){return function(l,r,a,n){var i=l.options.group.name&&r.options.group.name&&l.options.group.name===r.options.group.name;if(null==e&&(o||i))return!0;if(null==e||!1===e)return!1;if(o&&"clone"===e)return e;if("function"==typeof e)return t(e(l,r,a,n),o)(l,r,a,n);var s=(o?l:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var o={},l=e.group;l&&"object"==ze(l)||(l={name:l}),o.name=l.name,o.checkPull=t(l.pull,!0),o.checkPut=t(l.put),o.revertClone=l.revertClone,e.group=o},ho=function(){!go&&It&&at(It,"display","none")},vo=function(){!go&&It&&at(It,"display","")};so&&!Ve&&document.addEventListener("click",(function(e){if(to)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),to=!1,!1}),!0);var bo=function(e){if(Tt){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,a=e.clientY,oo.some((function(e){var t=e[wt].options.emptyInsertThreshold;if(t&&!pt(e)){var o=ut(e),l=r>=o.left-t&&r<=o.right+t,i=a>=o.top-t&&a<=o.bottom+t;return l&&i?n=e:void 0}})),n);if(t){var o={};for(var l in e)e.hasOwnProperty(l)&&(o[l]=e[l]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[wt]._onDragOver(o)}}var r,a,n},xo=function(e){Tt&&Tt.parentNode[wt]._isOutsideThisEl(e.target)};function yo(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Me({},t),e[wt]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return mo(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==yo.supportPointer&&"PointerEvent"in window&&!Ye,emptyInsertThreshold:5};for(var l in St.initializePlugins(this,e,o),o)!(l in t)&&(t[l]=o[l]);for(var r in fo(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&po,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ke(e,"pointerdown",this._onTapStart):(Ke(e,"mousedown",this._onTapStart),Ke(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ke(e,"dragover",this),Ke(e,"dragenter",this)),oo.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Me(this,_t())}function wo(e,t,o,l,r,a,n,i){var s,u,d=e[wt],c=d.options.onMove;return!window.CustomEvent||Ge||Le?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=o,s.draggedRect=l,s.related=r||t,s.relatedRect=a||ut(t),s.willInsertAfter=i,s.originalEvent=n,e.dispatchEvent(s),c&&(u=c.call(d,s,n)),u}function _o(e){e.draggable=!1}function ko(){no=!1}function Co(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,l=0;o--;)l+=t.charCodeAt(o);return l.toString(36)}function So(e){return setTimeout(e,0)}function Ro(e){return clearTimeout(e)}yo.prototype={constructor:yo,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Jt=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Tt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,l=this.options,r=l.preventOnFilter,a=e.type,n=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,i=(n||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||i,u=l.filter;if(function(e){io.length=0;var t=e.getElementsByTagName("input"),o=t.length;for(;o--;){var l=t[o];l.checked&&io.push(l)}}(o),!Tt&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||l.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Ye||!i||"SELECT"!==i.tagName.toUpperCase())&&!((i=tt(i,l.draggable,o,!1))&&i.animated||$t===i)){if(Nt=gt(i),zt=gt(i,l.draggable),"function"==typeof u){if(u.call(this,e,i,this))return Et({sortable:t,rootEl:s,name:"filter",targetEl:i,toEl:o,fromEl:o}),Dt("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(l){if(l=tt(s,l.trim(),o,!1))return Et({sortable:t,rootEl:l,name:"filter",targetEl:i,fromEl:o,toEl:o}),Dt("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());l.handle&&!tt(s,l.handle,o,!1)||this._prepareDragStart(e,n,i)}}},_prepareDragStart:function(e,t,o){var l,r=this,a=r.el,n=r.options,i=a.ownerDocument;if(o&&!Tt&&o.parentNode===a){var s=ut(o);if(Wt=a,Bt=(Tt=o).parentNode,At=Tt.nextSibling,$t=o,Mt=n.group,yo.dragged=Tt,Ht={target:Tt,clientX:(t||e).clientX,clientY:(t||e).clientY},Yt=Ht.clientX-s.left,qt=Ht.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Tt.style["will-change"]="all",l=function(){Dt("delayEnded",r,{evt:e}),yo.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!Xe&&r.nativeDraggable&&(Tt.draggable=!0),r._triggerDragStart(e,t),Et({sortable:r,name:"choose",originalEvent:e}),rt(Tt,n.chosenClass,!0))},n.ignore.split(",").forEach((function(e){it(Tt,e.trim(),_o)})),Ke(i,"dragover",bo),Ke(i,"mousemove",bo),Ke(i,"touchmove",bo),Ke(i,"mouseup",r._onDrop),Ke(i,"touchend",r._onDrop),Ke(i,"touchcancel",r._onDrop),Xe&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Tt.draggable=!0),Dt("delayStart",this,{evt:e}),!n.delay||n.delayOnTouchOnly&&!t||this.nativeDraggable&&(Le||Ge))l();else{if(yo.eventCanceled)return void this._onDrop();Ke(i,"mouseup",r._disableDelayedDrag),Ke(i,"touchend",r._disableDelayedDrag),Ke(i,"touchcancel",r._disableDelayedDrag),Ke(i,"mousemove",r._delayedDragTouchMoveHandler),Ke(i,"touchmove",r._delayedDragTouchMoveHandler),n.supportPointer&&Ke(i,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,n.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Tt&&_o(Tt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Qe(e,"mouseup",this._disableDelayedDrag),Qe(e,"touchend",this._disableDelayedDrag),Qe(e,"touchcancel",this._disableDelayedDrag),Qe(e,"mousemove",this._delayedDragTouchMoveHandler),Qe(e,"touchmove",this._delayedDragTouchMoveHandler),Qe(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Ke(document,"pointermove",this._onTouchMove):Ke(document,t?"touchmove":"mousemove",this._onTouchMove):(Ke(Tt,"dragend",this),Ke(Wt,"dragstart",this._onDragStart));try{document.selection?So((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(o){}},_dragStarted:function(e,t){if(eo=!1,Wt&&Tt){Dt("dragStarted",this,{evt:t}),this.nativeDraggable&&Ke(document,"dragover",xo);var o=this.options;!e&&rt(Tt,o.dragClass,!1),rt(Tt,o.ghostClass,!0),yo.active=this,e&&this._appendGhost(),Et({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Gt){this._lastX=Gt.clientX,this._lastY=Gt.clientY,ho();for(var e=document.elementFromPoint(Gt.clientX,Gt.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Gt.clientX,Gt.clientY))!==t;)t=e;if(Tt.parentNode[wt]._isOutsideThisEl(e),t)do{if(t[wt]){if(t[wt]._onDragOver({clientX:Gt.clientX,clientY:Gt.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);vo()}},_onTouchMove:function(e){if(Ht){var t=this.options,o=t.fallbackTolerance,l=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=It&&nt(It,!0),n=It&&a&&a.a,i=It&&a&&a.d,s=uo&&Zt&&mt(Zt),u=(r.clientX-Ht.clientX+l.x)/(n||1)+(s?s[0]-ao[0]:0)/(n||1),d=(r.clientY-Ht.clientY+l.y)/(i||1)+(s?s[1]-ao[1]:0)/(i||1);if(!yo.active&&!eo){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(It){a?(a.e+=u-(Lt||0),a.f+=d-(Xt||0)):a={a:1,b:0,c:0,d:1,e:u,f:d};var c="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");at(It,"webkitTransform",c),at(It,"mozTransform",c),at(It,"msTransform",c),at(It,"transform",c),Lt=u,Xt=d,Gt=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!It){var e=this.options.fallbackOnBody?document.body:Wt,t=ut(Tt,!0,uo,!0,e),o=this.options;if(uo){for(Zt=e;"static"===at(Zt,"position")&&"none"===at(Zt,"transform")&&Zt!==document;)Zt=Zt.parentNode;Zt!==document.body&&Zt!==document.documentElement?(Zt===document&&(Zt=st()),t.top+=Zt.scrollTop,t.left+=Zt.scrollLeft):Zt=st(),ao=mt(Zt)}rt(It=Tt.cloneNode(!0),o.ghostClass,!1),rt(It,o.fallbackClass,!0),rt(It,o.dragClass,!0),at(It,"transition",""),at(It,"transform",""),at(It,"box-sizing","border-box"),at(It,"margin",0),at(It,"top",t.top),at(It,"left",t.left),at(It,"width",t.width),at(It,"height",t.height),at(It,"opacity","0.8"),at(It,"position",uo?"absolute":"fixed"),at(It,"zIndex","100000"),at(It,"pointerEvents","none"),yo.ghost=It,e.appendChild(It),at(It,"transform-origin",Yt/parseInt(It.style.width)*100+"% "+qt/parseInt(It.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,l=e.dataTransfer,r=o.options;Dt("dragStart",this,{evt:e}),yo.eventCanceled?this._onDrop():(Dt("setupClone",this),yo.eventCanceled||((Ot=xt(Tt)).removeAttribute("id"),Ot.draggable=!1,Ot.style["will-change"]="",this._hideClone(),rt(Ot,this.options.chosenClass,!1),yo.clone=Ot),o.cloneId=So((function(){Dt("clone",o),yo.eventCanceled||(o.options.removeCloneOnHide||Wt.insertBefore(Ot,Tt),o._hideClone(),Et({sortable:o,name:"clone"}))})),!t&&rt(Tt,r.dragClass,!0),t?(to=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Qe(document,"mouseup",o._onDrop),Qe(document,"touchend",o._onDrop),Qe(document,"touchcancel",o._onDrop),l&&(l.effectAllowed="move",r.setData&&r.setData.call(o,l,Tt)),Ke(document,"drop",o),at(Tt,"transform","translateZ(0)")),eo=!0,o._dragStartId=So(o._dragStarted.bind(o,t,e)),Ke(document,"selectstart",o),Vt=!0,Ye&&at(document.body,"user-select","none"))},_onDragOver:function(e){var t,o,l,r,a=this.el,n=e.target,i=this.options,s=i.group,u=yo.active,d=Mt===s,c=i.sort,p=Ut||u,g=this,m=!1;if(!no){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),n=tt(n,i.draggable,a,!0),T("dragOver"),yo.eventCanceled)return m;if(Tt.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||g._ignoreWhileAnimating===n)return I(!1);if(to=!1,u&&!i.disabled&&(d?c||(l=Bt!==Wt):Ut===this||(this.lastPutMode=Mt.checkPull(this,u,Tt,e))&&s.checkPut(this,u,Tt,e))){if(r="vertical"===this._getDirection(e,n),t=ut(Tt),T("dragOverValid"),yo.eventCanceled)return m;if(l)return Bt=Wt,B(),this._hideClone(),T("revert"),yo.eventCanceled||(At?Wt.insertBefore(Tt,At):Wt.appendChild(Tt)),I(!0);var f=pt(a,i.draggable);if(!f||function(e,t,o){var l=ut(pt(o.el,o.options.draggable)),r=yt(o.el,o.options,It),a=10;return t?e.clientX>r.right+a||e.clientY>l.bottom&&e.clientX>l.left:e.clientY>r.bottom+a||e.clientX>l.right&&e.clientY>l.top}(e,r,this)&&!f.animated){if(f===Tt)return I(!1);if(f&&a===e.target&&(n=f),n&&(o=ut(n)),!1!==wo(Wt,a,Tt,t,n,o,e,!!n))return B(),f&&f.nextSibling?a.insertBefore(Tt,f.nextSibling):a.appendChild(Tt),Bt=a,W(),I(!0)}else if(f&&function(e,t,o){var l=ut(ct(o.el,0,o.options,!0)),r=yt(o.el,o.options,It),a=10;return t?e.clientX<r.left-a||e.clientY<l.top&&e.clientX<l.right:e.clientY<r.top-a||e.clientY<l.bottom&&e.clientX<l.left}(e,r,this)){var h=ct(a,0,i,!0);if(h===Tt)return I(!1);if(o=ut(n=h),!1!==wo(Wt,a,Tt,t,n,o,e,!1))return B(),a.insertBefore(Tt,h),Bt=a,W(),I(!0)}else if(n.parentNode===a){o=ut(n);var v,b,x,y=Tt.parentNode!==a,w=!function(e,t,o){var l=o?e.left:e.top,r=o?e.right:e.bottom,a=o?e.width:e.height,n=o?t.left:t.top,i=o?t.right:t.bottom,s=o?t.width:t.height;return l===n||r===i||l+a/2===n+s/2}(Tt.animated&&Tt.toRect||t,n.animated&&n.toRect||o,r),_=r?"top":"left",k=dt(n,"top","top")||dt(Tt,"top","top"),C=k?k.scrollTop:void 0;if(Jt!==n&&(b=o[_],lo=!1,ro=!w&&i.invertSwap||y),v=function(e,t,o,l,r,a,n,i){var s=l?e.clientY:e.clientX,u=l?o.height:o.width,d=l?o.top:o.left,c=l?o.bottom:o.right,p=!1;if(!n)if(i&&Qt<u*r){if(!lo&&(1===Kt?s>d+u*a/2:s<c-u*a/2)&&(lo=!0),lo)p=!0;else if(1===Kt?s<d+Qt:s>c-Qt)return-Kt}else if(s>d+u*(1-r)/2&&s<c-u*(1-r)/2)return function(e){return gt(Tt)<gt(e)?1:-1}(t);if((p=p||n)&&(s<d+u*a/2||s>c-u*a/2))return s>d+u/2?1:-1;return 0}(e,n,o,r,w?1:i.swapThreshold,null==i.invertedSwapThreshold?i.swapThreshold:i.invertedSwapThreshold,ro,Jt===n),0!==v){var S=gt(Tt);do{S-=v,x=Bt.children[S]}while(x&&("none"===at(x,"display")||x===It))}if(0===v||x===n)return I(!1);Jt=n,Kt=v;var R=n.nextElementSibling,D=!1,E=wo(Wt,a,Tt,t,n,o,e,D=1===v);if(!1!==E)return 1!==E&&-1!==E||(D=1===E),no=!0,setTimeout(ko,30),B(),D&&!R?a.appendChild(Tt):n.parentNode.insertBefore(Tt,D?R:n),k&&bt(k,0,C-k.scrollTop),Bt=Tt.parentNode,void 0===b||ro||(Qt=Math.abs(b-ut(n)[_])),W(),I(!0)}if(a.contains(Tt))return I(!1)}return!1}function T(i,s){Dt(i,g,je({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:l,dragRect:t,targetRect:o,canSort:c,fromSortable:p,target:n,completed:I,onMove:function(o,l){return wo(Wt,a,Tt,t,o,ut(o),e,l)},changed:W},s))}function B(){T("dragOverAnimationCapture"),g.captureAnimationState(),g!==p&&p.captureAnimationState()}function I(t){return T("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(g),g!==p&&(rt(Tt,Ut?Ut.options.ghostClass:u.options.ghostClass,!1),rt(Tt,i.ghostClass,!0)),Ut!==g&&g!==yo.active?Ut=g:g===yo.active&&Ut&&(Ut=null),p===g&&(g._ignoreWhileAnimating=n),g.animateAll((function(){T("dragOverAnimationComplete"),g._ignoreWhileAnimating=null})),g!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===Tt&&!Tt.animated||n===a&&!n.animated)&&(Jt=null),i.dragoverBubble||e.rootEl||n===document||(Tt.parentNode[wt]._isOutsideThisEl(e.target),!t&&bo(e)),!i.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function W(){jt=gt(Tt),Pt=gt(Tt,i.draggable),Et({sortable:g,name:"change",toEl:a,newIndex:jt,newDraggableIndex:Pt,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Qe(document,"mousemove",this._onTouchMove),Qe(document,"touchmove",this._onTouchMove),Qe(document,"pointermove",this._onTouchMove),Qe(document,"dragover",bo),Qe(document,"mousemove",bo),Qe(document,"touchmove",bo)},_offUpEvents:function(){var e=this.el.ownerDocument;Qe(e,"mouseup",this._onDrop),Qe(e,"touchend",this._onDrop),Qe(e,"pointerup",this._onDrop),Qe(e,"touchcancel",this._onDrop),Qe(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;jt=gt(Tt),Pt=gt(Tt,o.draggable),Dt("drop",this,{evt:e}),Bt=Tt&&Tt.parentNode,jt=gt(Tt),Pt=gt(Tt,o.draggable),yo.eventCanceled||(eo=!1,ro=!1,lo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ro(this.cloneId),Ro(this._dragStartId),this.nativeDraggable&&(Qe(document,"drop",this),Qe(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ye&&at(document.body,"user-select",""),at(Tt,"transform",""),e&&(Vt&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),It&&It.parentNode&&It.parentNode.removeChild(It),(Wt===Bt||Ut&&"clone"!==Ut.lastPutMode)&&Ot&&Ot.parentNode&&Ot.parentNode.removeChild(Ot),Tt&&(this.nativeDraggable&&Qe(Tt,"dragend",this),_o(Tt),Tt.style["will-change"]="",Vt&&!eo&&rt(Tt,Ut?Ut.options.ghostClass:this.options.ghostClass,!1),rt(Tt,this.options.chosenClass,!1),Et({sortable:this,name:"unchoose",toEl:Bt,newIndex:null,newDraggableIndex:null,originalEvent:e}),Wt!==Bt?(jt>=0&&(Et({rootEl:Bt,name:"add",toEl:Bt,fromEl:Wt,originalEvent:e}),Et({sortable:this,name:"remove",toEl:Bt,originalEvent:e}),Et({rootEl:Bt,name:"sort",toEl:Bt,fromEl:Wt,originalEvent:e}),Et({sortable:this,name:"sort",toEl:Bt,originalEvent:e})),Ut&&Ut.save()):jt!==Nt&&jt>=0&&(Et({sortable:this,name:"update",toEl:Bt,originalEvent:e}),Et({sortable:this,name:"sort",toEl:Bt,originalEvent:e})),yo.active&&(null!=jt&&-1!==jt||(jt=Nt,Pt=zt),Et({sortable:this,name:"end",toEl:Bt,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Dt("nulling",this),Wt=Tt=Bt=It=At=Ot=$t=Ft=Ht=Gt=Vt=jt=Pt=Nt=zt=Jt=Kt=Ut=Mt=yo.dragged=yo.ghost=yo.clone=yo.active=null,io.forEach((function(e){e.checked=!0})),io.length=Lt=Xt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Tt&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],o=this.el.children,l=0,r=o.length,a=this.options;l<r;l++)tt(e=o[l],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||Co(e));return t},sort:function(e,t){var o={},l=this.el;this.toArray().forEach((function(e,t){var r=l.children[t];tt(r,this.options.draggable,l,!1)&&(o[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){o[e]&&(l.removeChild(o[e]),l.appendChild(o[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return tt(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(void 0===t)return o[e];var l=St.modifyOption(this,e,t);o[e]=void 0!==l?l:t,"group"===e&&fo(o)},destroy:function(){Dt("destroy",this);var e=this.el;e[wt]=null,Qe(e,"mousedown",this._onTapStart),Qe(e,"touchstart",this._onTapStart),Qe(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Qe(e,"dragover",this),Qe(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),oo.splice(oo.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ft){if(Dt("hideClone",this),yo.eventCanceled)return;at(Ot,"display","none"),this.options.removeCloneOnHide&&Ot.parentNode&&Ot.parentNode.removeChild(Ot),Ft=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Ft){if(Dt("showClone",this),yo.eventCanceled)return;Tt.parentNode!=Wt||this.options.group.revertClone?At?Wt.insertBefore(Ot,At):Wt.appendChild(Ot):Wt.insertBefore(Ot,Tt),this.options.group.revertClone&&this.animate(Tt,Ot),at(Ot,"display",""),Ft=!1}}else this._hideClone()}},so&&Ke(document,"touchmove",(function(e){(yo.active||eo)&&e.cancelable&&e.preventDefault()})),yo.utils={on:Ke,off:Qe,css:at,find:it,is:function(e,t){return!!tt(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},throttle:vt,closest:tt,toggleClass:rt,clone:xt,index:gt,nextTick:So,cancelNextTick:Ro,detectDirection:mo,getChild:ct},yo.get=function(e){return e[wt]},yo.mount=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(yo.utils=je(je({},yo.utils),e.utils)),St.mount(e)}))},yo.create=function(e,t){return new yo(e,t)},yo.version="1.15.2";var Do,Eo,To,Bo,Io,Wo,Ao=[],$o=!1;function Oo(){Ao.forEach((function(e){clearInterval(e.pid)})),Ao=[]}function Fo(){clearInterval(Wo)}var No=vt((function(e,t,o,l){if(t.scroll){var r,a=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,s=t.scrollSpeed,u=st(),d=!1;Eo!==o&&(Eo=o,Oo(),Do=t.scroll,r=t.scrollFn,!0===Do&&(Do=ft(o,!0)));var c=0,p=Do;do{var g=p,m=ut(g),f=m.top,h=m.bottom,v=m.left,b=m.right,x=m.width,y=m.height,w=void 0,_=void 0,k=g.scrollWidth,C=g.scrollHeight,S=at(g),R=g.scrollLeft,D=g.scrollTop;g===u?(w=x<k&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),_=y<C&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=x<k&&("auto"===S.overflowX||"scroll"===S.overflowX),_=y<C&&("auto"===S.overflowY||"scroll"===S.overflowY));var E=w&&(Math.abs(b-a)<=i&&R+x<k)-(Math.abs(v-a)<=i&&!!R),T=_&&(Math.abs(h-n)<=i&&D+y<C)-(Math.abs(f-n)<=i&&!!D);if(!Ao[c])for(var B=0;B<=c;B++)Ao[B]||(Ao[B]={});Ao[c].vx==E&&Ao[c].vy==T&&Ao[c].el===g||(Ao[c].el=g,Ao[c].vx=E,Ao[c].vy=T,clearInterval(Ao[c].pid),0==E&&0==T||(d=!0,Ao[c].pid=setInterval(function(){l&&0===this.layer&&yo.active._onTouchMove(Io);var t=Ao[this.layer].vy?Ao[this.layer].vy*s:0,o=Ao[this.layer].vx?Ao[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(yo.dragged.parentNode[wt],o,t,e,Io,Ao[this.layer].el)||bt(Ao[this.layer].el,o,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&p!==u&&(p=ft(p,!1)));$o=d}}),30),jo=function(e){var t=e.originalEvent,o=e.putSortable,l=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,n=e.hideGhostForTarget,i=e.unhideGhostForTarget;if(t){var s=o||r;n();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(u.clientX,u.clientY);i(),s&&!s.el.contains(d)&&(a("spill"),this.onSpill({dragEl:l,putSortable:o}))}};function zo(){}function Po(){}zo.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var l=ct(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(t,l):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:jo},Me(zo,{pluginName:"revertOnSpill"}),Po.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:jo},Me(Po,{pluginName:"removeOnSpill"}),yo.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Ke(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ke(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Ke(document,"touchmove",this._handleFallbackAutoScroll):Ke(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Qe(document,"dragover",this._handleAutoScroll):(Qe(document,"pointermove",this._handleFallbackAutoScroll),Qe(document,"touchmove",this._handleFallbackAutoScroll),Qe(document,"mousemove",this._handleFallbackAutoScroll)),Fo(),Oo(),clearTimeout(ot),ot=void 0},nulling:function(){Io=Eo=Do=$o=Wo=To=Bo=null,Ao.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var o=this,l=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(l,r);if(Io=e,t||this.options.forceAutoScrollFallback||Le||Ge||Ye){No(e,this.options,a,t);var n=ft(a,!0);!$o||Wo&&l===To&&r===Bo||(Wo&&Fo(),Wo=setInterval((function(){var a=ft(document.elementFromPoint(l,r),!0);a!==n&&(n=a,Oo()),No(e,o.options,a,t)}),10),To=l,Bo=r)}else{if(!this.options.bubbleScroll||ft(a,!0)===st())return void Oo();No(e,this.options,ft(a,!1),!1)}}},Me(e,{pluginName:"scroll",initializeByDefault:!0})}),yo.mount(Po,zo);const Mo="object"==typeof global&&global&&global.Object===Object&&global;var Uo="object"==typeof self&&self&&self.Object===Object&&self;const Ho=(Mo||Uo||Function("return this")()).Symbol;var Go=Object.prototype,Lo=Go.hasOwnProperty,Xo=Go.toString,Yo=Ho?Ho.toStringTag:void 0;var qo=Object.prototype.toString;var Vo="[object Null]",Jo="[object Undefined]",Ko=Ho?Ho.toStringTag:void 0;function Qo(e){return null==e?void 0===e?Jo:Vo:Ko&&Ko in Object(e)?function(e){var t=Lo.call(e,Yo),o=e[Yo];try{e[Yo]=void 0;var l=!0}catch(a){}var r=Xo.call(e);return l&&(t?e[Yo]=o:delete e[Yo]),r}(e):function(e){return qo.call(e)}(e)}var Zo="[object Symbol]";var el=/\s/;var tl=/^\s+/;function ol(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&el.test(e.charAt(t)););return t}(e)+1).replace(tl,""):e}function ll(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var rl=NaN,al=/^[-+]0x[0-9a-f]+$/i,nl=/^0b[01]+$/i,il=/^0o[0-7]+$/i,sl=parseInt;function ul(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&Qo(e)==Zo}(e))return rl;if(ll(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ll(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ol(e);var o=nl.test(e);return o||il.test(e)?sl(e.slice(2),o?2:8):al.test(e)?rl:+e}var dl=1/0,cl=17976931348623157e292;function pl(e){return e?(e=ul(e))===dl||e===-dl?(e<0?-1:1)*cl:e==e?e:0:0===e?e:0}var gl="[object AsyncFunction]",ml="[object Function]",fl="[object GeneratorFunction]",hl="[object Proxy]";var vl=9007199254740991,bl=/^(?:0|[1-9]\d*)$/;var xl=9007199254740991;function yl(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=xl}(e.length)&&!function(e){if(!ll(e))return!1;var t=Qo(e);return t==ml||t==fl||t==gl||t==hl}(e)}function wl(e,t,o){if(!ll(o))return!1;var l=typeof t;return!!("number"==l?yl(o)&&function(e,t){var o=typeof e;return!!(t=null==t?vl:t)&&("number"==o||"symbol"!=o&&bl.test(e))&&e>-1&&e%1==0&&e<t}(t,o.length):"string"==l&&t in o)&&function(e,t){return e===t||e!=e&&t!=t}(o[t],e)}var _l=Math.ceil,kl=Math.max;var Cl,Sl=function(e,t,o){return o&&"number"!=typeof o&&wl(e,t,o)&&(t=o=void 0),e=pl(e),void 0===t?(t=e,e=0):t=pl(t),function(e,t,o,l){for(var r=-1,a=kl(_l((t-e)/(o||1)),0),n=Array(a);a--;)n[l?a:++r]=e,e+=o;return n}(e,t,o=void 0===o?e<t?1:-1:pl(o),Cl)};const Rl=Sl,Dl=ge(p({__name:"index",props:["data","pullDownRefreshCount"],setup(o,{expose:r}){const a=o,n=t(),i=l((()=>"decorate"==n.mode?n:a.data)),s=l((()=>ue().addon)),u=e(["fixed","top_fixed","right_fixed","bottom_fixed","left_fixed"]),d=(e,t)=>{let o={relative:!0,selected:n.currentIndex==e,decorate:"decorate"==n.mode};return o["top-fixed-"+n.topFixedStatus]=!0,t.position&&-1!=u.value.indexOf(t.position)?o["ignore-draggable-element"]=!0:o["draggable-element"]=!0,o};m((()=>{if("decorate"==n.mode){var e=document.getElementById("componentList");const t=yo.create(e,{draggable:".draggable-element",animation:200,onEnd:e=>{let o=n.value[e.oldIndex];n.value.splice(e.oldIndex,1),n.value.splice(e.newIndex,0,o),f((()=>{t.sort(Rl(n.value.length).map((e=>e.toString()))),n.postMessage(e.newIndex,n.value[e.newIndex])}))}})}f((()=>{setTimeout((()=>{i.value.global&&i.value.global.topStatusBar&&"style-4"==i.value.global.topStatusBar.style&&ce()}),500)}))}));const p=(e,t)=>{if("decorate"==n.mode){let o=document.getElementById("componentList");if(o&&o.children.length&&o.children[e]){let l=o.children[e].offsetHeight,r=0;if(t.margin.top<0&&(r=2*t.margin.top*-1,r>l))return!1}return!0}return!1},g=()=>{};let h=e(null);let T=e(0);return c((e=>{T.value=e.scrollTop})),r({refresh:()=>{f((()=>{var e;null==(e=h.value)||e.refresh()}))}}),(e,t)=>{const o=j,l=v(b("diy-graphic-nav"),we),r=v(b("diy-horz-blank"),_e),u=v(b("diy-horz-line"),ke),c=v(b("diy-hot-area"),Ce),m=v(b("diy-image-ads"),Se),f=v(b("diy-member-info"),Re),B=v(b("diy-member-level"),De),W=v(b("diy-notice"),Ee),A=v(b("diy-rubik-cube"),Te),$=v(b("diy-text"),Be),O=v(b("diy-rich-text"),Ie),F=v(b("diy-active-cube"),We),N=v(b("diy-float-btn"),Ae),z=v(b("diy-carousel-search"),$e),P=v(b("tabbar"),Fe);return x(),y(o,{class:"diy-group",id:"componentList"},{default:w((()=>[C(i).global&&Object.keys(C(i).global).length&&C(i).global.topStatusBar&&C(i).global.topStatusBar.isShow?(x(),y(xe,{key:0,scrollTop:C(T),ref_key:"topTabbarRef",ref:h,data:C(i).global},null,8,["scrollTop","data"])):I("v-if",!0),(x(!0),S(R,null,D(C(i).value,((e,t)=>(x(),y(o,{key:e.id,onClick:o=>C(n).changeCurrentIndex(t,e),class:E(d(t,e)),style:k(e.pageStyle)},{default:w((()=>[_(o,{class:"relative",style:k({marginTop:e.margin.top<0?2*e.margin.top+"rpx":"0"})},{default:w((()=>[I(" 装修模式下，设置负上边距后超出的内容，禁止选中设置 "),p(t,e)?(x(),y(o,{key:0,class:"absolute w-full z-1",style:k({height:2*e.margin.top*-1+"rpx"}),onClick:Q(g,["stop"])},null,8,["style","onClick"])):I("v-if",!0),"GraphicNav"==e.componentName?(x(),y(l,{key:1,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"HorzBlank"==e.componentName?(x(),y(r,{key:2,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"HorzLine"==e.componentName?(x(),y(u,{key:3,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"HotArea"==e.componentName?(x(),y(c,{key:4,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"ImageAds"==e.componentName?(x(),y(m,{key:5,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"MemberInfo"==e.componentName?(x(),y(f,{key:6,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"MemberLevel"==e.componentName?(x(),y(B,{key:7,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"Notice"==e.componentName?(x(),y(W,{key:8,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"RubikCube"==e.componentName?(x(),y(A,{key:9,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"Text"==e.componentName?(x(),y($,{key:10,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"RichText"==e.componentName?(x(),y(O,{key:11,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"ActiveCube"==e.componentName?(x(),y(F,{key:12,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"FloatBtn"==e.componentName?(x(),y(N,{key:13,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0),"CarouselSearch"==e.componentName?(x(),y(z,{key:14,component:e,global:C(i).global,index:t,pullDownRefreshCount:a.pullDownRefreshCount},null,8,["component","global","index","pullDownRefreshCount"])):I("v-if",!0)])),_:2},1032,["style"])])),_:2},1032,["onClick","class","style"])))),128)),""==C(n).mode&&C(i).global.bottomTabBarSwitch?(x(),S(R,{key:1},[_(o,{class:"pt-[20rpx]"}),_(P,{addon:C(s)},null,8,["addon"])],64)):I("v-if",!0)])),_:1})}}}),[["__scopeId","data-v-53042d3d"]]),El=p({__name:"index",props:["data","pullDownRefreshCount"],setup(e){const t=e;return(e,o)=>{const l=j;return x(),y(l,null,{default:w((()=>[T(" 固定模板示例，我也可以装修 "),I(" 自定义模板渲染 "),_(Dl,{data:t.data,pullDownRefreshCount:t.pullDownRefreshCount},null,8,["data","pullDownRefreshCount"])])),_:1})}}}),Tl=ge(p({__name:"index",props:["data","pullDownRefreshCount"],setup(e){const t=e;return(e,o)=>{const l=v(b("fixed-demo-index"),El),r=j;return x(),y(r,{class:"fixed-group"},{default:w((()=>["demo-index"==t.data.global.component?(x(),y(l,{key:0,data:t.data,pullDownRefreshCount:t.pullDownRefreshCount},null,8,["data","pullDownRefreshCount"])):I("v-if",!0)])),_:1})}}}),[["__scopeId","data-v-b4efcf88"]]);export{Dl as d,Tl as f,ye as u};
