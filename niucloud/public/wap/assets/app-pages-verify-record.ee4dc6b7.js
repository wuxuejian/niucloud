import{d as e,r as s,o as a,c as l,w as t,b as r,O as o,P as c,u as n,Q as d,f as u,n as i,ap as m,aq as p,i as f,D as x,E as _,a0 as b,a as v,F as y,W as g}from"./index-f0b22e55.js";import{u as h,M as w}from"./useMescroll.c446395f.js";import{M as k}from"./mescroll-empty.7e260d1e.js";import{c as j}from"./verify.d2ea4b6d.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import"./mescroll-i18n.ffa6f730.js";const I=C(e({__name:"record",setup(e){let C=s([]),I=s(!1);const{mescrollInit:M,downCallback:D,getMescroll:F}=h(p,m),q=e=>{I.value=!1;let s={page:e.num,limit:e.size};j(s).then((s=>{let a=s.data.data;1==e.num&&(C.value=[]),C.value=C.value.concat(a),e.endSuccess(a.length),I.value=!0})).catch((()=>{I.value=!0,e.endErr()}))};return(e,s)=>{const m=y,p=f,h=g;return a(),l(p,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden",style:i(e.themeColor())},{default:t((()=>[r(w,{ref:"mescrollRef",top:"20rpx",onInit:n(M),onDown:n(D),onUp:q},{default:t((()=>[r(p,{class:"goods-wrap"},{default:t((()=>[(a(!0),o(d,null,c(n(C),((e,s)=>(a(),l(p,{key:e.id,class:"goods-item",onClick:s=>{v({url:"/app/pages/verify/detail",param:{code:e.code}})}},{default:t((()=>[r(p,{class:"flex items-center justify-between border-0 border-b-[2rpx] border-[#ccc] border-solid pb-[20rpx]"},{default:t((()=>[r(m,{class:"truncate w-[460rpx] text-[#999]"},{default:t((()=>[x("核销码："+_(e.code),1)])),_:2},1024),r(m,{class:"text-[#999]"},{default:t((()=>[x("核销员："+_(e.member?e.member.nickname:"--"),1)])),_:2},1024)])),_:2},1024),r(p,{class:"py-[20rpx]"},{default:t((()=>[(a(!0),o(d,null,c(e.value.list,((e,s)=>(a(),l(p,{class:"py-[10rpx] flex",key:s},{default:t((()=>[e.cover?(a(),l(h,{key:0,class:"w-[80rpx] h-[80rpx]",mode:"aspectFit",src:n(b)(e.cover)},null,8,["src"])):(a(),l(h,{key:1,class:"w-[80rpx] h-[80rpx]",mode:"aspectFit",src:n(b)("addon/tourism/tourism/member/hotel.png")},null,8,["src"])),r(p,{class:"flex flex-col flex-1 ml-[10rpx]"},{default:t((()=>[r(p,{class:"multi-hidden leading-[1.2]"},{default:t((()=>[x(_(e.name),1)])),_:2},1024),r(p,{class:"ml-auto text-[#999]"},{default:t((()=>[x("x"+_(e.num),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024),r(p,{class:"flex items-center justify-between border-0 border-t-[2rpx] border-[#ccc] border-solid pt-[20rpx]"},{default:t((()=>[r(m,{class:"text-[#999]"},{default:t((()=>[x("核销时间："+_(e.create_time),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),!n(C).length&&n(I)?(a(),l(k,{key:0,option:{icon:n(b)("static/resource/images/empty.png")}},null,8,["option"])):u("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-eeeaaa2f"]]);export{I as default};
