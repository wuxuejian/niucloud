import{m as e,p as a,q as t,o as s,c as l,w as r,D as o,i as d,d as i,r as n,j as u,bn as c,L as p,b as f,T as m,U as x,V as h,f as _,E as b,F as v,u as y,n as g,a as k,g as C,h as w,P as j,ad as A,bo as S,bp as D,G as I}from"./index-ead89f89.js";import{_ as P}from"./u-swipe-action-item.bd305d39.js";import{_ as B}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as E}from"./u-tabbar.122d4245.js";import{M as F}from"./mescroll-empty.0e5712d7.js";import"./u-icon.58da3983.js";import"./u-safe-bottom.63a127b1.js";import"./mescroll-i18n.b9f2eba4.js";const T=B({name:"u-swipe-action",mixins:[a,t,{props:{autoClose:{type:Boolean,default:()=>e.swipeAction.autoClose}}}],data:()=>({}),provide(){return{swipeAction:this}},computed:{parentData(){return[this.autoClose]}},watch:{parentData(){this.children.length&&this.children.map((e=>{"function"==typeof e.updateParentData&&e.updateParentData()}))}},created(){this.children=[]},methods:{closeOther(e){this.autoClose&&this.children.map(((a,t)=>{e!==a&&a.closeHandler()}))}}},[["render",function(e,a,t,i,n,u){const c=d;return s(),l(c,{class:"u-swipe-action"},{default:r((()=>[o(e.$slots,"default")])),_:3})}]]),V=B(i({__name:"address",setup(e){const a=n(!0),t=n(0),o=n([]),i=n([]),B=n(""),V=n("");u((e=>{B.value=e.type||"",V.value=e.source||"",e.type&&(t.value="address"==e.type?0:1),uni.getStorageSync("selectAddressCallback")&&uni.removeStorage({key:"selectAddressCallback"})})),c({}).then((({data:e})=>{const s=[],l=[];e.forEach((e=>{"address"==e.type?s.push(e):l.push(e)})),V.value?o.value=0==t.value?s:l:o.value=e,a.value=!1})).catch((()=>{a.value=!1}));const q=()=>{k({url:"/app/pages/member/address_edit",param:{source:V.value}})},z=n([{text:p("delete"),style:{backgroundColor:"#F56C6C"}}]);return(e,n)=>{const u=d,c=I,B=C(w("u-swipe-action-item"),P),G=C(w("u-swipe-action"),T),H=j,L=C(w("u-tabbar"),E),M=A;return a.value?_("v-if",!0):(s(),l(u,{key:0,style:g(e.themeColor())},{default:r((()=>[f(M,{"scroll-y":"true"},{default:r((()=>[f(G,null,{default:r((()=>[f(u,{class:"py-[30rpx] sidebar-marign"},{default:r((()=>[(s(!0),m(h,null,x(o.value,((e,a)=>(s(),l(B,{options:z.value,onClick:e=>(e=>{const a=t.value?i:o,s=a.value[e];D(s.id).then((()=>{a.value.splice(e,1)})).catch()})(a)},{default:r((()=>[f(u,{class:"border-0 !border-b !border-[#f5f5f5] border-solid pb-[30rpx] flex items-center"},{default:r((()=>[f(u,{class:"flex-1 line-feed",onClick:a=>(e=>{const a=uni.getStorageSync("selectAddressCallback");a&&(a.address_id=e.id,uni.setStorage({key:"selectAddressCallback",data:a,success(){k({url:a.back,mode:"redirectTo"})}}))})(e)},{default:r((()=>[f(u,{class:"font-bold my-[10rpx] text-sm line-feed"},{default:r((()=>[b(v(e.full_address),1)])),_:2},1024),f(u,{class:"text-sm flex items-center"},{default:r((()=>[f(u,null,{default:r((()=>[b(v(e.name),1)])),_:2},1024),f(c,{class:"text-[26rpx] text-gray-subtitle"},{default:r((()=>[b(v(y(S)(e.mobile)),1)])),_:2},1024),1==e.is_default?(s(),l(u,{key:0,class:"bg-primary text-white text-xs px-[10rpx] leading-none flex items-center h-[32rpx] ml-[10rpx] rounded min-w-[50rpx]"},{default:r((()=>[b(v(y(p)("default")),1)])),_:1})):_("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"]),f(c,{class:"nc-iconfont nc-icon-xiugaiV6xx shrink-0 text-[32rpx] p-[20rpx] pr-0",onClick:a=>{return t=e.id,void k({url:"/app/pages/member/address_edit",param:{id:t,source:V.value}});var t}},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])))),256)),o.value.length?_("v-if",!0):(s(),l(u,{key:0,class:"pt-[20vh]"},{default:r((()=>[f(F,{option:{tip:"暂无收货地址"}})])),_:1}))])),_:1})])),_:1}),f(L,{fixed:!0,safeAreaInsetBottom:!0,border:!1,zIndex:"99"},{default:r((()=>[f(u,{class:"p-[24rpx] pt-0 w-full"},{default:r((()=>[f(H,{"hover-class":"none",class:"bg-[var(--primary-color)] text-[#fff] h-[80rpx] leading-[80rpx] rounded-[100rpx] text-[28rpx]",onClick:q},{default:r((()=>[b(v(y(p)("createAddress")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))}}}),[["__scopeId","data-v-6ad22531"]]);export{V as default};
