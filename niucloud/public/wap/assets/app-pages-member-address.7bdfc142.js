import{l as e,m as a,p as t,o as s,c as l,w as r,C as o,i,d as u,r as n,j as d,bi as c,K as p,b as f,P as m,Q as x,R as h,f as _,u as b,n as v,a as y,g as k,h as C,aa as g,D as j,E as w,bj as A,bk as D,F as I}from"./index-000ef0fb.js";import{_ as P}from"./u-swipe-action-item.48a7c79b.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as B}from"./u-button.cdb9d635.js";import{_ as E}from"./u-tabbar.97119731.js";import{M as F}from"./mescroll-empty.e4dabec7.js";import"./u-icon.f8309613.js";import"./u-loading-icon.d02ed416.js";import"./u-safe-bottom.9eba99f8.js";import"./mescroll-i18n.5bba6fa8.js";const z=S({name:"u-swipe-action",mixins:[a,t,{props:{autoClose:{type:Boolean,default:()=>e.swipeAction.autoClose}}}],data:()=>({}),provide(){return{swipeAction:this}},computed:{parentData(){return[this.autoClose]}},watch:{parentData(){this.children.length&&this.children.map((e=>{"function"==typeof e.updateParentData&&e.updateParentData()}))}},created(){this.children=[]},methods:{closeOther(e){this.autoClose&&this.children.map(((a,t)=>{e!==a&&a.closeHandler()}))}}},[["render",function(e,a,t,u,n,d){const c=i;return s(),l(c,{class:"u-swipe-action"},{default:r((()=>[o(e.$slots,"default")])),_:3})}]]),H=S(u({__name:"address",setup(e){const a=n(!0),t=n(0),o=n([]),u=n([]),S=n(""),H=n("");d((e=>{S.value=e.type||"",H.value=e.source||"",e.type&&(t.value="address"==e.type?0:1)})),c({}).then((({data:e})=>{const s=[],l=[];e.forEach((e=>{"address"==e.type?s.push(e):l.push(e)})),H.value?o.value=0==t.value?s:l:o.value=e,a.value=!1})).catch((()=>{a.value=!1}));const K=()=>{y({url:"/app/pages/member/address_edit",param:{source:H.value}})},M=n([{text:p("delete"),style:{backgroundColor:"#F56C6C"}}]);return(e,n)=>{const d=i,c=I,S=k(C("u-swipe-action-item"),P),O=k(C("u-swipe-action"),z),Q=k(C("u-button"),B),R=k(C("u-tabbar"),E),T=g;return a.value?_("v-if",!0):(s(),l(d,{key:0,style:v(e.themeColor())},{default:r((()=>[f(T,{"scroll-y":"true"},{default:r((()=>[f(O,null,{default:r((()=>[f(d,{class:"p-[30rpx]"},{default:r((()=>[(s(!0),m(h,null,x(o.value,((e,a)=>(s(),l(S,{options:M.value,onClick:e=>(e=>{const a=t.value?u:o,s=a.value[e];D(s.id).then((()=>{a.value.splice(e,1)})).catch()})(a)},{default:r((()=>[f(d,{class:"border-0 !border-b !border-[#f5f5f5] border-solid pb-[30rpx] flex items-center"},{default:r((()=>[f(d,{class:"flex-1 line-feed",onClick:a=>(e=>{const a=uni.getStorageSync("selectAddressCallback");a&&(a.address_id=e.id,uni.setStorage({key:"selectAddressCallback",data:a,success(){y({url:a.back,mode:"redirectTo"})}}))})(e)},{default:r((()=>[f(d,{class:"font-bold my-[10rpx] text-sm line-feed"},{default:r((()=>[j(w(e.full_address),1)])),_:2},1024),f(d,{class:"text-sm flex items-center"},{default:r((()=>[f(d,null,{default:r((()=>[j(w(e.name),1)])),_:2},1024),f(c,{class:"text-[26rpx] text-gray-subtitle"},{default:r((()=>[j(w(b(A)(e.mobile)),1)])),_:2},1024),1==e.is_default?(s(),l(d,{key:0,class:"bg-primary text-white text-xs px-[10rpx] leading-none flex items-center h-[32rpx] ml-[10rpx] rounded min-w-[50rpx]"},{default:r((()=>[j(w(b(p)("default")),1)])),_:1})):_("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"]),f(c,{class:"nc-iconfont nc-icon-xiugaiV6xx shrink-0 text-[32rpx] p-[20rpx] pr-0",onClick:a=>{return t=e.id,void y({url:"/app/pages/member/address_edit",param:{id:t,source:H.value}});var t}},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])))),256)),o.value.length?_("v-if",!0):(s(),l(d,{key:0,class:"pt-[20vh]"},{default:r((()=>[f(F,{option:{tip:"暂无收货地址"}})])),_:1}))])),_:1})])),_:1}),f(R,{fixed:!0,safeAreaInsetBottom:!0,border:!1,zIndex:"99"},{default:r((()=>[f(d,{class:"p-[24rpx] pt-0 w-full"},{default:r((()=>[f(Q,{type:"primary",shape:"circle",text:b(p)("createAddress"),onClick:K},null,8,["text"])])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))}}}),[["__scopeId","data-v-6e778e36"]]);export{H as default};
